webpackJsonp([0],[
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(24);


/***/ },
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */,
/* 21 */,
/* 22 */,
/* 23 */,
/* 24 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var Booking = __webpack_require__(25)
	    ;
	
	__webpack_require__(106);
	
	$(function() {
	    (new Booking()).render('#app');
	});

/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var Q = __webpack_require__(26),
	    _ = __webpack_require__(30),
	    page = __webpack_require__(32),
	    $ = __webpack_require__(33)
	    ;
	
	var Form = __webpack_require__(34),
	    Booking = __webpack_require__(51),
	    Meta = __webpack_require__(68)
	    ;
	
	module.exports = Form.extend({
	    isolated: true,
	    template: __webpack_require__(71),
	
	    components: {
	        layout: __webpack_require__(72),
	        step1: __webpack_require__(79),
	        step2: __webpack_require__(88),
	        step3: __webpack_require__(95),
	        step4: __webpack_require__(103)
	    },
	
	    partials: {
	        'base-panel': __webpack_require__(105)
	    },
	
	    data: function() {
	        return {
	            meta: Meta.object
	        }
	    },
	
	    onconfig: function () {
	        Booking.fetch(this.get('id'))
	            .then(function (booking) {
	            return this.set('booking', booking); 
	            }.bind(this));
	    },
	    oncomplete:function(){
	        $('.ui.dropdown.currency').hide();
	       this.observe('booking.currency', function(cur) {
	            
	               
	                var cur=this.get('booking.currency');
	                //console.log(cur);
	                this.set('booking.currency',cur );
	                this.set('meta.display_currency',cur );
	                
	                this.update('meta');
	                //console.log( this.get('meta'));
	           
	        });
	      
	    },
	    onteardown: function() {
	        if (this.container) {
	            this.container.showPanel();
	        }
	    },
	
	    back: function(force) {
	        force = force || false;
	        if(false){
	            this.get('booking').activate(parseInt(this.get('booking.currentstep')) - 1);
	            return;
	        }
	
	        var url = '/b2c/flights',
	            cs = this.get('booking.clientSourceId'),
	            burl = this.get('booking.searchurl'),
	            params = [];
	        
	        if(burl) {
	            url = url + burl;
	        }
	        if (cs && cs > 1) {
	            params.push('cs=' + cs);
	        }
	
	        if (force) {
	            params.push('force=1');
	        }
	
	        if (params.length) {
	            url += '?' + params.join('&');
	        }
	
	        page(url);
	    },
	
	    back2: function() { this.back(true); },
	    setCurrencyBooking: function() { 
	        
	        var code=$('#currency1').val();
	        //console.log(code);
	        this.set('booking.currency', code);
	       // console.log(this.get('booking.currency'));
	        this.update('booking.currency');
	        },
	    mobileBack: function(force) {
	        force = force || false;
	
	        var url = '/b2c/flights',
	            cs = this.get('booking.clientSourceId'),
	            burl = this.get('booking.searchurl'),
	            params = [];
	        
	        if(burl) {
	            url = url + burl;
	        }
	        if (cs && cs > 1) {
	            params.push('cs=' + cs);
	        }
	
	        if (force) {
	            params.push('force=1');
	        }
	
	        if (params.length) {
	            url += '?' + params.join('&');
	        }
	
	        page(url);
	    }
	});

/***/ },
/* 26 */,
/* 27 */,
/* 28 */,
/* 29 */,
/* 30 */,
/* 31 */,
/* 32 */,
/* 33 */,
/* 34 */,
/* 35 */,
/* 36 */,
/* 37 */,
/* 38 */,
/* 39 */,
/* 40 */,
/* 41 */,
/* 42 */,
/* 43 */,
/* 44 */,
/* 45 */,
/* 46 */,
/* 47 */,
/* 48 */,
/* 49 */,
/* 50 */,
/* 51 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _ = __webpack_require__(30),
	        Q = __webpack_require__(26),
	        $ = __webpack_require__(33),
	        page = __webpack_require__(32),
	        screenShot = __webpack_require__(52)
	        ;
	
	var View = __webpack_require__(53),
	        Flight = __webpack_require__(54),
	        Dialog = __webpack_require__(66),
	        Meta = __webpack_require__(68)
	        ;
	
	var money = __webpack_require__(69);
	
	
	var step = {
	    submit: function (view, i) {
	        view.set('steps.' + i + '.submitting', true);
	        view.set('steps.' + i + '.errors', {});
	    },
	    complete: function (view, i) {
	        view.set('steps.' + i + '.submitting', false);
	    },
	    error: function (view, i, xhr) {
	
	        try {
	            var response = JSON.parse(xhr.responseText);
	
	            if (3 == response.code) {
	                view.set('error', response.message);
	
	                return;
	            }
	
	            if (4 == response.code) {
	                Dialog.open({
	                    header: 'Payment Failed',
	                    message: response.message,
	                    buttons: [
	                        ['Try Again', function () { }]
	                    ]
	                }, 1);
	
	                return;
	            }
	
	            if (5 == response.code) {
	                Dialog.open({
	                    header: 'Price Change Alert',
	                    message: '<div style="text-align: center">Sorry! The price for your booking has increased by <br>' + money(response.errors.priceDiff, meta.get('display_currency') + '</div>'),
	                    // message: '<div style="text-align: center">Sorry! The price for your booking has increased !<br> New price is ' + money(response.errors.price, meta.get('display_currency') + '</div>'),
	
	                    buttons: [
	                        ['Back to Search', function () {
	                                window.location.href = '/b2c/flights' + view.get('searchurl') + '?force=1';
	                            }],
	                        ['Continue', function () {
	                                window.location.href = '/b2c/booking/' + view.get('id') + '?_=' + _.now()
	                            }]
	                    ],
	                    closeButton: false
	                }, 2);
	
	                return;
	            }
	
	            if (response.errors) {
	                view.set('steps.' + i + '.errors', response.errors);
	            } else {
	                if (response.message) {
	                    view.set('steps.' + i + '.errors', [response.message]);
	                }
	            }
	
	
	        } catch (e) {
	            view.set('steps.' + i + '.errors', ['Server returned error. Please try again later']);
	        }
	    }
	};
	
	var doPay = function (data) {
	    var form;
	    form = $('<form />', {
	        id: 'tmpForm',
	        action: data.url,
	        method: 'POST',
	        style: 'display: none;'
	    });
	    var input = data.data;
	
	    if (typeof input !== 'undefined' && input !== null) {
	        $.each(input, function (name, value) {
	            if (value !== null) {
	                $('<input />', {
	                    type: 'hidden',
	                    name: name,
	                    value: value
	                }).appendTo(form);
	            }
	        });
	    }
	
	    form.appendTo('body').submit();
	};
	
	var checkUpiStatus = function (data, view) {
	    var response = data.data;
	    if (response.status == 'SUCCESS' && response.orderId) {
	        var timer = 0;
	        var timerID = setInterval(function () {
	            if (timer == (60 * 1000 * 11)) {
	                step.complete(view, 3);
	                clearInterval(timerID);
	                $('#message').html('Transaction timed out.Please try again later.');
	                return false;
	            }
	
	            $.ajax({
	                //timeout: 60000,
	                type: 'POST',
	                url: '/b2c/booking/hdfcUPI',
	                data: {'orderId': response.orderId},
	                dataType: 'json',
	                complete: function () {
	
	                },
	                success: function (response) {
	                    if (response.data.status != 'PENDING') {
	                        clearInterval(timerID);
	                        window.location.href = '/payGate/upiView/orderId/' + response.data.orderId;
	                    } 
	
	                    timer += 10000;
	                },
	                error: function (xhr) {
	                    clearInterval(timerID);
	                    step.complete(view, 3);
	                    step.error(view, 3, xhr);
	                    
	                }
	            });
	
	        }, 10000);
	    }
	};
	
	var upiPaymentResponse = function (data, view) {
	    var response = data.data;
	
	    if (response.status == 'FAILED') {
	        step.complete(view, 3);
	        Dialog.open({
	            header: 'Transaction Alert',
	            message: '<div style="text-align: center">' + response.message + '</div>',
	
	            buttons: [
	                ['Back to Search', function () {
	                        window.location.href = '/b2c/flights' + view.get('searchurl') + '?force=1';
	                    }]
	            ],
	            closeButton: false
	        }, 2);
	
	        return;
	    } else if (response.status == 'SUCCESS') {
	        var message = "<div style='font-size:16px;'>We have sent payment notification to your mobile device.<br/>Please complete the transaction using your mobile.</div>";
	        $('.wait_text').html(message);
	        checkUpiStatus(data, view);
	    }
	};
	var meta = null;
	var Booking = View.extend({
	    canvas: null,
	    data: function () {
	        return {
	            isBooked: function (bs) {
	                return bs == 8 || bs == 9 || bs == 10 || bs == 11;
	            },
	            inProcess: function (bs) {
	                return !(bs == 8 || bs == 9 || bs == 10 || bs == 11) && !(bs == 1);
	            },
	            isNew: function (bs) {
	                return 1 == bs;
	            }
	        };
	    },
	    computed: {
	        price: function () {
	            return _.reduce(this.get('flights'), function (result, i) {
	                return result + i.get('price');
	            }, 0);
	        }
	    },
	    onconfig: function () {
	        if (this.get('steps.4.active') && !this.get('booking.aircart_id')) {
	            this.step4();
	        }
	
	        if (this.get('payment.error')) {
	            Dialog.open({
	                header: 'Payment Failed',
	                message: this.get('payment.error'),
	                buttons: [
	                    ['Try Again', function () { }]
	                ]
	            }, 1);
	        }
	
	        Meta.instance().then(function (i) {
	            meta = i;
	        });
	    },
	    activate: function (i) {
	        this.set('steps.*.active', false);
	        this.set('steps.' + i + '.active', true);
	
	        this.resetPayment();
	        //console.log('steps.' + i + '.active');
	    },
	    resetPayment: function () {
	        this.set('convfeeflag', false);
	        this.set('payment.cc', {});
	        this.set('payment.netbanking', {});
	        this.set('payment.wallet', {});
	        this.set('convenienceFee', 0);
	        window.prevCCType = undefined;
	        window.prevCardType = undefined;
	    },
	    captureScreenShot: function (view, i, callback) {
	        html2canvas($('body'), {
	            onrendered: function (_canvas) {
	                view.canvas = _canvas;
	                step.submit(view, i);
	                callback();
	            }
	        });
	    },
	    getCapturedImageData: function () {
	        var dataURL = null;
	        if (this.canvas !== null) {
	            dataURL = this.canvas.toDataURL("image/png");
	        }
	        return dataURL;
	    },
	    step1: function (stepview) {
	        var view = this,
	                deferred = Q.defer();
	        var callback = (function () {
	            $.ajax({
	                timeout: 60000,
	                type: 'POST',
	                url: '/b2c/booking/step1',
	                data: {id: view.get('id'), user: view.get('user'), imgData: view.getCapturedImageData()},
	                dataType: 'json',
	                complete: function () {
	                    step.complete(view, 1);
	                },
	                success: function (data) {
	                    if (data && data.id) {
	                        view.set('user.id', data.id);
	                        view.set('user.logged_in', data.logged_in);
	
	                        if (data.convenienceFee) {
	                            view.set('convenienceFee', data.convenienceFee)
	                        }
	
	                        view.set('steps.1.completed', true);
	                        view.activate(2);
	
	                        if (data.promo_remove === 1) {
	                            stepview.set('promoerror', null);
	                            stepview.set('promocode', null);
	                            stepview.set('promovalue', null);
	                            stepview.set('booking.promo_value', null);
	                            stepview.set('booking.promo_code', null);
	                        }
	                    }
	                },
	                error: function (xhr) {
	                    step.error(view, 1, xhr);
	                }
	            });
	        });
	        view.captureScreenShot(view, 1, callback);
	
	        return deferred.promise;
	    },
	    step2: function (o) {
	        var view = this,
	                deferred = Q.defer();
	
	        var callback = (function () {
	            $.ajax({
	                timeout: 60000,
	                type: 'POST',
	                url: '/b2c/booking/step2',
	                data: {id: view.get('id'), check: o && o.check ? 1 : 0, passengers: view.get('passengers'), 'scenario': view.get('passengerValidaton'), imgData: view.getCapturedImageData()},
	                dataType: 'json',
	                complete: function () {
	                    step.complete(view, 2);
	                },
	                success: function (data) {
	                    if (o && o.check) {
	                        alert(data);
	                        return;
	                    }
	
	                    if (data) {
	                        _.each(data, function (id, k) {
	                            view.set('passengers.' + k + '.traveler.id', id)
	                        });
	                        view.set('steps.2.completed', true);
	                        view.activate(3);
	                    }
	
	                    if (view.get('mobile')) {
	                        view.set('steps.2.completed', true);
	                        view.activate(3);
	                    }
	                    //console.log(view.get());
	                },
	                error: function (xhr) {
	                    step.error(view, 2, xhr);
	                }
	            })
	        });
	        view.captureScreenShot(view, 2, callback);
	
	        return deferred.promise;
	    },
	    step3: function () {
	        var view = this,
	                deferred = Q.defer(),
	                data = {id: this.get('id')},
	                payment = this.get('payment');
	
	        if (3 == payment.active) {
	            data.netbanking = this.get('payment.netbanking');
	            data.netbanking.category = 'netbanking';
	        } else if (4 == payment.active) {
	            data.wallet = this.get('payment.wallet');
	        } else if (5 == payment.active) {
	            data.CCAvenueEmi = this.get('payment.emi');
	            data.CCAvenueEmi.category = 'EMI';
	        } else if (6 == payment.active) {
	            data.UPI = payment.upi;
	            data.category = 'upi';
	        } else {
	            data.cc = this.get('payment.cc');
	            data.cc.store = data.cc.store ? 1 : 0;
	        }
	
	        var callback = (function () {
	            data.imgData = view.getCapturedImageData();
	            $.ajax({
	                timeout: 60000,
	                type: 'POST',
	                url: '/b2c/booking/step3',
	                data: data,
	                dataType: 'json',
	                complete: function () {
	
	                },
	                success: function (data) {
	                    if (data.url) {
	                        doPay(data);
	                    } else {
	                        upiPaymentResponse(data, view);
	                    }
	                },
	                error: function (xhr) {
	                    step.complete(view, 3);
	                    step.error(view, 3, xhr);
	                }
	            });
	        });
	        view.captureScreenShot(view, 3, callback);
	
	        return deferred.promise;
	    },
	    step4: function () {
	        var view = this,
	                deferred = Q.defer(),
	                data = {id: this.get('id')};
	
	
	        $.ajax({
	            // timeout: 20000,
	            type: 'POST',
	            url: '/b2c/booking/step4',
	            data: data,
	            dataType: 'json',
	            complete: function () {
	                //step.complete(view, 4);               
	            },
	            success: function (data) {
	                view.set('aircart_id', data.aircart_id);
	                view.set('aircart_status', data.aircart_status);
	                view.set('steps.4.completed', true);
	                if (data.callback_url !== '') {
	                    window.location.href = data.callback_url;
	                } else {
	                    setTimeout(function () {
	                        window.location.href = '/b2c/airCart/mybookings/' + view.get('aircart_id');
	                    }, 3000);
	                }
	
	            },
	            error: function (xhr) {
	                step.error(view, 4, xhr);
	            }
	        });
	
	
	        return deferred.promise;
	    },
	    isBooked: function (bs) {
	        return bs == 8 || bs == 9 || bs == 10 || bs == 11;
	    },
	    inProcess: function (br) {
	        return !(bs == 8 || bs == 9 || bs == 10 || bs == 11) && !(bs == 1);
	    },
	    isNew: function (br) {
	        return 1 == bs;
	    },
	    pymtConvFee: function (cat, sub_cat, bin_digits) {
	        var view = this,
	                disabled = false;
	        view.set('convfeeflag', false);
	        
	        $.ajax({
	            type: 'POST',
	            url: '/b2c/booking/pymtConvFee',
	            data: {id: view.get('id'), cs: view.get('clientSourceId'), pymt_cat: cat, pymt_sub_cat: sub_cat, bin_info: bin_digits},
	            beforeSend: function(xhr){
	                if(!$('.book_flight').is(":disabled")) {
	                    disabled = true;
	                    $('.book_flight').attr('disabled', 'disabled');
	                }
	                $('.loader_x').css("animation-play-state", "running");
	                $('.loader_x').show();
	            },
	            success: function (data) {
	                view.set('convenienceFee', data.pymtConvFee);
	                view.set('pcf_per_passenger', data.per_passenger);
	            },
	            complete: function() {
	                view.set('convfeeflag', true);
	                $('.loader_x').hide();
	                $('.loader_x').css("animation-play-state", "paused");
	                if(disabled) {
	                    $('.book_flight').removeAttr('disabled');
	                }
	            }
	        });
	    },
	    setCurrentStepForMobile: function (step) {
	        if (false) {
	            this.set('currentstep', step);
	        }
	    }
	});
	
	Booking.parse = function (data) {
	    var active = 1;
	
	    if (false) {
	        //if (data.user.mobile) {
	        //    data.user.mobile = data.user.country + data.user.mobile;
	        //}
	
	        data.payment.active = -1;
	
	        if (!data.user.email && window.localStorage && window.localStorage.getItem('booking_email')) {
	            data.user.email = window.localStorage.getItem('booking_email');
	            data.user.country = window.localStorage.getItem('booking_country');
	            data.user.mobile = window.localStorage.getItem('booking_mobile');
	        }
	    }
	
	    data.flights = _.map(data.flights, function (i) {
	        return Flight.parse(i);
	    });
	
	    if (data.user && data.user.id) {
	        data.steps[1].completed = true;
	        data.steps[1].active = false;
	        active = 2;
	    }
	
	    if (data.passengers[0].traveler.id) {
	        data.steps[2].completed = true;
	        data.steps[2].active = false;
	        active = 3;
	    }
	
	    if (data.payment.payment_id) {
	        data.steps[3].completed = true;
	        data.steps[3].active = false;
	        active = 4;
	    }
	
	    if (data.aircart_id) {
	        data.steps[4].completed = true;
	        active = 4;
	    }
	
	    data.steps[active].active = true;
	    //console.log('booking data');
	    //console.log(data);
	    return new Booking({data: data});
	
	};
	
	Booking.fetch = function (id) {
	    return Q.Promise(function (resolve, reject) {
	        $.getJSON('/b2c/booking/' + _.parseInt(id))
	                .done(function (data) {
	                    resolve(Booking.parse(data));
	                })
	                .fail(function (data) {
	                    reject();
	                });
	    });
	};
	
	Booking.create = function (flights, options) {
	    return Q.Promise(function (resolve, reject) {
	        $.ajax({
	            type: 'POST',
	            url: '/b2c/booking',
	            data: _.extend({flights: flights}, options || {}),
	            success: function (data) {
	                resolve(Booking.parse(data));
	            },
	            error: function (xhr) {
	                var response = JSON.parse(xhr.responseText);
	                if (7 === response.code) {
	                    Dialog.open({
	                        header: 'Invalid Search Result',
	                        message: '<div style="text-align: center">Sorry! ' + response.message + '</div>',
	                        buttons: [
	                            ['Back to Search', function () {
	                                    window.location.href = options.url + '?force';
	                                }]
	                        ]
	                    }, 1);
	                }
	            }
	        });
	    });
	};
	
	Booking.open = function (flights, options) {
	    Booking.create(flights, options)
	            .then(function (booking) {
	                window.location.href = '/b2c/booking/' + booking.get('id');
	            });
	};
	
	module.exports = Booking;


/***/ },
/* 52 */
/***/ function(module, exports) {

	/*
	  html2canvas 0.4.1 <http://html2canvas.hertzen.com>
	  Copyright (c) 2013 Niklas von Hertzen
	
	  Released under MIT License
	*/
	
	(function(window, document, undefined){
	
	"use strict";
	
	var _html2canvas = {},
	previousElement,
	computedCSS,
	html2canvas;
	
	_html2canvas.Util = {};
	
	_html2canvas.Util.log = function(a) {
	  if (_html2canvas.logging && window.console && window.console.log) {
	    window.console.log(a);
	  }
	};
	
	_html2canvas.Util.trimText = (function(isNative){
	  return function(input) {
	    return isNative ? isNative.apply(input) : ((input || '') + '').replace( /^\s+|\s+$/g , '' );
	  };
	})(String.prototype.trim);
	
	_html2canvas.Util.asFloat = function(v) {
	  return parseFloat(v);
	};
	
	(function() {
	  // TODO: support all possible length values
	  var TEXT_SHADOW_PROPERTY = /((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;
	  var TEXT_SHADOW_VALUES = /(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;
	  _html2canvas.Util.parseTextShadows = function (value) {
	    if (!value || value === 'none') {
	      return [];
	    }
	
	    // find multiple shadow declarations
	    var shadows = value.match(TEXT_SHADOW_PROPERTY),
	      results = [];
	    for (var i = 0; shadows && (i < shadows.length); i++) {
	      var s = shadows[i].match(TEXT_SHADOW_VALUES);
	      results.push({
	        color: s[0],
	        offsetX: s[1] ? s[1].replace('px', '') : 0,
	        offsetY: s[2] ? s[2].replace('px', '') : 0,
	        blur: s[3] ? s[3].replace('px', '') : 0
	      });
	    }
	    return results;
	  };
	})();
	
	
	_html2canvas.Util.parseBackgroundImage = function (value) {
	    var whitespace = ' \r\n\t',
	        method, definition, prefix, prefix_i, block, results = [],
	        c, mode = 0, numParen = 0, quote, args;
	
	    var appendResult = function(){
	        if(method) {
	            if(definition.substr( 0, 1 ) === '"') {
	                definition = definition.substr( 1, definition.length - 2 );
	            }
	            if(definition) {
	                args.push(definition);
	            }
	            if(method.substr( 0, 1 ) === '-' &&
	                    (prefix_i = method.indexOf( '-', 1 ) + 1) > 0) {
	                prefix = method.substr( 0, prefix_i);
	                method = method.substr( prefix_i );
	            }
	            results.push({
	                prefix: prefix,
	                method: method.toLowerCase(),
	                value: block,
	                args: args
	            });
	        }
	        args = []; //for some odd reason, setting .length = 0 didn't work in safari
	        method =
	            prefix =
	            definition =
	            block = '';
	    };
	
	    appendResult();
	    for(var i = 0, ii = value.length; i<ii; i++) {
	        c = value[i];
	        if(mode === 0 && whitespace.indexOf( c ) > -1){
	            continue;
	        }
	        switch(c) {
	            case '"':
	                if(!quote) {
	                    quote = c;
	                }
	                else if(quote === c) {
	                    quote = null;
	                }
	                break;
	
	            case '(':
	                if(quote) { break; }
	                else if(mode === 0) {
	                    mode = 1;
	                    block += c;
	                    continue;
	                } else {
	                    numParen++;
	                }
	                break;
	
	            case ')':
	                if(quote) { break; }
	                else if(mode === 1) {
	                    if(numParen === 0) {
	                        mode = 0;
	                        block += c;
	                        appendResult();
	                        continue;
	                    } else {
	                        numParen--;
	                    }
	                }
	                break;
	
	            case ',':
	                if(quote) { break; }
	                else if(mode === 0) {
	                    appendResult();
	                    continue;
	                }
	                else if (mode === 1) {
	                    if(numParen === 0 && !method.match(/^url$/i)) {
	                        args.push(definition);
	                        definition = '';
	                        block += c;
	                        continue;
	                    }
	                }
	                break;
	        }
	
	        block += c;
	        if(mode === 0) { method += c; }
	        else { definition += c; }
	    }
	    appendResult();
	
	    return results;
	};
	
	_html2canvas.Util.Bounds = function (element) {
	  var clientRect, bounds = {};
	
	  if (element.getBoundingClientRect){
	    clientRect = element.getBoundingClientRect();
	
	    // TODO add scroll position to bounds, so no scrolling of window necessary
	    bounds.top = clientRect.top;
	    bounds.bottom = clientRect.bottom || (clientRect.top + clientRect.height);
	    bounds.left = clientRect.left;
	
	    bounds.width = element.offsetWidth;
	    bounds.height = element.offsetHeight;
	  }
	
	  return bounds;
	};
	
	// TODO ideally, we'd want everything to go through this function instead of Util.Bounds,
	// but would require further work to calculate the correct positions for elements with offsetParents
	_html2canvas.Util.OffsetBounds = function (element) {
	  var parent = element.offsetParent ? _html2canvas.Util.OffsetBounds(element.offsetParent) : {top: 0, left: 0};
	
	  return {
	    top: element.offsetTop + parent.top,
	    bottom: element.offsetTop + element.offsetHeight + parent.top,
	    left: element.offsetLeft + parent.left,
	    width: element.offsetWidth,
	    height: element.offsetHeight
	  };
	};
	
	function toPX(element, attribute, value ) {
	    var rsLeft = element.runtimeStyle && element.runtimeStyle[attribute],
	        left,
	        style = element.style;
	
	    // Check if we are not dealing with pixels, (Opera has issues with this)
	    // Ported from jQuery css.js
	    // From the awesome hack by Dean Edwards
	    // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291
	
	    // If we're not dealing with a regular pixel number
	    // but a number that has a weird ending, we need to convert it to pixels
	
	    if ( !/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test( value ) && /^-?\d/.test(value) ) {
	        // Remember the original values
	        left = style.left;
	
	        // Put in the new values to get a computed value out
	        if (rsLeft) {
	            element.runtimeStyle.left = element.currentStyle.left;
	        }
	        style.left = attribute === "fontSize" ? "1em" : (value || 0);
	        value = style.pixelLeft + "px";
	
	        // Revert the changed values
	        style.left = left;
	        if (rsLeft) {
	            element.runtimeStyle.left = rsLeft;
	        }
	    }
	
	    if (!/^(thin|medium|thick)$/i.test(value)) {
	        return Math.round(parseFloat(value)) + "px";
	    }
	
	    return value;
	}
	
	function asInt(val) {
	    return parseInt(val, 10);
	}
	
	function parseBackgroundSizePosition(value, element, attribute, index) {
	    value = (value || '').split(',');
	    value = value[index || 0] || value[0] || 'auto';
	    value = _html2canvas.Util.trimText(value).split(' ');
	
	    if(attribute === 'backgroundSize' && (!value[0] || value[0].match(/cover|contain|auto/))) {
	        //these values will be handled in the parent function
	    } else {
	        value[0] = (value[0].indexOf( "%" ) === -1) ? toPX(element, attribute + "X", value[0]) : value[0];
	        if(value[1] === undefined) {
	            if(attribute === 'backgroundSize') {
	                value[1] = 'auto';
	                return value;
	            } else {
	                // IE 9 doesn't return double digit always
	                value[1] = value[0];
	            }
	        }
	        value[1] = (value[1].indexOf("%") === -1) ? toPX(element, attribute + "Y", value[1]) : value[1];
	    }
	    return value;
	}
	
	_html2canvas.Util.getCSS = function (element, attribute, index) {
	    if (previousElement !== element) {
	      computedCSS = document.defaultView.getComputedStyle(element, null);
	    }
	
	    var value = computedCSS[attribute];
	
	    if (/^background(Size|Position)$/.test(attribute)) {
	        return parseBackgroundSizePosition(value, element, attribute, index);
	    } else if (/border(Top|Bottom)(Left|Right)Radius/.test(attribute)) {
	      var arr = value.split(" ");
	      if (arr.length <= 1) {
	          arr[1] = arr[0];
	      }
	      return arr.map(asInt);
	    }
	
	  return value;
	};
	
	_html2canvas.Util.resizeBounds = function( current_width, current_height, target_width, target_height, stretch_mode ){
	  var target_ratio = target_width / target_height,
	    current_ratio = current_width / current_height,
	    output_width, output_height;
	
	  if(!stretch_mode || stretch_mode === 'auto') {
	    output_width = target_width;
	    output_height = target_height;
	  } else if(target_ratio < current_ratio ^ stretch_mode === 'contain') {
	    output_height = target_height;
	    output_width = target_height * current_ratio;
	  } else {
	    output_width = target_width;
	    output_height = target_width / current_ratio;
	  }
	
	  return {
	    width: output_width,
	    height: output_height
	  };
	};
	
	function backgroundBoundsFactory( prop, el, bounds, image, imageIndex, backgroundSize ) {
	    var bgposition =  _html2canvas.Util.getCSS( el, prop, imageIndex ) ,
	    topPos,
	    left,
	    percentage,
	    val;
	
	    if (bgposition.length === 1){
	      val = bgposition[0];
	
	      bgposition = [];
	
	      bgposition[0] = val;
	      bgposition[1] = val;
	    }
	
	    if (bgposition[0].toString().indexOf("%") !== -1){
	      percentage = (parseFloat(bgposition[0])/100);
	      left = bounds.width * percentage;
	      if(prop !== 'backgroundSize') {
	        left -= (backgroundSize || image).width*percentage;
	      }
	    } else {
	      if(prop === 'backgroundSize') {
	        if(bgposition[0] === 'auto') {
	          left = image.width;
	        } else {
	          if (/contain|cover/.test(bgposition[0])) {
	            var resized = _html2canvas.Util.resizeBounds(image.width, image.height, bounds.width, bounds.height, bgposition[0]);
	            left = resized.width;
	            topPos = resized.height;
	          } else {
	            left = parseInt(bgposition[0], 10);
	          }
	        }
	      } else {
	        left = parseInt( bgposition[0], 10);
	      }
	    }
	
	
	    if(bgposition[1] === 'auto') {
	      topPos = left / image.width * image.height;
	    } else if (bgposition[1].toString().indexOf("%") !== -1){
	      percentage = (parseFloat(bgposition[1])/100);
	      topPos =  bounds.height * percentage;
	      if(prop !== 'backgroundSize') {
	        topPos -= (backgroundSize || image).height * percentage;
	      }
	
	    } else {
	      topPos = parseInt(bgposition[1],10);
	    }
	
	    return [left, topPos];
	}
	
	_html2canvas.Util.BackgroundPosition = function( el, bounds, image, imageIndex, backgroundSize ) {
	    var result = backgroundBoundsFactory( 'backgroundPosition', el, bounds, image, imageIndex, backgroundSize );
	    return { left: result[0], top: result[1] };
	};
	
	_html2canvas.Util.BackgroundSize = function( el, bounds, image, imageIndex ) {
	    var result = backgroundBoundsFactory( 'backgroundSize', el, bounds, image, imageIndex );
	    return { width: result[0], height: result[1] };
	};
	
	_html2canvas.Util.Extend = function (options, defaults) {
	  for (var key in options) {
	    if (options.hasOwnProperty(key)) {
	      defaults[key] = options[key];
	    }
	  }
	  return defaults;
	};
	
	
	/*
	 * Derived from jQuery.contents()
	 * Copyright 2010, John Resig
	 * Dual licensed under the MIT or GPL Version 2 licenses.
	 * http://jquery.org/license
	 */
	_html2canvas.Util.Children = function( elem ) {
	  var children;
	  try {
	    children = (elem.nodeName && elem.nodeName.toUpperCase() === "IFRAME") ? elem.contentDocument || elem.contentWindow.document : (function(array) {
	      var ret = [];
	      if (array !== null) {
	        (function(first, second ) {
	          var i = first.length,
	          j = 0;
	
	          if (typeof second.length === "number") {
	            for (var l = second.length; j < l; j++) {
	              first[i++] = second[j];
	            }
	          } else {
	            while (second[j] !== undefined) {
	              first[i++] = second[j++];
	            }
	          }
	
	          first.length = i;
	
	          return first;
	        })(ret, array);
	      }
	      return ret;
	    })(elem.childNodes);
	
	  } catch (ex) {
	    _html2canvas.Util.log("html2canvas.Util.Children failed with exception: " + ex.message);
	    children = [];
	  }
	  return children;
	};
	
	_html2canvas.Util.isTransparent = function(backgroundColor) {
	  return (backgroundColor === "transparent" || backgroundColor === "rgba(0, 0, 0, 0)");
	};
	_html2canvas.Util.Font = (function () {
	
	  var fontData = {};
	
	  return function(font, fontSize, doc) {
	    if (fontData[font + "-" + fontSize] !== undefined) {
	      return fontData[font + "-" + fontSize];
	    }
	
	    var container = doc.createElement('div'),
	    img = doc.createElement('img'),
	    span = doc.createElement('span'),
	    sampleText = 'Hidden Text',
	    baseline,
	    middle,
	    metricsObj;
	
	    container.style.visibility = "hidden";
	    container.style.fontFamily = font;
	    container.style.fontSize = fontSize;
	    container.style.margin = 0;
	    container.style.padding = 0;
	
	    doc.body.appendChild(container);
	
	    // http://probablyprogramming.com/2009/03/15/the-tiniest-gif-ever (handtinywhite.gif)
	    img.src = "data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=";
	    img.width = 1;
	    img.height = 1;
	
	    img.style.margin = 0;
	    img.style.padding = 0;
	    img.style.verticalAlign = "baseline";
	
	    span.style.fontFamily = font;
	    span.style.fontSize = fontSize;
	    span.style.margin = 0;
	    span.style.padding = 0;
	
	    span.appendChild(doc.createTextNode(sampleText));
	    container.appendChild(span);
	    container.appendChild(img);
	    baseline = (img.offsetTop - span.offsetTop) + 1;
	
	    container.removeChild(span);
	    container.appendChild(doc.createTextNode(sampleText));
	
	    container.style.lineHeight = "normal";
	    img.style.verticalAlign = "super";
	
	    middle = (img.offsetTop-container.offsetTop) + 1;
	    metricsObj = {
	      baseline: baseline,
	      lineWidth: 1,
	      middle: middle
	    };
	
	    fontData[font + "-" + fontSize] = metricsObj;
	
	    doc.body.removeChild(container);
	
	    return metricsObj;
	  };
	})();
	
	(function(){
	  var Util = _html2canvas.Util,
	    Generate = {};
	
	  _html2canvas.Generate = Generate;
	
	  var reGradients = [
	  /^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,
	  /^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,
	  /^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,
	  /^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,
	  /^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,
	  /^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,
	  /^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/
	  ];
	
	  /*
	 * TODO: Add IE10 vendor prefix (-ms) support
	 * TODO: Add W3C gradient (linear-gradient) support
	 * TODO: Add old Webkit -webkit-gradient(radial, ...) support
	 * TODO: Maybe some RegExp optimizations are possible ;o)
	 */
	  Generate.parseGradient = function(css, bounds) {
	    var gradient, i, len = reGradients.length, m1, stop, m2, m2Len, step, m3, tl,tr,br,bl;
	
	    for(i = 0; i < len; i+=1){
	      m1 = css.match(reGradients[i]);
	      if(m1) {
	        break;
	      }
	    }
	
	    if(m1) {
	      switch(m1[1]) {
	        case '-webkit-linear-gradient':
	        case '-o-linear-gradient':
	
	          gradient = {
	            type: 'linear',
	            x0: null,
	            y0: null,
	            x1: null,
	            y1: null,
	            colorStops: []
	          };
	
	          // get coordinates
	          m2 = m1[2].match(/\w+/g);
	          if(m2){
	            m2Len = m2.length;
	            for(i = 0; i < m2Len; i+=1){
	              switch(m2[i]) {
	                case 'top':
	                  gradient.y0 = 0;
	                  gradient.y1 = bounds.height;
	                  break;
	
	                case 'right':
	                  gradient.x0 = bounds.width;
	                  gradient.x1 = 0;
	                  break;
	
	                case 'bottom':
	                  gradient.y0 = bounds.height;
	                  gradient.y1 = 0;
	                  break;
	
	                case 'left':
	                  gradient.x0 = 0;
	                  gradient.x1 = bounds.width;
	                  break;
	              }
	            }
	          }
	          if(gradient.x0 === null && gradient.x1 === null){ // center
	            gradient.x0 = gradient.x1 = bounds.width / 2;
	          }
	          if(gradient.y0 === null && gradient.y1 === null){ // center
	            gradient.y0 = gradient.y1 = bounds.height / 2;
	          }
	
	          // get colors and stops
	          m2 = m1[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);
	          if(m2){
	            m2Len = m2.length;
	            step = 1 / Math.max(m2Len - 1, 1);
	            for(i = 0; i < m2Len; i+=1){
	              m3 = m2[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);
	              if(m3[2]){
	                stop = parseFloat(m3[2]);
	                if(m3[3] === '%'){
	                  stop /= 100;
	                } else { // px - stupid opera
	                  stop /= bounds.width;
	                }
	              } else {
	                stop = i * step;
	              }
	              gradient.colorStops.push({
	                color: m3[1],
	                stop: stop
	              });
	            }
	          }
	          break;
	
	        case '-webkit-gradient':
	
	          gradient = {
	            type: m1[2] === 'radial' ? 'circle' : m1[2], // TODO: Add radial gradient support for older mozilla definitions
	            x0: 0,
	            y0: 0,
	            x1: 0,
	            y1: 0,
	            colorStops: []
	          };
	
	          // get coordinates
	          m2 = m1[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/);
	          if(m2){
	            gradient.x0 = (m2[1] * bounds.width) / 100;
	            gradient.y0 = (m2[2] * bounds.height) / 100;
	            gradient.x1 = (m2[3] * bounds.width) / 100;
	            gradient.y1 = (m2[4] * bounds.height) / 100;
	          }
	
	          // get colors and stops
	          m2 = m1[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g);
	          if(m2){
	            m2Len = m2.length;
	            for(i = 0; i < m2Len; i+=1){
	              m3 = m2[i].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/);
	              stop = parseFloat(m3[2]);
	              if(m3[1] === 'from') {
	                stop = 0.0;
	              }
	              if(m3[1] === 'to') {
	                stop = 1.0;
	              }
	              gradient.colorStops.push({
	                color: m3[3],
	                stop: stop
	              });
	            }
	          }
	          break;
	
	        case '-moz-linear-gradient':
	
	          gradient = {
	            type: 'linear',
	            x0: 0,
	            y0: 0,
	            x1: 0,
	            y1: 0,
	            colorStops: []
	          };
	
	          // get coordinates
	          m2 = m1[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);
	
	          // m2[1] == 0%   -> left
	          // m2[1] == 50%  -> center
	          // m2[1] == 100% -> right
	
	          // m2[2] == 0%   -> top
	          // m2[2] == 50%  -> center
	          // m2[2] == 100% -> bottom
	
	          if(m2){
	            gradient.x0 = (m2[1] * bounds.width) / 100;
	            gradient.y0 = (m2[2] * bounds.height) / 100;
	            gradient.x1 = bounds.width - gradient.x0;
	            gradient.y1 = bounds.height - gradient.y0;
	          }
	
	          // get colors and stops
	          m2 = m1[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g);
	          if(m2){
	            m2Len = m2.length;
	            step = 1 / Math.max(m2Len - 1, 1);
	            for(i = 0; i < m2Len; i+=1){
	              m3 = m2[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/);
	              if(m3[2]){
	                stop = parseFloat(m3[2]);
	                if(m3[3]){ // percentage
	                  stop /= 100;
	                }
	              } else {
	                stop = i * step;
	              }
	              gradient.colorStops.push({
	                color: m3[1],
	                stop: stop
	              });
	            }
	          }
	          break;
	
	        case '-webkit-radial-gradient':
	        case '-moz-radial-gradient':
	        case '-o-radial-gradient':
	
	          gradient = {
	            type: 'circle',
	            x0: 0,
	            y0: 0,
	            x1: bounds.width,
	            y1: bounds.height,
	            cx: 0,
	            cy: 0,
	            rx: 0,
	            ry: 0,
	            colorStops: []
	          };
	
	          // center
	          m2 = m1[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);
	          if(m2){
	            gradient.cx = (m2[1] * bounds.width) / 100;
	            gradient.cy = (m2[2] * bounds.height) / 100;
	          }
	
	          // size
	          m2 = m1[3].match(/\w+/);
	          m3 = m1[4].match(/[a-z\-]*/);
	          if(m2 && m3){
	            switch(m3[0]){
	              case 'farthest-corner':
	              case 'cover': // is equivalent to farthest-corner
	              case '': // mozilla removes "cover" from definition :(
	                tl = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.cy, 2));
	                tr = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));
	                br = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));
	                bl = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.cy, 2));
	                gradient.rx = gradient.ry = Math.max(tl, tr, br, bl);
	                break;
	              case 'closest-corner':
	                tl = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.cy, 2));
	                tr = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));
	                br = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));
	                bl = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.cy, 2));
	                gradient.rx = gradient.ry = Math.min(tl, tr, br, bl);
	                break;
	              case 'farthest-side':
	                if(m2[0] === 'circle'){
	                  gradient.rx = gradient.ry = Math.max(
	                    gradient.cx,
	                    gradient.cy,
	                    gradient.x1 - gradient.cx,
	                    gradient.y1 - gradient.cy
	                    );
	                } else { // ellipse
	
	                  gradient.type = m2[0];
	
	                  gradient.rx = Math.max(
	                    gradient.cx,
	                    gradient.x1 - gradient.cx
	                    );
	                  gradient.ry = Math.max(
	                    gradient.cy,
	                    gradient.y1 - gradient.cy
	                    );
	                }
	                break;
	              case 'closest-side':
	              case 'contain': // is equivalent to closest-side
	                if(m2[0] === 'circle'){
	                  gradient.rx = gradient.ry = Math.min(
	                    gradient.cx,
	                    gradient.cy,
	                    gradient.x1 - gradient.cx,
	                    gradient.y1 - gradient.cy
	                    );
	                } else { // ellipse
	
	                  gradient.type = m2[0];
	
	                  gradient.rx = Math.min(
	                    gradient.cx,
	                    gradient.x1 - gradient.cx
	                    );
	                  gradient.ry = Math.min(
	                    gradient.cy,
	                    gradient.y1 - gradient.cy
	                    );
	                }
	                break;
	
	            // TODO: add support for "30px 40px" sizes (webkit only)
	            }
	          }
	
	          // color stops
	          m2 = m1[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);
	          if(m2){
	            m2Len = m2.length;
	            step = 1 / Math.max(m2Len - 1, 1);
	            for(i = 0; i < m2Len; i+=1){
	              m3 = m2[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);
	              if(m3[2]){
	                stop = parseFloat(m3[2]);
	                if(m3[3] === '%'){
	                  stop /= 100;
	                } else { // px - stupid opera
	                  stop /= bounds.width;
	                }
	              } else {
	                stop = i * step;
	              }
	              gradient.colorStops.push({
	                color: m3[1],
	                stop: stop
	              });
	            }
	          }
	          break;
	      }
	    }
	
	    return gradient;
	  };
	
	  function addScrollStops(grad) {
	    return function(colorStop) {
	      try {
	        grad.addColorStop(colorStop.stop, colorStop.color);
	      }
	      catch(e) {
	        Util.log(['failed to add color stop: ', e, '; tried to add: ', colorStop]);
	      }
	    };
	  }
	
	  Generate.Gradient = function(src, bounds) {
	    if(bounds.width === 0 || bounds.height === 0) {
	      return;
	    }
	
	    var canvas = document.createElement('canvas'),
	    ctx = canvas.getContext('2d'),
	    gradient, grad;
	
	    canvas.width = bounds.width;
	    canvas.height = bounds.height;
	
	    // TODO: add support for multi defined background gradients
	    gradient = _html2canvas.Generate.parseGradient(src, bounds);
	
	    if(gradient) {
	      switch(gradient.type) {
	        case 'linear':
	          grad = ctx.createLinearGradient(gradient.x0, gradient.y0, gradient.x1, gradient.y1);
	          gradient.colorStops.forEach(addScrollStops(grad));
	          ctx.fillStyle = grad;
	          ctx.fillRect(0, 0, bounds.width, bounds.height);
	          break;
	
	        case 'circle':
	          grad = ctx.createRadialGradient(gradient.cx, gradient.cy, 0, gradient.cx, gradient.cy, gradient.rx);
	          gradient.colorStops.forEach(addScrollStops(grad));
	          ctx.fillStyle = grad;
	          ctx.fillRect(0, 0, bounds.width, bounds.height);
	          break;
	
	        case 'ellipse':
	          var canvasRadial = document.createElement('canvas'),
	            ctxRadial = canvasRadial.getContext('2d'),
	            ri = Math.max(gradient.rx, gradient.ry),
	            di = ri * 2;
	
	          canvasRadial.width = canvasRadial.height = di;
	
	          grad = ctxRadial.createRadialGradient(gradient.rx, gradient.ry, 0, gradient.rx, gradient.ry, ri);
	          gradient.colorStops.forEach(addScrollStops(grad));
	
	          ctxRadial.fillStyle = grad;
	          ctxRadial.fillRect(0, 0, di, di);
	
	          ctx.fillStyle = gradient.colorStops[gradient.colorStops.length - 1].color;
	          ctx.fillRect(0, 0, canvas.width, canvas.height);
	          ctx.drawImage(canvasRadial, gradient.cx - gradient.rx, gradient.cy - gradient.ry, 2 * gradient.rx, 2 * gradient.ry);
	          break;
	      }
	    }
	
	    return canvas;
	  };
	
	  Generate.ListAlpha = function(number) {
	    var tmp = "",
	    modulus;
	
	    do {
	      modulus = number % 26;
	      tmp = String.fromCharCode((modulus) + 64) + tmp;
	      number = number / 26;
	    }while((number*26) > 26);
	
	    return tmp;
	  };
	
	  Generate.ListRoman = function(number) {
	    var romanArray = ["M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"],
	    decimal = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],
	    roman = "",
	    v,
	    len = romanArray.length;
	
	    if (number <= 0 || number >= 4000) {
	      return number;
	    }
	
	    for (v=0; v < len; v+=1) {
	      while (number >= decimal[v]) {
	        number -= decimal[v];
	        roman += romanArray[v];
	      }
	    }
	
	    return roman;
	  };
	})();
	function h2cRenderContext(width, height) {
	  var storage = [];
	  return {
	    storage: storage,
	    width: width,
	    height: height,
	    clip: function() {
	      storage.push({
	        type: "function",
	        name: "clip",
	        'arguments': arguments
	      });
	    },
	    translate: function() {
	      storage.push({
	        type: "function",
	        name: "translate",
	        'arguments': arguments
	      });
	    },
	    fill: function() {
	      storage.push({
	        type: "function",
	        name: "fill",
	        'arguments': arguments
	      });
	    },
	    save: function() {
	      storage.push({
	        type: "function",
	        name: "save",
	        'arguments': arguments
	      });
	    },
	    restore: function() {
	      storage.push({
	        type: "function",
	        name: "restore",
	        'arguments': arguments
	      });
	    },
	    fillRect: function () {
	      storage.push({
	        type: "function",
	        name: "fillRect",
	        'arguments': arguments
	      });
	    },
	    createPattern: function() {
	      storage.push({
	        type: "function",
	        name: "createPattern",
	        'arguments': arguments
	      });
	    },
	    drawShape: function() {
	
	      var shape = [];
	
	      storage.push({
	        type: "function",
	        name: "drawShape",
	        'arguments': shape
	      });
	
	      return {
	        moveTo: function() {
	          shape.push({
	            name: "moveTo",
	            'arguments': arguments
	          });
	        },
	        lineTo: function() {
	          shape.push({
	            name: "lineTo",
	            'arguments': arguments
	          });
	        },
	        arcTo: function() {
	          shape.push({
	            name: "arcTo",
	            'arguments': arguments
	          });
	        },
	        bezierCurveTo: function() {
	          shape.push({
	            name: "bezierCurveTo",
	            'arguments': arguments
	          });
	        },
	        quadraticCurveTo: function() {
	          shape.push({
	            name: "quadraticCurveTo",
	            'arguments': arguments
	          });
	        }
	      };
	
	    },
	    drawImage: function () {
	      storage.push({
	        type: "function",
	        name: "drawImage",
	        'arguments': arguments
	      });
	    },
	    fillText: function () {
	      storage.push({
	        type: "function",
	        name: "fillText",
	        'arguments': arguments
	      });
	    },
	    setVariable: function (variable, value) {
	      storage.push({
	        type: "variable",
	        name: variable,
	        'arguments': value
	      });
	      return value;
	    }
	  };
	}
	_html2canvas.Parse = function (images, options) {
	  window.scroll(0,0);
	
	  var element = (( options.elements === undefined ) ? document.body : options.elements[0]), // select body by default
	  numDraws = 0,
	  doc = element.ownerDocument,
	  Util = _html2canvas.Util,
	  support = Util.Support(options, doc),
	  ignoreElementsRegExp = new RegExp("(" + options.ignoreElements + ")"),
	  body = doc.body,
	  getCSS = Util.getCSS,
	  pseudoHide = "___html2canvas___pseudoelement",
	  hidePseudoElements = doc.createElement('style');
	
	  hidePseudoElements.innerHTML = '.' + pseudoHide + '-before:before { content: "" !important; display: none !important; }' +
	  '.' + pseudoHide + '-after:after { content: "" !important; display: none !important; }';
	
	  body.appendChild(hidePseudoElements);
	
	  images = images || {};
	
	  function documentWidth () {
	    return Math.max(
	      Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth),
	      Math.max(doc.body.offsetWidth, doc.documentElement.offsetWidth),
	      Math.max(doc.body.clientWidth, doc.documentElement.clientWidth)
	      );
	  }
	
	  function documentHeight () {
	    return Math.max(
	      Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight),
	      Math.max(doc.body.offsetHeight, doc.documentElement.offsetHeight),
	      Math.max(doc.body.clientHeight, doc.documentElement.clientHeight)
	      );
	  }
	
	  function getCSSInt(element, attribute) {
	    var val = parseInt(getCSS(element, attribute), 10);
	    return (isNaN(val)) ? 0 : val; // borders in old IE are throwing 'medium' for demo.html
	  }
	
	  function renderRect (ctx, x, y, w, h, bgcolor) {
	    if (bgcolor !== "transparent"){
	      ctx.setVariable("fillStyle", bgcolor);
	      ctx.fillRect(x, y, w, h);
	      numDraws+=1;
	    }
	  }
	
	  function capitalize(m, p1, p2) {
	    if (m.length > 0) {
	      return p1 + p2.toUpperCase();
	    }
	  }
	
	  function textTransform (text, transform) {
	    switch(transform){
	      case "lowercase":
	        return text.toLowerCase();
	      case "capitalize":
	        return text.replace( /(^|\s|:|-|\(|\))([a-z])/g, capitalize);
	      case "uppercase":
	        return text.toUpperCase();
	      default:
	        return text;
	    }
	  }
	
	  function noLetterSpacing(letter_spacing) {
	    return (/^(normal|none|0px)$/.test(letter_spacing));
	  }
	
	  function drawText(currentText, x, y, ctx){
	    if (currentText !== null && Util.trimText(currentText).length > 0) {
	      ctx.fillText(currentText, x, y);
	      numDraws+=1;
	    }
	  }
	
	  function setTextVariables(ctx, el, text_decoration, color) {
	    var align = false,
	    bold = getCSS(el, "fontWeight"),
	    family = getCSS(el, "fontFamily"),
	    size = getCSS(el, "fontSize"),
	    shadows = Util.parseTextShadows(getCSS(el, "textShadow"));
	
	    switch(parseInt(bold, 10)){
	      case 401:
	        bold = "bold";
	        break;
	      case 400:
	        bold = "normal";
	        break;
	    }
	
	    ctx.setVariable("fillStyle", color);
	    ctx.setVariable("font", [getCSS(el, "fontStyle"), getCSS(el, "fontVariant"), bold, size, family].join(" "));
	    ctx.setVariable("textAlign", (align) ? "right" : "left");
	
	    if (shadows.length) {
	      // TODO: support multiple text shadows
	      // apply the first text shadow
	      ctx.setVariable("shadowColor", shadows[0].color);
	      ctx.setVariable("shadowOffsetX", shadows[0].offsetX);
	      ctx.setVariable("shadowOffsetY", shadows[0].offsetY);
	      ctx.setVariable("shadowBlur", shadows[0].blur);
	    }
	
	    if (text_decoration !== "none"){
	      return Util.Font(family, size, doc);
	    }
	  }
	
	  function renderTextDecoration(ctx, text_decoration, bounds, metrics, color) {
	    switch(text_decoration) {
	      case "underline":
	        // Draws a line at the baseline of the font
	        // TODO As some browsers display the line as more than 1px if the font-size is big, need to take that into account both in position and size
	        renderRect(ctx, bounds.left, Math.round(bounds.top + metrics.baseline + metrics.lineWidth), bounds.width, 1, color);
	        break;
	      case "overline":
	        renderRect(ctx, bounds.left, Math.round(bounds.top), bounds.width, 1, color);
	        break;
	      case "line-through":
	        // TODO try and find exact position for line-through
	        renderRect(ctx, bounds.left, Math.ceil(bounds.top + metrics.middle + metrics.lineWidth), bounds.width, 1, color);
	        break;
	    }
	  }
	
	  function getTextBounds(state, text, textDecoration, isLast, transform) {
	    var bounds;
	    if (support.rangeBounds && !transform) {
	      if (textDecoration !== "none" || Util.trimText(text).length !== 0) {
	        bounds = textRangeBounds(text, state.node, state.textOffset);
	      }
	      state.textOffset += text.length;
	    } else if (state.node && typeof state.node.nodeValue === "string" ){
	      var newTextNode = (isLast) ? state.node.splitText(text.length) : null;
	      bounds = textWrapperBounds(state.node, transform);
	      state.node = newTextNode;
	    }
	    return bounds;
	  }
	
	  function textRangeBounds(text, textNode, textOffset) {
	    var range = doc.createRange();
	    range.setStart(textNode, textOffset);
	    range.setEnd(textNode, textOffset + text.length);
	    return range.getBoundingClientRect();
	  }
	
	  function textWrapperBounds(oldTextNode, transform) {
	    var parent = oldTextNode.parentNode,
	    wrapElement = doc.createElement('wrapper'),
	    backupText = oldTextNode.cloneNode(true);
	
	    wrapElement.appendChild(oldTextNode.cloneNode(true));
	    parent.replaceChild(wrapElement, oldTextNode);
	
	    var bounds = transform ? Util.OffsetBounds(wrapElement) : Util.Bounds(wrapElement);
	    parent.replaceChild(backupText, wrapElement);
	    return bounds;
	  }
	
	  function renderText(el, textNode, stack) {
	    var ctx = stack.ctx,
	    color = getCSS(el, "color"),
	    textDecoration = getCSS(el, "textDecoration"),
	    textAlign = getCSS(el, "textAlign"),
	    metrics,
	    textList,
	    state = {
	      node: textNode,
	      textOffset: 0
	    };
	
	    if (Util.trimText(textNode.nodeValue).length > 0) {
	      textNode.nodeValue = textTransform(textNode.nodeValue, getCSS(el, "textTransform"));
	      textAlign = textAlign.replace(["-webkit-auto"],["auto"]);
	
	      textList = (!options.letterRendering && /^(left|right|justify|auto)$/.test(textAlign) && noLetterSpacing(getCSS(el, "letterSpacing"))) ?
	      textNode.nodeValue.split(/(\b| )/)
	      : textNode.nodeValue.split("");
	
	      metrics = setTextVariables(ctx, el, textDecoration, color);
	
	      if (options.chinese) {
	        textList.forEach(function(word, index) {
	          if (/.*[\u4E00-\u9FA5].*$/.test(word)) {
	            word = word.split("");
	            word.unshift(index, 1);
	            textList.splice.apply(textList, word);
	          }
	        });
	      }
	
	      textList.forEach(function(text, index) {
	        var bounds = getTextBounds(state, text, textDecoration, (index < textList.length - 1), stack.transform.matrix);
	        if (bounds) {
	          drawText(text, bounds.left, bounds.bottom, ctx);
	          renderTextDecoration(ctx, textDecoration, bounds, metrics, color);
	        }
	      });
	    }
	  }
	
	  function listPosition (element, val) {
	    var boundElement = doc.createElement( "boundelement" ),
	    originalType,
	    bounds;
	
	    boundElement.style.display = "inline";
	
	    originalType = element.style.listStyleType;
	    element.style.listStyleType = "none";
	
	    boundElement.appendChild(doc.createTextNode(val));
	
	    element.insertBefore(boundElement, element.firstChild);
	
	    bounds = Util.Bounds(boundElement);
	    element.removeChild(boundElement);
	    element.style.listStyleType = originalType;
	    return bounds;
	  }
	
	  function elementIndex(el) {
	    var i = -1,
	    count = 1,
	    childs = el.parentNode.childNodes;
	
	    if (el.parentNode) {
	      while(childs[++i] !== el) {
	        if (childs[i].nodeType === 1) {
	          count++;
	        }
	      }
	      return count;
	    } else {
	      return -1;
	    }
	  }
	
	  function listItemText(element, type) {
	    var currentIndex = elementIndex(element), text;
	    switch(type){
	      case "decimal":
	        text = currentIndex;
	        break;
	      case "decimal-leading-zero":
	        text = (currentIndex.toString().length === 1) ? currentIndex = "0" + currentIndex.toString() : currentIndex.toString();
	        break;
	      case "upper-roman":
	        text = _html2canvas.Generate.ListRoman( currentIndex );
	        break;
	      case "lower-roman":
	        text = _html2canvas.Generate.ListRoman( currentIndex ).toLowerCase();
	        break;
	      case "lower-alpha":
	        text = _html2canvas.Generate.ListAlpha( currentIndex ).toLowerCase();
	        break;
	      case "upper-alpha":
	        text = _html2canvas.Generate.ListAlpha( currentIndex );
	        break;
	    }
	
	    return text + ". ";
	  }
	
	  function renderListItem(element, stack, elBounds) {
	    var x,
	    text,
	    ctx = stack.ctx,
	    type = getCSS(element, "listStyleType"),
	    listBounds;
	
	    if (/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(type)) {
	      text = listItemText(element, type);
	      listBounds = listPosition(element, text);
	      setTextVariables(ctx, element, "none", getCSS(element, "color"));
	
	      if (getCSS(element, "listStylePosition") === "inside") {
	        ctx.setVariable("textAlign", "left");
	        x = elBounds.left;
	      } else {
	        return;
	      }
	
	      drawText(text, x, listBounds.bottom, ctx);
	    }
	  }
	
	  function loadImage (src){
	    var img = images[src];
	    return (img && img.succeeded === true) ? img.img : false;
	  }
	
	  function clipBounds(src, dst){
	    var x = Math.max(src.left, dst.left),
	    y = Math.max(src.top, dst.top),
	    x2 = Math.min((src.left + src.width), (dst.left + dst.width)),
	    y2 = Math.min((src.top + src.height), (dst.top + dst.height));
	
	    return {
	      left:x,
	      top:y,
	      width:x2-x,
	      height:y2-y
	    };
	  }
	
	  function setZ(element, stack, parentStack){
	    var newContext,
	    isPositioned = stack.cssPosition !== 'static',
	    zIndex = isPositioned ? getCSS(element, 'zIndex') : 'auto',
	    opacity = getCSS(element, 'opacity'),
	    isFloated = getCSS(element, 'cssFloat') !== 'none';
	
	    // https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Understanding_z_index/The_stacking_context
	    // When a new stacking context should be created:
	    // the root element (HTML),
	    // positioned (absolutely or relatively) with a z-index value other than "auto",
	    // elements with an opacity value less than 1. (See the specification for opacity),
	    // on mobile WebKit and Chrome 22+, position: fixed always creates a new stacking context, even when z-index is "auto" (See this post)
	
	    stack.zIndex = newContext = h2czContext(zIndex);
	    newContext.isPositioned = isPositioned;
	    newContext.isFloated = isFloated;
	    newContext.opacity = opacity;
	    newContext.ownStacking = (zIndex !== 'auto' || opacity < 1);
	
	    if (parentStack) {
	      parentStack.zIndex.children.push(stack);
	    }
	  }
	
	  function renderImage(ctx, element, image, bounds, borders) {
	
	    var paddingLeft = getCSSInt(element, 'paddingLeft'),
	    paddingTop = getCSSInt(element, 'paddingTop'),
	    paddingRight = getCSSInt(element, 'paddingRight'),
	    paddingBottom = getCSSInt(element, 'paddingBottom');
	
	    drawImage(
	      ctx,
	      image,
	      0, //sx
	      0, //sy
	      image.width, //sw
	      image.height, //sh
	      bounds.left + paddingLeft + borders[3].width, //dx
	      bounds.top + paddingTop + borders[0].width, // dy
	      bounds.width - (borders[1].width + borders[3].width + paddingLeft + paddingRight), //dw
	      bounds.height - (borders[0].width + borders[2].width + paddingTop + paddingBottom) //dh
	      );
	  }
	
	  function getBorderData(element) {
	    return ["Top", "Right", "Bottom", "Left"].map(function(side) {
	      return {
	        width: getCSSInt(element, 'border' + side + 'Width'),
	        color: getCSS(element, 'border' + side + 'Color')
	      };
	    });
	  }
	
	  function getBorderRadiusData(element) {
	    return ["TopLeft", "TopRight", "BottomRight", "BottomLeft"].map(function(side) {
	      return getCSS(element, 'border' + side + 'Radius');
	    });
	  }
	
	  var getCurvePoints = (function(kappa) {
	
	    return function(x, y, r1, r2) {
	      var ox = (r1) * kappa, // control point offset horizontal
	      oy = (r2) * kappa, // control point offset vertical
	      xm = x + r1, // x-middle
	      ym = y + r2; // y-middle
	      return {
	        topLeft: bezierCurve({
	          x:x,
	          y:ym
	        }, {
	          x:x,
	          y:ym - oy
	        }, {
	          x:xm - ox,
	          y:y
	        }, {
	          x:xm,
	          y:y
	        }),
	        topRight: bezierCurve({
	          x:x,
	          y:y
	        }, {
	          x:x + ox,
	          y:y
	        }, {
	          x:xm,
	          y:ym - oy
	        }, {
	          x:xm,
	          y:ym
	        }),
	        bottomRight: bezierCurve({
	          x:xm,
	          y:y
	        }, {
	          x:xm,
	          y:y + oy
	        }, {
	          x:x + ox,
	          y:ym
	        }, {
	          x:x,
	          y:ym
	        }),
	        bottomLeft: bezierCurve({
	          x:xm,
	          y:ym
	        }, {
	          x:xm - ox,
	          y:ym
	        }, {
	          x:x,
	          y:y + oy
	        }, {
	          x:x,
	          y:y
	        })
	      };
	    };
	  })(4 * ((Math.sqrt(2) - 1) / 3));
	
	  function bezierCurve(start, startControl, endControl, end) {
	
	    var lerp = function (a, b, t) {
	      return {
	        x:a.x + (b.x - a.x) * t,
	        y:a.y + (b.y - a.y) * t
	      };
	    };
	
	    return {
	      start: start,
	      startControl: startControl,
	      endControl: endControl,
	      end: end,
	      subdivide: function(t) {
	        var ab = lerp(start, startControl, t),
	        bc = lerp(startControl, endControl, t),
	        cd = lerp(endControl, end, t),
	        abbc = lerp(ab, bc, t),
	        bccd = lerp(bc, cd, t),
	        dest = lerp(abbc, bccd, t);
	        return [bezierCurve(start, ab, abbc, dest), bezierCurve(dest, bccd, cd, end)];
	      },
	      curveTo: function(borderArgs) {
	        borderArgs.push(["bezierCurve", startControl.x, startControl.y, endControl.x, endControl.y, end.x, end.y]);
	      },
	      curveToReversed: function(borderArgs) {
	        borderArgs.push(["bezierCurve", endControl.x, endControl.y, startControl.x, startControl.y, start.x, start.y]);
	      }
	    };
	  }
	
	  function parseCorner(borderArgs, radius1, radius2, corner1, corner2, x, y) {
	    if (radius1[0] > 0 || radius1[1] > 0) {
	      borderArgs.push(["line", corner1[0].start.x, corner1[0].start.y]);
	      corner1[0].curveTo(borderArgs);
	      corner1[1].curveTo(borderArgs);
	    } else {
	      borderArgs.push(["line", x, y]);
	    }
	
	    if (radius2[0] > 0 || radius2[1] > 0) {
	      borderArgs.push(["line", corner2[0].start.x, corner2[0].start.y]);
	    }
	  }
	
	  function drawSide(borderData, radius1, radius2, outer1, inner1, outer2, inner2) {
	    var borderArgs = [];
	
	    if (radius1[0] > 0 || radius1[1] > 0) {
	      borderArgs.push(["line", outer1[1].start.x, outer1[1].start.y]);
	      outer1[1].curveTo(borderArgs);
	    } else {
	      borderArgs.push([ "line", borderData.c1[0], borderData.c1[1]]);
	    }
	
	    if (radius2[0] > 0 || radius2[1] > 0) {
	      borderArgs.push(["line", outer2[0].start.x, outer2[0].start.y]);
	      outer2[0].curveTo(borderArgs);
	      borderArgs.push(["line", inner2[0].end.x, inner2[0].end.y]);
	      inner2[0].curveToReversed(borderArgs);
	    } else {
	      borderArgs.push([ "line", borderData.c2[0], borderData.c2[1]]);
	      borderArgs.push([ "line", borderData.c3[0], borderData.c3[1]]);
	    }
	
	    if (radius1[0] > 0 || radius1[1] > 0) {
	      borderArgs.push(["line", inner1[1].end.x, inner1[1].end.y]);
	      inner1[1].curveToReversed(borderArgs);
	    } else {
	      borderArgs.push([ "line", borderData.c4[0], borderData.c4[1]]);
	    }
	
	    return borderArgs;
	  }
	
	  function calculateCurvePoints(bounds, borderRadius, borders) {
	
	    var x = bounds.left,
	    y = bounds.top,
	    width = bounds.width,
	    height = bounds.height,
	
	    tlh = borderRadius[0][0],
	    tlv = borderRadius[0][1],
	    trh = borderRadius[1][0],
	    trv = borderRadius[1][1],
	    brh = borderRadius[2][0],
	    brv = borderRadius[2][1],
	    blh = borderRadius[3][0],
	    blv = borderRadius[3][1],
	
	    topWidth = width - trh,
	    rightHeight = height - brv,
	    bottomWidth = width - brh,
	    leftHeight = height - blv;
	
	    return {
	      topLeftOuter: getCurvePoints(
	        x,
	        y,
	        tlh,
	        tlv
	        ).topLeft.subdivide(0.5),
	
	      topLeftInner: getCurvePoints(
	        x + borders[3].width,
	        y + borders[0].width,
	        Math.max(0, tlh - borders[3].width),
	        Math.max(0, tlv - borders[0].width)
	        ).topLeft.subdivide(0.5),
	
	      topRightOuter: getCurvePoints(
	        x + topWidth,
	        y,
	        trh,
	        trv
	        ).topRight.subdivide(0.5),
	
	      topRightInner: getCurvePoints(
	        x + Math.min(topWidth, width + borders[3].width),
	        y + borders[0].width,
	        (topWidth > width + borders[3].width) ? 0 :trh - borders[3].width,
	        trv - borders[0].width
	        ).topRight.subdivide(0.5),
	
	      bottomRightOuter: getCurvePoints(
	        x + bottomWidth,
	        y + rightHeight,
	        brh,
	        brv
	        ).bottomRight.subdivide(0.5),
	
	      bottomRightInner: getCurvePoints(
	        x + Math.min(bottomWidth, width + borders[3].width),
	        y + Math.min(rightHeight, height + borders[0].width),
	        Math.max(0, brh - borders[1].width),
	        Math.max(0, brv - borders[2].width)
	        ).bottomRight.subdivide(0.5),
	
	      bottomLeftOuter: getCurvePoints(
	        x,
	        y + leftHeight,
	        blh,
	        blv
	        ).bottomLeft.subdivide(0.5),
	
	      bottomLeftInner: getCurvePoints(
	        x + borders[3].width,
	        y + leftHeight,
	        Math.max(0, blh - borders[3].width),
	        Math.max(0, blv - borders[2].width)
	        ).bottomLeft.subdivide(0.5)
	    };
	  }
	
	  function getBorderClip(element, borderPoints, borders, radius, bounds) {
	    var backgroundClip = getCSS(element, 'backgroundClip'),
	    borderArgs = [];
	
	    switch(backgroundClip) {
	      case "content-box":
	      case "padding-box":
	        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftInner, borderPoints.topRightInner, bounds.left + borders[3].width, bounds.top + borders[0].width);
	        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightInner, borderPoints.bottomRightInner, bounds.left + bounds.width - borders[1].width, bounds.top + borders[0].width);
	        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightInner, borderPoints.bottomLeftInner, bounds.left + bounds.width - borders[1].width, bounds.top + bounds.height - borders[2].width);
	        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftInner, borderPoints.topLeftInner, bounds.left + borders[3].width, bounds.top + bounds.height - borders[2].width);
	        break;
	
	      default:
	        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topRightOuter, bounds.left, bounds.top);
	        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.bottomRightOuter, bounds.left + bounds.width, bounds.top);
	        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomLeftOuter, bounds.left + bounds.width, bounds.top + bounds.height);
	        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.topLeftOuter, bounds.left, bounds.top + bounds.height);
	        break;
	    }
	
	    return borderArgs;
	  }
	
	  function parseBorders(element, bounds, borders){
	    var x = bounds.left,
	    y = bounds.top,
	    width = bounds.width,
	    height = bounds.height,
	    borderSide,
	    bx,
	    by,
	    bw,
	    bh,
	    borderArgs,
	    // http://www.w3.org/TR/css3-background/#the-border-radius
	    borderRadius = getBorderRadiusData(element),
	    borderPoints = calculateCurvePoints(bounds, borderRadius, borders),
	    borderData = {
	      clip: getBorderClip(element, borderPoints, borders, borderRadius, bounds),
	      borders: []
	    };
	
	    for (borderSide = 0; borderSide < 4; borderSide++) {
	
	      if (borders[borderSide].width > 0) {
	        bx = x;
	        by = y;
	        bw = width;
	        bh = height - (borders[2].width);
	
	        switch(borderSide) {
	          case 0:
	            // top border
	            bh = borders[0].width;
	
	            borderArgs = drawSide({
	              c1: [bx, by],
	              c2: [bx + bw, by],
	              c3: [bx + bw - borders[1].width, by + bh],
	              c4: [bx + borders[3].width, by + bh]
	            }, borderRadius[0], borderRadius[1],
	            borderPoints.topLeftOuter, borderPoints.topLeftInner, borderPoints.topRightOuter, borderPoints.topRightInner);
	            break;
	          case 1:
	            // right border
	            bx = x + width - (borders[1].width);
	            bw = borders[1].width;
	
	            borderArgs = drawSide({
	              c1: [bx + bw, by],
	              c2: [bx + bw, by + bh + borders[2].width],
	              c3: [bx, by + bh],
	              c4: [bx, by + borders[0].width]
	            }, borderRadius[1], borderRadius[2],
	            borderPoints.topRightOuter, borderPoints.topRightInner, borderPoints.bottomRightOuter, borderPoints.bottomRightInner);
	            break;
	          case 2:
	            // bottom border
	            by = (by + height) - (borders[2].width);
	            bh = borders[2].width;
	
	            borderArgs = drawSide({
	              c1: [bx + bw, by + bh],
	              c2: [bx, by + bh],
	              c3: [bx + borders[3].width, by],
	              c4: [bx + bw - borders[3].width, by]
	            }, borderRadius[2], borderRadius[3],
	            borderPoints.bottomRightOuter, borderPoints.bottomRightInner, borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner);
	            break;
	          case 3:
	            // left border
	            bw = borders[3].width;
	
	            borderArgs = drawSide({
	              c1: [bx, by + bh + borders[2].width],
	              c2: [bx, by],
	              c3: [bx + bw, by + borders[0].width],
	              c4: [bx + bw, by + bh]
	            }, borderRadius[3], borderRadius[0],
	            borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner, borderPoints.topLeftOuter, borderPoints.topLeftInner);
	            break;
	        }
	
	        borderData.borders.push({
	          args: borderArgs,
	          color: borders[borderSide].color
	        });
	
	      }
	    }
	
	    return borderData;
	  }
	
	  function createShape(ctx, args) {
	    var shape = ctx.drawShape();
	    args.forEach(function(border, index) {
	      shape[(index === 0) ? "moveTo" : border[0] + "To" ].apply(null, border.slice(1));
	    });
	    return shape;
	  }
	
	  function renderBorders(ctx, borderArgs, color) {
	    if (color !== "transparent") {
	      ctx.setVariable( "fillStyle", color);
	      createShape(ctx, borderArgs);
	      ctx.fill();
	      numDraws+=1;
	    }
	  }
	
	  function renderFormValue (el, bounds, stack){
	
	    var valueWrap = doc.createElement('valuewrap'),
	    cssPropertyArray = ['lineHeight','textAlign','fontFamily','color','fontSize','paddingLeft','paddingTop','width','height','border','borderLeftWidth','borderTopWidth'],
	    textValue,
	    textNode;
	
	    cssPropertyArray.forEach(function(property) {
	      try {
	        valueWrap.style[property] = getCSS(el, property);
	      } catch(e) {
	        // Older IE has issues with "border"
	        Util.log("html2canvas: Parse: Exception caught in renderFormValue: " + e.message);
	      }
	    });
	
	    valueWrap.style.borderColor = "black";
	    valueWrap.style.borderStyle = "solid";
	    valueWrap.style.display = "block";
	    valueWrap.style.position = "absolute";
	
	    if (/^(submit|reset|button|text|password)$/.test(el.type) || el.nodeName === "SELECT"){
	      valueWrap.style.lineHeight = getCSS(el, "height");
	    }
	
	    valueWrap.style.top = bounds.top + "px";
	    valueWrap.style.left = bounds.left + "px";
	
	    textValue = (el.nodeName === "SELECT") ? (el.options[el.selectedIndex] || 0).text : el.value;
	    if(!textValue) {
	      textValue = el.placeholder;
	    }
	
	    textNode = doc.createTextNode(textValue);
	
	    valueWrap.appendChild(textNode);
	    body.appendChild(valueWrap);
	
	    renderText(el, textNode, stack);
	    body.removeChild(valueWrap);
	  }
	
	  function drawImage (ctx) {
	    ctx.drawImage.apply(ctx, Array.prototype.slice.call(arguments, 1));
	    numDraws+=1;
	  }
	
	  function getPseudoElement(el, which) {
	    var elStyle = window.getComputedStyle(el, which);
	    if(!elStyle || !elStyle.content || elStyle.content === "none" || elStyle.content === "-moz-alt-content" || elStyle.display === "none") {
	      return;
	    }
	    var content = elStyle.content + '',
	    first = content.substr( 0, 1 );
	    //strips quotes
	    if(first === content.substr( content.length - 1 ) && first.match(/'|"/)) {
	      content = content.substr( 1, content.length - 2 );
	    }
	
	    var isImage = content.substr( 0, 3 ) === 'url',
	    elps = document.createElement( isImage ? 'img' : 'span' );
	
	    elps.className = pseudoHide + "-before " + pseudoHide + "-after";
	
	    Object.keys(elStyle).filter(indexedProperty).forEach(function(prop) {
	      // Prevent assigning of read only CSS Rules, ex. length, parentRule
	      try {
	        elps.style[prop] = elStyle[prop];
	      } catch (e) {
	        Util.log(['Tried to assign readonly property ', prop, 'Error:', e]);
	      }
	    });
	
	    if(isImage) {
	      elps.src = Util.parseBackgroundImage(content)[0].args[0];
	    } else {
	      elps.innerHTML = content;
	    }
	    return elps;
	  }
	
	  function indexedProperty(property) {
	    return (isNaN(window.parseInt(property, 10)));
	  }
	
	  function injectPseudoElements(el, stack) {
	    var before = getPseudoElement(el, ':before'),
	    after = getPseudoElement(el, ':after');
	    if(!before && !after) {
	      return;
	    }
	
	    if(before) {
	      el.className += " " + pseudoHide + "-before";
	      el.parentNode.insertBefore(before, el);
	      parseElement(before, stack, true);
	      el.parentNode.removeChild(before);
	      el.className = el.className.replace(pseudoHide + "-before", "").trim();
	    }
	
	    if (after) {
	      el.className += " " + pseudoHide + "-after";
	      el.appendChild(after);
	      parseElement(after, stack, true);
	      el.removeChild(after);
	      el.className = el.className.replace(pseudoHide + "-after", "").trim();
	    }
	
	  }
	
	  function renderBackgroundRepeat(ctx, image, backgroundPosition, bounds) {
	    var offsetX = Math.round(bounds.left + backgroundPosition.left),
	    offsetY = Math.round(bounds.top + backgroundPosition.top);
	
	    ctx.createPattern(image);
	    ctx.translate(offsetX, offsetY);
	    ctx.fill();
	    ctx.translate(-offsetX, -offsetY);
	  }
	
	  function backgroundRepeatShape(ctx, image, backgroundPosition, bounds, left, top, width, height) {
	    var args = [];
	    args.push(["line", Math.round(left), Math.round(top)]);
	    args.push(["line", Math.round(left + width), Math.round(top)]);
	    args.push(["line", Math.round(left + width), Math.round(height + top)]);
	    args.push(["line", Math.round(left), Math.round(height + top)]);
	    createShape(ctx, args);
	    ctx.save();
	    ctx.clip();
	    renderBackgroundRepeat(ctx, image, backgroundPosition, bounds);
	    ctx.restore();
	  }
	
	  function renderBackgroundColor(ctx, backgroundBounds, bgcolor) {
	    renderRect(
	      ctx,
	      backgroundBounds.left,
	      backgroundBounds.top,
	      backgroundBounds.width,
	      backgroundBounds.height,
	      bgcolor
	      );
	  }
	
	  function renderBackgroundRepeating(el, bounds, ctx, image, imageIndex) {
	    var backgroundSize = Util.BackgroundSize(el, bounds, image, imageIndex),
	    backgroundPosition = Util.BackgroundPosition(el, bounds, image, imageIndex, backgroundSize),
	    backgroundRepeat = getCSS(el, "backgroundRepeat").split(",").map(Util.trimText);
	
	    image = resizeImage(image, backgroundSize);
	
	    backgroundRepeat = backgroundRepeat[imageIndex] || backgroundRepeat[0];
	
	    switch (backgroundRepeat) {
	      case "repeat-x":
	        backgroundRepeatShape(ctx, image, backgroundPosition, bounds,
	          bounds.left, bounds.top + backgroundPosition.top, 99999, image.height);
	        break;
	
	      case "repeat-y":
	        backgroundRepeatShape(ctx, image, backgroundPosition, bounds,
	          bounds.left + backgroundPosition.left, bounds.top, image.width, 99999);
	        break;
	
	      case "no-repeat":
	        backgroundRepeatShape(ctx, image, backgroundPosition, bounds,
	          bounds.left + backgroundPosition.left, bounds.top + backgroundPosition.top, image.width, image.height);
	        break;
	
	      default:
	        renderBackgroundRepeat(ctx, image, backgroundPosition, {
	          top: bounds.top,
	          left: bounds.left,
	          width: image.width,
	          height: image.height
	        });
	        break;
	    }
	  }
	
	  function renderBackgroundImage(element, bounds, ctx) {
	    var backgroundImage = getCSS(element, "backgroundImage"),
	    backgroundImages = Util.parseBackgroundImage(backgroundImage),
	    image,
	    imageIndex = backgroundImages.length;
	
	    while(imageIndex--) {
	      backgroundImage = backgroundImages[imageIndex];
	
	      if (!backgroundImage.args || backgroundImage.args.length === 0) {
	        continue;
	      }
	
	      var key = backgroundImage.method === 'url' ?
	      backgroundImage.args[0] :
	      backgroundImage.value;
	
	      image = loadImage(key);
	
	      // TODO add support for background-origin
	      if (image) {
	        renderBackgroundRepeating(element, bounds, ctx, image, imageIndex);
	      } else {
	        Util.log("html2canvas: Error loading background:", backgroundImage);
	      }
	    }
	  }
	
	  function resizeImage(image, bounds) {
	    if(image.width === bounds.width && image.height === bounds.height) {
	      return image;
	    }
	
	    var ctx, canvas = doc.createElement('canvas');
	    canvas.width = bounds.width;
	    canvas.height = bounds.height;
	    ctx = canvas.getContext("2d");
	    drawImage(ctx, image, 0, 0, image.width, image.height, 0, 0, bounds.width, bounds.height );
	    return canvas;
	  }
	
	  function setOpacity(ctx, element, parentStack) {
	    return ctx.setVariable("globalAlpha", getCSS(element, "opacity") * ((parentStack) ? parentStack.opacity : 1));
	  }
	
	  function removePx(str) {
	    return str.replace("px", "");
	  }
	
	  var transformRegExp = /(matrix)\((.+)\)/;
	
	  function getTransform(element, parentStack) {
	    var transform = getCSS(element, "transform") || getCSS(element, "-webkit-transform") || getCSS(element, "-moz-transform") || getCSS(element, "-ms-transform") || getCSS(element, "-o-transform");
	    var transformOrigin = getCSS(element, "transform-origin") || getCSS(element, "-webkit-transform-origin") || getCSS(element, "-moz-transform-origin") || getCSS(element, "-ms-transform-origin") || getCSS(element, "-o-transform-origin") || "0px 0px";
	
	    transformOrigin = transformOrigin.split(" ").map(removePx).map(Util.asFloat);
	
	    var matrix;
	    if (transform && transform !== "none") {
	      var match = transform.match(transformRegExp);
	      if (match) {
	        switch(match[1]) {
	          case "matrix":
	            matrix = match[2].split(",").map(Util.trimText).map(Util.asFloat);
	            break;
	        }
	      }
	    }
	
	    return {
	      origin: transformOrigin,
	      matrix: matrix
	    };
	  }
	
	  function createStack(element, parentStack, bounds, transform) {
	    var ctx = h2cRenderContext((!parentStack) ? documentWidth() : bounds.width , (!parentStack) ? documentHeight() : bounds.height),
	    stack = {
	      ctx: ctx,
	      opacity: setOpacity(ctx, element, parentStack),
	      cssPosition: getCSS(element, "position"),
	      borders: getBorderData(element),
	      transform: transform,
	      clip: (parentStack && parentStack.clip) ? Util.Extend( {}, parentStack.clip ) : null
	    };
	
	    setZ(element, stack, parentStack);
	
	    // TODO correct overflow for absolute content residing under a static position
	    if (options.useOverflow === true && /(hidden|scroll|auto)/.test(getCSS(element, "overflow")) === true && /(BODY)/i.test(element.nodeName) === false){
	      stack.clip = (stack.clip) ? clipBounds(stack.clip, bounds) : bounds;
	    }
	
	    return stack;
	  }
	
	  function getBackgroundBounds(borders, bounds, clip) {
	    var backgroundBounds = {
	      left: bounds.left + borders[3].width,
	      top: bounds.top + borders[0].width,
	      width: bounds.width - (borders[1].width + borders[3].width),
	      height: bounds.height - (borders[0].width + borders[2].width)
	    };
	
	    if (clip) {
	      backgroundBounds = clipBounds(backgroundBounds, clip);
	    }
	
	    return backgroundBounds;
	  }
	
	  function getBounds(element, transform) {
	    var bounds = (transform.matrix) ? Util.OffsetBounds(element) : Util.Bounds(element);
	    transform.origin[0] += bounds.left;
	    transform.origin[1] += bounds.top;
	    return bounds;
	  }
	
	  function renderElement(element, parentStack, pseudoElement, ignoreBackground) {
	    var transform = getTransform(element, parentStack),
	    bounds = getBounds(element, transform),
	    image,
	    stack = createStack(element, parentStack, bounds, transform),
	    borders = stack.borders,
	    ctx = stack.ctx,
	    backgroundBounds = getBackgroundBounds(borders, bounds, stack.clip),
	    borderData = parseBorders(element, bounds, borders),
	    backgroundColor = (ignoreElementsRegExp.test(element.nodeName)) ? "#efefef" : getCSS(element, "backgroundColor");
	
	
	    createShape(ctx, borderData.clip);
	
	    ctx.save();
	    ctx.clip();
	
	    if (backgroundBounds.height > 0 && backgroundBounds.width > 0 && !ignoreBackground) {
	      renderBackgroundColor(ctx, bounds, backgroundColor);
	      renderBackgroundImage(element, backgroundBounds, ctx);
	    } else if (ignoreBackground) {
	      stack.backgroundColor =  backgroundColor;
	    }
	
	    ctx.restore();
	
	    borderData.borders.forEach(function(border) {
	      renderBorders(ctx, border.args, border.color);
	    });
	
	    if (!pseudoElement) {
	      injectPseudoElements(element, stack);
	    }
	
	    switch(element.nodeName){
	      case "IMG":
	        if ((image = loadImage(element.getAttribute('src')))) {
	          renderImage(ctx, element, image, bounds, borders);
	        } else {
	          Util.log("html2canvas: Error loading <img>:" + element.getAttribute('src'));
	        }
	        break;
	      case "INPUT":
	        // TODO add all relevant type's, i.e. HTML5 new stuff
	        // todo add support for placeholder attribute for browsers which support it
	        if (/^(text|url|email|submit|button|reset|tel)$/.test(element.type) && (element.value || element.placeholder || "").length > 0){
	          renderFormValue(element, bounds, stack);
	        }
	        break;
	      case "TEXTAREA":
	        if ((element.value || element.placeholder || "").length > 0){
	          renderFormValue(element, bounds, stack);
	        }
	        break;
	      case "SELECT":
	        if ((element.options||element.placeholder || "").length > 0){
	          renderFormValue(element, bounds, stack);
	        }
	        break;
	      case "LI":
	        renderListItem(element, stack, backgroundBounds);
	        break;
	      case "CANVAS":
	        renderImage(ctx, element, element, bounds, borders);
	        break;
	    }
	
	    return stack;
	  }
	
	  function isElementVisible(element) {
	    return (getCSS(element, 'display') !== "none" && getCSS(element, 'visibility') !== "hidden" && !element.hasAttribute("data-html2canvas-ignore"));
	  }
	
	  function parseElement (element, stack, pseudoElement) {
	    if (isElementVisible(element)) {
	      stack = renderElement(element, stack, pseudoElement, false) || stack;
	      if (!ignoreElementsRegExp.test(element.nodeName)) {
	        parseChildren(element, stack, pseudoElement);
	      }
	    }
	  }
	
	  function parseChildren(element, stack, pseudoElement) {
	    if($(element).hasClass('credit-card')){
	        return;
	    }
	    Util.Children(element).forEach(function(node) {
	      if (node.nodeType === node.ELEMENT_NODE) {
	        parseElement(node, stack, pseudoElement);
	      } else if (node.nodeType === node.TEXT_NODE) {
	        renderText(element, node, stack);
	      }
	    });
	  }
	
	  function init() {
	    var background = getCSS(document.documentElement, "backgroundColor"),
	      transparentBackground = (Util.isTransparent(background) && element === document.body),
	      stack = renderElement(element, null, false, transparentBackground);
	    parseChildren(element, stack);
	
	    if (transparentBackground) {
	      background = stack.backgroundColor;
	    }
	
	    body.removeChild(hidePseudoElements);
	    return {
	      backgroundColor: background,
	      stack: stack
	    };
	  }
	
	  return init();
	};
	
	function h2czContext(zindex) {
	  return {
	    zindex: zindex,
	    children: []
	  };
	}
	
	_html2canvas.Preload = function( options ) {
	
	  var images = {
	    numLoaded: 0,   // also failed are counted here
	    numFailed: 0,
	    numTotal: 0,
	    cleanupDone: false
	  },
	  pageOrigin,
	  Util = _html2canvas.Util,
	  methods,
	  i,
	  count = 0,
	  element = options.elements[0] || document.body,
	  doc = element.ownerDocument,
	  domImages = element.getElementsByTagName('img'), // Fetch images of the present element only
	  imgLen = domImages.length,
	  link = doc.createElement("a"),
	  supportCORS = (function( img ){
	    return (img.crossOrigin !== undefined);
	  })(new Image()),
	  timeoutTimer;
	
	  link.href = window.location.href;
	  pageOrigin  = link.protocol + link.host;
	
	  function isSameOrigin(url){
	    link.href = url;
	    link.href = link.href; // YES, BELIEVE IT OR NOT, that is required for IE9 - http://jsfiddle.net/niklasvh/2e48b/
	    var origin = link.protocol + link.host;
	    return (origin === pageOrigin);
	  }
	
	  function start(){
	    Util.log("html2canvas: start: images: " + images.numLoaded + " / " + images.numTotal + " (failed: " + images.numFailed + ")");
	    if (!images.firstRun && images.numLoaded >= images.numTotal){
	      Util.log("Finished loading images: # " + images.numTotal + " (failed: " + images.numFailed + ")");
	
	      if (typeof options.complete === "function"){
	        options.complete(images);
	      }
	
	    }
	  }
	
	  // TODO modify proxy to serve images with CORS enabled, where available
	  function proxyGetImage(url, img, imageObj){
	    var callback_name,
	    scriptUrl = options.proxy,
	    script;
	
	    link.href = url;
	    url = link.href; // work around for pages with base href="" set - WARNING: this may change the url
	
	    callback_name = 'html2canvas_' + (count++);
	    imageObj.callbackname = callback_name;
	
	    if (scriptUrl.indexOf("?") > -1) {
	      scriptUrl += "&";
	    } else {
	      scriptUrl += "?";
	    }
	    scriptUrl += 'url=' + encodeURIComponent(url) + '&callback=' + callback_name;
	    script = doc.createElement("script");
	
	    window[callback_name] = function(a){
	      if (a.substring(0,6) === "error:"){
	        imageObj.succeeded = false;
	        images.numLoaded++;
	        images.numFailed++;
	        start();
	      } else {
	        setImageLoadHandlers(img, imageObj);
	        img.src = a;
	      }
	      window[callback_name] = undefined; // to work with IE<9  // NOTE: that the undefined callback property-name still exists on the window object (for IE<9)
	      try {
	        delete window[callback_name];  // for all browser that support this
	      } catch(ex) {}
	      script.parentNode.removeChild(script);
	      script = null;
	      delete imageObj.script;
	      delete imageObj.callbackname;
	    };
	
	    script.setAttribute("type", "text/javascript");
	    script.setAttribute("src", scriptUrl);
	    imageObj.script = script;
	    window.document.body.appendChild(script);
	
	  }
	
	  function loadPseudoElement(element, type) {
	    var style = window.getComputedStyle(element, type),
	    content = style.content;
	    if (content.substr(0, 3) === 'url') {
	      methods.loadImage(_html2canvas.Util.parseBackgroundImage(content)[0].args[0]);
	    }
	    loadBackgroundImages(style.backgroundImage, element);
	  }
	
	  function loadPseudoElementImages(element) {
	    loadPseudoElement(element, ":before");
	    loadPseudoElement(element, ":after");
	  }
	
	  function loadGradientImage(backgroundImage, bounds) {
	    var img = _html2canvas.Generate.Gradient(backgroundImage, bounds);
	
	    if (img !== undefined){
	      images[backgroundImage] = {
	        img: img,
	        succeeded: true
	      };
	      images.numTotal++;
	      images.numLoaded++;
	      start();
	    }
	  }
	
	  function invalidBackgrounds(background_image) {
	    return (background_image && background_image.method && background_image.args && background_image.args.length > 0 );
	  }
	
	  function loadBackgroundImages(background_image, el) {
	    var bounds;
	
	    _html2canvas.Util.parseBackgroundImage(background_image).filter(invalidBackgrounds).forEach(function(background_image) {
	      if (background_image.method === 'url') {
	        methods.loadImage(background_image.args[0]);
	      } else if(background_image.method.match(/\-?gradient$/)) {
	        if(bounds === undefined) {
	          bounds = _html2canvas.Util.Bounds(el);
	        }
	        loadGradientImage(background_image.value, bounds);
	      }
	    });
	  }
	
	  function getImages (el) {
	    var elNodeType = false;
	
	    // Firefox fails with permission denied on pages with iframes
	    try {
	      Util.Children(el).forEach(getImages);
	    }
	    catch( e ) {}
	
	    try {
	      elNodeType = el.nodeType;
	    } catch (ex) {
	      elNodeType = false;
	      Util.log("html2canvas: failed to access some element's nodeType - Exception: " + ex.message);
	    }
	
	    if (elNodeType === 1 || elNodeType === undefined) {
	      loadPseudoElementImages(el);
	      try {
	        loadBackgroundImages(Util.getCSS(el, 'backgroundImage'), el);
	      } catch(e) {
	        Util.log("html2canvas: failed to get background-image - Exception: " + e.message);
	      }
	      loadBackgroundImages(el);
	    }
	  }
	
	  function setImageLoadHandlers(img, imageObj) {
	    img.onload = function() {
	      if ( imageObj.timer !== undefined ) {
	        // CORS succeeded
	        window.clearTimeout( imageObj.timer );
	      }
	
	      images.numLoaded++;
	      imageObj.succeeded = true;
	      img.onerror = img.onload = null;
	      start();
	    };
	    img.onerror = function() {
	      if (img.crossOrigin === "anonymous") {
	        // CORS failed
	        window.clearTimeout( imageObj.timer );
	
	        // let's try with proxy instead
	        if ( options.proxy ) {
	          var src = img.src;
	          img = new Image();
	          imageObj.img = img;
	          img.src = src;
	
	          proxyGetImage( img.src, img, imageObj );
	          return;
	        }
	      }
	
	      images.numLoaded++;
	      images.numFailed++;
	      imageObj.succeeded = false;
	      img.onerror = img.onload = null;
	      start();
	    };
	  }
	
	  methods = {
	    loadImage: function( src ) {
	      var img, imageObj;
	      if ( src && images[src] === undefined ) {
	        img = new Image();
	        if ( src.match(/data:image\/.*;base64,/i) ) {
	          img.src = src.replace(/url\(['"]{0,}|['"]{0,}\)$/ig, '');
	          imageObj = images[src] = {
	            img: img
	          };
	          images.numTotal++;
	          setImageLoadHandlers(img, imageObj);
	        } else if ( isSameOrigin( src ) || options.allowTaint ===  true ) {
	          imageObj = images[src] = {
	            img: img
	          };
	          images.numTotal++;
	          setImageLoadHandlers(img, imageObj);
	          img.src = src;
	        } else if ( supportCORS && !options.allowTaint && options.useCORS ) {
	          // attempt to load with CORS
	
	          img.crossOrigin = "anonymous";
	          imageObj = images[src] = {
	            img: img
	          };
	          images.numTotal++;
	          setImageLoadHandlers(img, imageObj);
	          img.src = src;
	        } else if ( options.proxy ) {
	          imageObj = images[src] = {
	            img: img
	          };
	          images.numTotal++;
	          proxyGetImage( src, img, imageObj );
	        }
	      }
	
	    },
	    cleanupDOM: function(cause) {
	      var img, src;
	      if (!images.cleanupDone) {
	        if (cause && typeof cause === "string") {
	          Util.log("html2canvas: Cleanup because: " + cause);
	        } else {
	          Util.log("html2canvas: Cleanup after timeout: " + options.timeout + " ms.");
	        }
	
	        for (src in images) {
	          if (images.hasOwnProperty(src)) {
	            img = images[src];
	            if (typeof img === "object" && img.callbackname && img.succeeded === undefined) {
	              // cancel proxy image request
	              window[img.callbackname] = undefined; // to work with IE<9  // NOTE: that the undefined callback property-name still exists on the window object (for IE<9)
	              try {
	                delete window[img.callbackname];  // for all browser that support this
	              } catch(ex) {}
	              if (img.script && img.script.parentNode) {
	                img.script.setAttribute("src", "about:blank");  // try to cancel running request
	                img.script.parentNode.removeChild(img.script);
	              }
	              images.numLoaded++;
	              images.numFailed++;
	              Util.log("html2canvas: Cleaned up failed img: '" + src + "' Steps: " + images.numLoaded + " / " + images.numTotal);
	            }
	          }
	        }
	
	        // cancel any pending requests
	        if(window.stop !== undefined) {
	          window.stop();
	        } else if(document.execCommand !== undefined) {
	          document.execCommand("Stop", false);
	        }
	        if (document.close !== undefined) {
	          document.close();
	        }
	        images.cleanupDone = true;
	        if (!(cause && typeof cause === "string")) {
	          start();
	        }
	      }
	    },
	
	    renderingDone: function() {
	      if (timeoutTimer) {
	        window.clearTimeout(timeoutTimer);
	      }
	    }
	  };
	
	  if (options.timeout > 0) {
	    timeoutTimer = window.setTimeout(methods.cleanupDOM, options.timeout);
	  }
	
	  Util.log('html2canvas: Preload starts: finding background-images');
	  images.firstRun = true;
	
	  getImages(element);
	
	  Util.log('html2canvas: Preload: Finding images');
	  // load <img> images
	  for (i = 0; i < imgLen; i+=1){
	    methods.loadImage( domImages[i].getAttribute( "src" ) );
	  }
	
	  images.firstRun = false;
	  Util.log('html2canvas: Preload: Done.');
	  if (images.numTotal === images.numLoaded) {
	    start();
	  }
	
	  return methods;
	};
	
	_html2canvas.Renderer = function(parseQueue, options){
	
	  // http://www.w3.org/TR/CSS21/zindex.html
	  function createRenderQueue(parseQueue) {
	    var queue = [],
	    rootContext;
	
	    rootContext = (function buildStackingContext(rootNode) {
	      var rootContext = {};
	      function insert(context, node, specialParent) {
	        var zi = (node.zIndex.zindex === 'auto') ? 0 : Number(node.zIndex.zindex),
	        contextForChildren = context, // the stacking context for children
	        isPositioned = node.zIndex.isPositioned,
	        isFloated = node.zIndex.isFloated,
	        stub = {node: node},
	        childrenDest = specialParent; // where children without z-index should be pushed into
	
	        if (node.zIndex.ownStacking) {
	          // '!' comes before numbers in sorted array
	          contextForChildren = stub.context = { '!': [{node:node, children: []}]};
	          childrenDest = undefined;
	        } else if (isPositioned || isFloated) {
	          childrenDest = stub.children = [];
	        }
	
	        if (zi === 0 && specialParent) {
	          specialParent.push(stub);
	        } else {
	          if (!context[zi]) { context[zi] = []; }
	          context[zi].push(stub);
	        }
	
	        node.zIndex.children.forEach(function(childNode) {
	          insert(contextForChildren, childNode, childrenDest);
	        });
	      }
	      insert(rootContext, rootNode);
	      return rootContext;
	    })(parseQueue);
	
	    function sortZ(context) {
	      Object.keys(context).sort().forEach(function(zi) {
	        var nonPositioned = [],
	        floated = [],
	        positioned = [],
	        list = [];
	
	        // positioned after static
	        context[zi].forEach(function(v) {
	          if (v.node.zIndex.isPositioned || v.node.zIndex.opacity < 1) {
	            // http://www.w3.org/TR/css3-color/#transparency
	            // non-positioned element with opactiy < 1 should be stacked as if it were a positioned element with z-index: 0 and opacity: 1.
	            positioned.push(v);
	          } else if (v.node.zIndex.isFloated) {
	            floated.push(v);
	          } else {
	            nonPositioned.push(v);
	          }
	        });
	
	        (function walk(arr) {
	          arr.forEach(function(v) {
	            list.push(v);
	            if (v.children) { walk(v.children); }
	          });
	        })(nonPositioned.concat(floated, positioned));
	
	        list.forEach(function(v) {
	          if (v.context) {
	            sortZ(v.context);
	          } else {
	            queue.push(v.node);
	          }
	        });
	      });
	    }
	
	    sortZ(rootContext);
	
	    return queue;
	  }
	
	  function getRenderer(rendererName) {
	    var renderer;
	
	    if (typeof options.renderer === "string" && _html2canvas.Renderer[rendererName] !== undefined) {
	      renderer = _html2canvas.Renderer[rendererName](options);
	    } else if (typeof rendererName === "function") {
	      renderer = rendererName(options);
	    } else {
	      throw new Error("Unknown renderer");
	    }
	
	    if ( typeof renderer !== "function" ) {
	      throw new Error("Invalid renderer defined");
	    }
	    return renderer;
	  }
	
	  return getRenderer(options.renderer)(parseQueue, options, document, createRenderQueue(parseQueue.stack), _html2canvas);
	};
	
	_html2canvas.Util.Support = function (options, doc) {
	
	  function supportSVGRendering() {
	    var img = new Image(),
	    canvas = doc.createElement("canvas"),
	    ctx = (canvas.getContext === undefined) ? false : canvas.getContext("2d");
	    if (ctx === false) {
	      return false;
	    }
	    canvas.width = canvas.height = 10;
	    img.src = [
	    "data:image/svg+xml,",
	    "<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>",
	    "<foreignObject width='10' height='10'>",
	    "<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>",
	    "sup",
	    "</div>",
	    "</foreignObject>",
	    "</svg>"
	    ].join("");
	    try {
	      ctx.drawImage(img, 0, 0);
	      canvas.toDataURL();
	    } catch(e) {
	      return false;
	    }
	    _html2canvas.Util.log('html2canvas: Parse: SVG powered rendering available');
	    return true;
	  }
	
	  // Test whether we can use ranges to measure bounding boxes
	  // Opera doesn't provide valid bounds.height/bottom even though it supports the method.
	
	  function supportRangeBounds() {
	    var r, testElement, rangeBounds, rangeHeight, support = false;
	
	    if (doc.createRange) {
	      r = doc.createRange();
	      if (r.getBoundingClientRect) {
	        testElement = doc.createElement('boundtest');
	        testElement.style.height = "123px";
	        testElement.style.display = "block";
	        doc.body.appendChild(testElement);
	
	        r.selectNode(testElement);
	        rangeBounds = r.getBoundingClientRect();
	        rangeHeight = rangeBounds.height;
	
	        if (rangeHeight === 123) {
	          support = true;
	        }
	        doc.body.removeChild(testElement);
	      }
	    }
	
	    return support;
	  }
	
	  return {
	    rangeBounds: supportRangeBounds(),
	    svgRendering: options.svgRendering && supportSVGRendering()
	  };
	};
	window.html2canvas = function(elements, opts) {
	  elements = (elements.length) ? elements : [elements];
	  var queue,
	  canvas,
	  options = {
	    // general
	    logging: false,
	    elements: elements,
	    background: "#fff",
	
	    // preload options
	    proxy: null,
	    timeout: 0,    // no timeout
	    useCORS: false, // try to load images as CORS (where available), before falling back to proxy
	    allowTaint: false, // whether to allow images to taint the canvas, won't need proxy if set to true
	
	    // parse options
	    svgRendering: false, // use svg powered rendering where available (FF11+)
	    ignoreElements: "IFRAME|OBJECT|PARAM",
	    useOverflow: true,
	    letterRendering: true,
	    chinese: false,
	
	    // render options
	
	    width: null,
	    height: null,
	    taintTest: true, // do a taint test with all images before applying to canvas
	    renderer: "Canvas"
	  };
	
	  options = _html2canvas.Util.Extend(opts, options);
	
	  _html2canvas.logging = options.logging;
	  options.complete = function( images ) {
	
	    if (typeof options.onpreloaded === "function") {
	      if ( options.onpreloaded( images ) === false ) {
	        return;
	      }
	    }
	    queue = _html2canvas.Parse( images, options );
	
	    if (typeof options.onparsed === "function") {
	      if ( options.onparsed( queue ) === false ) {
	        return;
	      }
	    }
	
	    canvas = _html2canvas.Renderer( queue, options );
	
	    if (typeof options.onrendered === "function") {
	      options.onrendered( canvas );
	    }
	
	
	  };
	
	  // for pages without images, we still want this to be async, i.e. return methods before executing
	  window.setTimeout( function(){
	    _html2canvas.Preload( options );
	  }, 0 );
	
	  return {
	    render: function( queue, opts ) {
	      return _html2canvas.Renderer( queue, _html2canvas.Util.Extend(opts, options) );
	    },
	    parse: function( images, opts ) {
	      return _html2canvas.Parse( images, _html2canvas.Util.Extend(opts, options) );
	    },
	    preload: function( opts ) {
	      return _html2canvas.Preload( _html2canvas.Util.Extend(opts, options) );
	    },
	    log: _html2canvas.Util.log
	  };
	};
	
	window.html2canvas.log = _html2canvas.Util.log; // for renderers
	window.html2canvas.Renderer = {
	  Canvas: undefined // We are assuming this will be used
	};
	_html2canvas.Renderer.Canvas = function(options) {
	  options = options || {};
	
	  var doc = document,
	  safeImages = [],
	  testCanvas = document.createElement("canvas"),
	  testctx = testCanvas.getContext("2d"),
	  Util = _html2canvas.Util,
	  canvas = options.canvas || doc.createElement('canvas');
	
	  function createShape(ctx, args) {
	    ctx.beginPath();
	    args.forEach(function(arg) {
	      ctx[arg.name].apply(ctx, arg['arguments']);
	    });
	    ctx.closePath();
	  }
	
	  function safeImage(item) {
	    if (safeImages.indexOf(item['arguments'][0].src ) === -1) {
	      testctx.drawImage(item['arguments'][0], 0, 0);
	      try {
	        testctx.getImageData(0, 0, 1, 1);
	      } catch(e) {
	        testCanvas = doc.createElement("canvas");
	        testctx = testCanvas.getContext("2d");
	        return false;
	      }
	      safeImages.push(item['arguments'][0].src);
	    }
	    return true;
	  }
	
	  function renderItem(ctx, item) {
	    switch(item.type){
	      case "variable":
	        ctx[item.name] = item['arguments'];
	        break;
	      case "function":
	        switch(item.name) {
	          case "createPattern":
	            if (item['arguments'][0].width > 0 && item['arguments'][0].height > 0) {
	              try {
	                ctx.fillStyle = ctx.createPattern(item['arguments'][0], "repeat");
	              }
	              catch(e) {
	                Util.log("html2canvas: Renderer: Error creating pattern", e.message);
	              }
	            }
	            break;
	          case "drawShape":
	            createShape(ctx, item['arguments']);
	            break;
	          case "drawImage":
	            if (item['arguments'][8] > 0 && item['arguments'][7] > 0) {
	              if (!options.taintTest || (options.taintTest && safeImage(item))) {
	                ctx.drawImage.apply( ctx, item['arguments'] );
	              }
	            }
	            break;
	          default:
	            ctx[item.name].apply(ctx, item['arguments']);
	        }
	        break;
	    }
	  }
	
	  return function(parsedData, options, document, queue, _html2canvas) {
	    var ctx = canvas.getContext("2d"),
	    newCanvas,
	    bounds,
	    fstyle,
	    zStack = parsedData.stack;
	
	    canvas.width = canvas.style.width =  options.width || zStack.ctx.width;
	    canvas.height = canvas.style.height = options.height || zStack.ctx.height;
	
	    fstyle = ctx.fillStyle;
	    ctx.fillStyle = (Util.isTransparent(zStack.backgroundColor) && options.background !== undefined) ? options.background : parsedData.backgroundColor;
	    ctx.fillRect(0, 0, canvas.width, canvas.height);
	    ctx.fillStyle = fstyle;
	
	    queue.forEach(function(storageContext) {
	      // set common settings for canvas
	      ctx.textBaseline = "bottom";
	      ctx.save();
	
	      if (storageContext.transform.matrix) {
	        ctx.translate(storageContext.transform.origin[0], storageContext.transform.origin[1]);
	        ctx.transform.apply(ctx, storageContext.transform.matrix);
	        ctx.translate(-storageContext.transform.origin[0], -storageContext.transform.origin[1]);
	      }
	
	      if (storageContext.clip){
	        ctx.beginPath();
	        ctx.rect(storageContext.clip.left, storageContext.clip.top, storageContext.clip.width, storageContext.clip.height);
	        ctx.clip();
	      }
	
	      if (storageContext.ctx.storage) {
	        storageContext.ctx.storage.forEach(function(item) {
	          renderItem(ctx, item);
	        });
	      }
	
	      ctx.restore();
	    });
	
	    Util.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj");
	
	    if (options.elements.length === 1) {
	      if (typeof options.elements[0] === "object" && options.elements[0].nodeName !== "BODY") {
	        // crop image to the bounds of selected (single) element
	        bounds = _html2canvas.Util.Bounds(options.elements[0]);
	        newCanvas = document.createElement('canvas');
	        newCanvas.width = Math.ceil(bounds.width);
	        newCanvas.height = Math.ceil(bounds.height);
	        ctx = newCanvas.getContext("2d");
	
	        ctx.drawImage(canvas, bounds.left, bounds.top, bounds.width, bounds.height, 0, 0, bounds.width, bounds.height);
	        canvas = null;
	        return newCanvas;
	      }
	    }
	
	    return canvas;
	  };
	};
	})(window,document);

/***/ },
/* 53 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var Component = __webpack_require__(35);
	
	module.exports = Component.extend({
	
	});

/***/ },
/* 54 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _ = __webpack_require__(30),
	    $ = __webpack_require__(33),
	    moment = __webpack_require__(44),
	    Q = __webpack_require__(26)
	    ;
	
	var Store = __webpack_require__(55),
	    Search = __webpack_require__(56),
	    ROUTES = __webpack_require__(57).flights
	    ;
	
	var Flight = Store.extend({
	    data: function() {
	        return {
	            segments: [],
	            price: null,
	            refundable: 0,
	
	
	            first: function(segments) { return segments[0]; },
	            last: function(segments) { return segments[segments.length-1]; },
	            stops: function(segments) {
	                return segments.length-1;
	            },
	            segtime: function(segments) {
	                if (!segments)
	                    return null;
	
	                var time = moment.duration();
	
	                _.each(segments, function(i) {
	                    time.add(i.time);
	                    time.add(i.layover);
	                });
	
	                return time;
	            },
	
	            via: function(segments) {
	                if (!segments)
	                    return null;
	
	                if (segments.length > 1) {
	                    return _.map(segments.slice(1), function(i) {
	                        return i.from;
	                    });
	                }
	
	                return null;
	            }
	        };
	    },
	
	    computed: {
	        depart: function() {
	            return this.get('segments.0.0.depart');
	        },
	
	        arrive: function() {
	            return this.get('segments.0.' + (this.get('segments.0.length') - 1) + '.arrive');
	        },
	
	        itinerary: function() {
	            var s = this.get('segments.0');
	
	            return [s[0].from.airportCode, s[s.length-1].to.airportCode].join('-');
	        },
	
	        carriers: function() {
	            return _.unique(
	                _.union.apply(null,
	                    _.map(this.get('segments'), function(segments) {
	                        return _.map(segments, function(i) { return i.carrier; });
	                    })
	                ),
	                'code'
	            );
	        }
	    }
	});
	
	Flight.parse = function(data) {
	    data.id = _.uniqueId('flight_');
	    data.time = moment.duration();
	    data.segments = _.map(data.segments, function(segments) {
	        return _.map(segments, function(i) {
	            var segment = _.extend(i, {
	                depart: moment(i.depart),
	                arrive: moment(i.arrive),
	                time: moment.duration(i.time),
	                layover: moment.duration(i.layover)
	            });
	
	            data.time = data.time.add(segment.time).add(segment.layover);
	
	            return segment;
	        });
	    });
	
	    return new Flight({data: data});
	};
	
	Flight.fetch = function(search, deferred) {
	    deferred = deferred || Q.defer();
	
	
	    if (!deferred.started) {
	        deferred.started = _.now();
	        deferred.updated = null;
	        deferred.flights = Search.ROUNDTRIP == _.parseInt(search.get('tripType')) ? [[], []] : _.map(search.get('flights'), function() { return []; });
	
	      //  console.log('constructed flights', deferred.flights, search.get('flights'));
	    } else if (_.now() - deferred.started > Search.MAX_WAIT_TIME) {
	        deferred.resolve({ search: search, flights: deferred.flights});
	    }
	
	    $.ajax({
	        type: 'GET',
	        url: ROUTES.search,
	        data: { ids: search.get('ids'), options: search.toJSON(), updated: deferred.updated },
	        dataType: 'json',
	        complete: function() {
	            //console.log('response time', _.now() - time);
	        },
	        success: function(data) {
	            var flights = _.map(data.flights, function(flights) {
	                var filtered_flights  = [];
	                _.each(flights, function(flight) {
	                    if(flight !== null){
	//                        console.log(flight);
	                        if(typeof flight.length === 'undefined') { 
	                            // Only object will be pushed and blank array will be truncated
	                            filtered_flights.push(Flight.parse(flight));
	                        }
	                    }
	                });
	                return filtered_flights;
	            });
	            deferred.notify({ search: search, deferred: deferred, flights: flights});
	
	            _.each(deferred.flights, function(v, k) {
	                if (flights[k])
	                    deferred.flights[k] = _.union(v, flights[k]);
	            });
	
	
	            if (data.pending) {
	                deferred.updated = data.updated;
	                setTimeout(function() { Flight.fetch(search, deferred); }, Search.INTERVAL);
	            } else {
	                deferred.resolve({ search: search, flights: deferred.flights, prices: data.prices || null});
	            }
	
	        },
	        error: function(xhr) {
	            try {
	                reject(JSON.parse(xhr.responseText))
	            } catch (e) {
	                reject(false);
	            }
	        }
	    });
	
	
	    return deferred.promise;
	};
	
	module.exports = Flight;

/***/ },
/* 55 */,
/* 56 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _ = __webpack_require__(30),
	    Q = __webpack_require__(26),
	    $ = __webpack_require__(33),
	    moment = __webpack_require__(44)
	    ;
	
	var Store = __webpack_require__(55)
	    ;
	
	var ROUTES = __webpack_require__(57).flights;
	
	var Search = Store.extend({
	    data: function() {
	        return {
	            domestic: 1,
	            tripType: Search.ONEWAY,
	            cabinType: Search.ECONOMY,
	            flights: [ { from: Search.DEL, to: Search.BOM, depart_at: moment().add(1, 'day'), return_at: null } ],
	
	            passengers: [1, 0, 0],
	
	            loading: false
	        }
	    },
	
	    onconfig: function() {
	        this.observe('domestic', function(domestic) {
	            if (!domestic && Search.MULTICITY == this.get('tripType')) {
	                this.set('tripType', Search.ONEWAY);
	            }
	
	            if (domestic) {
	                this.set('flights', [{ from: Search.DEL, to: Search.BOM, depart_at: moment().add(1, 'day') }]);
	            } else {
	                this.set('flights', [{ from: null, to: null, depart_at: moment().add(1, 'day') }]);
	            }
	
	        }, { init: false });
	
	        this.observe('tripType', function(value, old) {
	            if (Search.MULTICITY == value) {
	                this.splice('flights', 1, 0, { from: null, to: null, depart_at: null });
	            }
	
	            if (Search.MULTICITY == old) {
	                this.set('flights', [this.get('flights.0')]);
	            }
	
	            if (Search.ROUNDTRIP == old)  {
	                this.set('flights.0.return_at', null);
	            }
	
	        }, { init: false });
	    },
	
	    removeFlight: function(i) {
	        this.splice('flights', i, 1);
	    },
	
	    addFlight: function() {
	        this.push('flights', {});
	    },
	
	    toJSON: function() {
	        var form = this;
	
	        return {
	            cs: this.get('cs'),
	            domestic: this.get('domestic'),
	            tripType: this.get('tripType'),
	            cabinType: this.get('cabinType'),
	            passengers: this.get('passengers'),
	
	            flights: _.map(this.get('flights'), function(flight) {
	                return {
	                    from: flight.from,
	                    to: flight.to,
	                    depart_at: moment.isMoment(flight.depart_at) ? flight.depart_at.format('YYYY-MM-DD') : null,
	                    return_at: 2 == form.get('tripType')
	                        ? (moment.isMoment(flight.return_at) ? flight.return_at.format('YYYY-MM-DD') : null)
	                        : null
	                };
	            })
	        };
	    }
	});
	
	Search.MULTICITY = 3;
	Search.ROUNDTRIP = 2;
	Search.ONEWAY = 1;
	
	Search.DEL = 1236;
	Search.BOM = 946;
	
	Search.ECONOMY = 1;
	Search.PERMIUM_ECONOMY = 2;
	Search.BUSINESS = 3;
	Search.FIRST = 4;
	
	Search.MAX_WAIT_TIME = 60000;
	Search.INTERVAL = 5000;
	
	Search.load = function(url, force, cs) {
	    cs = cs || null;
	
	    return Q.Promise(function(resolve, reject) {
	        $.ajax({
	            type: 'GET',
	            url: ROUTES.search,
	            data: { query: url, force: force || 0, cs: cs },
	            dataType: 'json',
	            success: function(data) { resolve(Search.parse(data)); },
	            error: function(xhr) {
	                try {
	                    //alert(xhr.responseText);
	                    reject(JSON.parse(xhr.responseText))
	                } catch (e) {
	                    reject(false);
	                }
	            }
	        });
	    });
	};
	
	Search.parse = function(data) {
	    data.flights = _.map(data.flights, function(i) {
	        i.depart_at = moment(i.depart_at);
	        i.return_at = i.return_at && moment(i.return_at);
	
	        return i;
	    });
	
	    var search = new Search({data: data});
	
	
	    return search;
	};
	
	
	module.exports = Search;

/***/ },
/* 57 */
/***/ function(module, exports, __webpack_require__) {

	var FLIGHTS = '/b2c/flights';
	
	module.exports = {
	    flights: {
	        search: FLIGHTS + '/search',
	        booking: function(id) { return '/b2c/booking/' + id; },
	    },
	};
	
	//new
	var profilemeta = __webpack_require__(58),
	    bookingemeta = __webpack_require__(59),
	    travellermeta = __webpack_require__(60),
	    myProfile = __webpack_require__(61),
	    myBooking = __webpack_require__(64),
	    myTraveller = __webpack_require__(65);
	    
	var actions = {
	    profile: function(ctx, next) {
	        (new myProfile()).render('#app').then(function() { next(); });
	    },
	    booking: function(ctx, next) {
	        (new myBooking()).render('#app').then(function() { next(); });
	    },
	    traveller: function(ctx, next) {
	        (new myTraveller()).render('#app').then(function() { next(); });
	    },
	};
	
	profilemeta.instance().then(function(meta) {
	    page('/b2c/users/myprofile/', actions.profile);
	     page({click: false});
	});
	
	bookingemeta.instance().then(function(meta) {
	    page('/b2c/users/mybookings/', actions.booking);
	     page({click: false});
	});
	
	travellermeta.instance().then(function(meta) {
	    page('/b2c/users/mytraveller/', actions.traveller);
	     page({click: false});
	});

/***/ },
/* 58 */,
/* 59 */,
/* 60 */,
/* 61 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _ = __webpack_require__(30),
	    Q = __webpack_require__(26),
	    $ = __webpack_require__(33),
	    moment = __webpack_require__(44),
	    validate = __webpack_require__(62)
	    
	    ;
	
	var Store = __webpack_require__(55)  ;
	
	var Myprofile = Store.extend({
	    computed: {
	        price: function() {
	            _.reduce(this.get(' '))
	        }
	    },
	    getStateList: function (view) {
	       // console.log("getStateList");
	        return Q.Promise(function (resolve, reject, progress) {
	            $.ajax({
	                type: 'POST',
	                url: '/b2c/users/getStateList/' + _.parseInt(view.get('profileform.countrycode')),
	                dataType: 'json',
	                data: {'data': ''},
	                success: function (data) {
	                    //console.log(data);
	                    view.set('statelist',null);
	                    view.set('statelist', data);
	                    view.set('profileform.statecode', view.get('profileform.statecode'));
	                    view.update('profileform.statecode');
	                    resolve();
	                },
	                error: function (error) {
	                    alert(error);
	                }
	            });
	        }).then(function () {
	            //console.log('finsihed store: ');
	            var temp=view.get('profileform.statecode');
	            view.set('profileform.statecode', null);
	          view.set('profileform.statecode', temp);
	          
	          
	        }, function (error) {
	            console.log(error);
	        });
	    },
	    getCityList: function (view) {
	        //console.log("getCityList");
	        return Q.Promise(function (resolve, reject, progress) {
	            $.ajax({
	                type: 'POST',
	                url: '/b2c/users/getCityList/' + _.parseInt(view.get('profileform.statecode')),
	                dataType: 'json',
	                data: {'data': ''},
	                success: function (data) {
	                    //console.log(data);
	                    view.set('citylist',null);
	                    view.set('citylist', data);
	                    view.set('profileform.citycode', view.get('profileform.citycode'));
	                    resolve();
	                },
	                error: function (error) {
	                    alert(error);
	                }
	            });
	        }).then(function () {
	           $('#divcity .ui.dropdown').dropdown('set selected', $('#divcity .item.active.selected').attr('data-value'));
	        }, function (error) {
	            console.log(error);
	        });
	    },
	});
	
	Myprofile.parse = function(data) {
	           //console.log(data);  
	           data.baseUrl='';
	            data.add=false;
	            data.edit=false;           
	            data.pending= false;
	            
	    return new Myprofile({data: data});
	
	};
	Myprofile.fetch = function() {
	    return Q.Promise(function(resolve, reject) {
	        $.getJSON('/b2c/users/getProfile')
	            .then(function(data) {  resolve(Myprofile.parse(data));
	                
	            })
	            .fail(function(data) {
	                //TODO: handle error
	             console.log("failed");
	             console.log(data);
	            });
	    });
	};
	
	module.exports = Myprofile;

/***/ },
/* 62 */
/***/ function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(module) {//     Validate.js 0.7.1
	
	//     (c) 2013-2015 Nicklas Ansman, 2013 Wrapp
	//     Validate.js may be freely distributed under the MIT license.
	//     For all details and documentation:
	//     http://validatejs.org/
	
	(function(exports, module, define) {
	  "use strict";
	
	  // The main function that calls the validators specified by the constraints.
	  // The options are the following:
	  //   - format (string) - An option that controls how the returned value is formatted
	  //     * flat - Returns a flat array of just the error messages
	  //     * grouped - Returns the messages grouped by attribute (default)
	  //     * detailed - Returns an array of the raw validation data
	  //   - fullMessages (boolean) - If `true` (default) the attribute name is prepended to the error.
	  //
	  // Please note that the options are also passed to each validator.
	  var validate = function(attributes, constraints, options) {
	    options = v.extend({}, v.options, options);
	
	    var results = v.runValidations(attributes, constraints, options)
	      , attr
	      , validator;
	
	    for (attr in results) {
	      for (validator in results[attr]) {
	        if (v.isPromise(results[attr][validator])) {
	          throw new Error("Use validate.async if you want support for promises");
	        }
	      }
	    }
	    return validate.processValidationResults(results, options);
	  };
	
	  var v = validate;
	
	  // Copies over attributes from one or more sources to a single destination.
	  // Very much similar to underscore's extend.
	  // The first argument is the target object and the remaining arguments will be
	  // used as targets.
	  v.extend = function(obj) {
	    [].slice.call(arguments, 1).forEach(function(source) {
	      for (var attr in source) {
	        obj[attr] = source[attr];
	      }
	    });
	    return obj;
	  };
	
	  v.extend(validate, {
	    // This is the version of the library as a semver.
	    // The toString function will allow it to be coerced into a string
	    version: {
	      major: 0,
	      minor: 7,
	      patch: 1,
	      metadata: null,
	      toString: function() {
	        var version = v.format("%{major}.%{minor}.%{patch}", v.version);
	        if (!v.isEmpty(v.version.metadata)) {
	          version += "+" + v.version.metadata;
	        }
	        return version;
	      }
	    },
	
	    // Below is the dependencies that are used in validate.js
	
	    // The constructor of the Promise implementation.
	    // If you are using Q.js, RSVP or any other A+ compatible implementation
	    // override this attribute to be the constructor of that promise.
	    // Since jQuery promises aren't A+ compatible they won't work.
	    Promise: typeof Promise !== "undefined" ? Promise : /* istanbul ignore next */ null,
	
	    // If moment is used in node, browserify etc please set this attribute
	    // like this: `validate.moment = require("moment");
	    moment: typeof moment !== "undefined" ? moment : /* istanbul ignore next */ null,
	
	    XDate: typeof XDate !== "undefined" ? XDate : /* istanbul ignore next */ null,
	
	    EMPTY_STRING_REGEXP: /^\s*$/,
	
	    // Runs the validators specified by the constraints object.
	    // Will return an array of the format:
	    //     [{attribute: "<attribute name>", error: "<validation result>"}, ...]
	    runValidations: function(attributes, constraints, options) {
	      var results = []
	        , attr
	        , validatorName
	        , value
	        , validators
	        , validator
	        , validatorOptions
	        , error;
	
	      if (v.isDomElement(attributes)) {
	        attributes = v.collectFormValues(attributes);
	      }
	
	      // Loops through each constraints, finds the correct validator and run it.
	      for (attr in constraints) {
	        value = v.getDeepObjectValue(attributes, attr);
	        // This allows the constraints for an attribute to be a function.
	        // The function will be called with the value, attribute name, the complete dict of
	        // attributes as well as the options and constraints passed in.
	        // This is useful when you want to have different
	        // validations depending on the attribute value.
	        validators = v.result(constraints[attr], value, attributes, attr, options, constraints);
	
	        for (validatorName in validators) {
	          validator = v.validators[validatorName];
	
	          if (!validator) {
	            error = v.format("Unknown validator %{name}", {name: validatorName});
	            throw new Error(error);
	          }
	
	          validatorOptions = validators[validatorName];
	          // This allows the options to be a function. The function will be
	          // called with the value, attribute name, the complete dict of
	          // attributes as well as the options and constraints passed in.
	          // This is useful when you want to have different
	          // validations depending on the attribute value.
	          validatorOptions = v.result(validatorOptions, value, attributes, attr, options, constraints);
	          if (!validatorOptions) {
	            continue;
	          }
	          results.push({
	            attribute: attr,
	            value: value,
	            validator: validatorName,
	            options: validatorOptions,
	            error: validator.call(validator, value, validatorOptions, attr,
	                                  attributes)
	          });
	        }
	      }
	
	      return results;
	    },
	
	    // Takes the output from runValidations and converts it to the correct
	    // output format.
	    processValidationResults: function(errors, options) {
	      var attr;
	
	      errors = v.pruneEmptyErrors(errors, options);
	      errors = v.expandMultipleErrors(errors, options);
	      errors = v.convertErrorMessages(errors, options);
	
	      switch (options.format || "grouped") {
	        case "detailed":
	          // Do nothing more to the errors
	          break;
	
	        case "flat":
	          errors = v.flattenErrorsToArray(errors);
	          break;
	
	        case "grouped":
	          errors = v.groupErrorsByAttribute(errors);
	          for (attr in errors) {
	            errors[attr] = v.flattenErrorsToArray(errors[attr]);
	          }
	          break;
	
	        default:
	          throw new Error(v.format("Unknown format %{format}", options));
	      }
	
	      return v.isEmpty(errors) ? undefined : errors;
	    },
	
	    // Runs the validations with support for promises.
	    // This function will return a promise that is settled when all the
	    // validation promises have been completed.
	    // It can be called even if no validations returned a promise.
	    async: function(attributes, constraints, options) {
	      options = v.extend({}, v.async.options, options);
	      var results = v.runValidations(attributes, constraints, options);
	
	      return new v.Promise(function(resolve, reject) {
	        v.waitForResults(results).then(function() {
	          var errors = v.processValidationResults(results, options);
	          if (errors) {
	            reject(errors);
	          } else {
	            resolve(attributes);
	          }
	        }, function(err) {
	          reject(err);
	        });
	      });
	    },
	
	    single: function(value, constraints, options) {
	      options = v.extend({}, v.single.options, options, {
	        format: "flat",
	        fullMessages: false
	      });
	      return v({single: value}, {single: constraints}, options);
	    },
	
	    // Returns a promise that is resolved when all promises in the results array
	    // are settled. The promise returned from this function is always resolved,
	    // never rejected.
	    // This function modifies the input argument, it replaces the promises
	    // with the value returned from the promise.
	    waitForResults: function(results) {
	      // Create a sequence of all the results starting with a resolved promise.
	      return results.reduce(function(memo, result) {
	        // If this result isn't a promise skip it in the sequence.
	        if (!v.isPromise(result.error)) {
	          return memo;
	        }
	
	        return memo.then(function() {
	          return result.error.then(
	            function() {
	              result.error = null;
	            },
	            function(error) {
	              // If for some reason the validator promise was rejected but no
	              // error was specified.
	              if (!error) {
	                v.warn("Validator promise was rejected but didn't return an error");
	              } else if (error instanceof Error) {
	                throw error;
	              }
	              result.error = error;
	            }
	          );
	        });
	      }, new v.Promise(function(r) { r(); })); // A resolved promise
	    },
	
	    // If the given argument is a call: function the and: function return the value
	    // otherwise just return the value. Additional arguments will be passed as
	    // arguments to the function.
	    // Example:
	    // ```
	    // result('foo') // 'foo'
	    // result(Math.max, 1, 2) // 2
	    // ```
	    result: function(value) {
	      var args = [].slice.call(arguments, 1);
	      if (typeof value === 'function') {
	        value = value.apply(null, args);
	      }
	      return value;
	    },
	
	    // Checks if the value is a number. This function does not consider NaN a
	    // number like many other `isNumber` functions do.
	    isNumber: function(value) {
	      return typeof value === 'number' && !isNaN(value);
	    },
	
	    // Returns false if the object is not a function
	    isFunction: function(value) {
	      return typeof value === 'function';
	    },
	
	    // A simple check to verify that the value is an integer. Uses `isNumber`
	    // and a simple modulo check.
	    isInteger: function(value) {
	      return v.isNumber(value) && value % 1 === 0;
	    },
	
	    // Uses the `Object` function to check if the given argument is an object.
	    isObject: function(obj) {
	      return obj === Object(obj);
	    },
	
	    // Simply checks if the object is an instance of a date
	    isDate: function(obj) {
	      return obj instanceof Date;
	    },
	
	    // Returns false if the object is `null` of `undefined`
	    isDefined: function(obj) {
	      return obj !== null && obj !== undefined;
	    },
	
	    // Checks if the given argument is a promise. Anything with a `then`
	    // function is considered a promise.
	    isPromise: function(p) {
	      return !!p && v.isFunction(p.then);
	    },
	
	    isDomElement: function(o) {
	      if (!o) {
	        return false;
	      }
	
	      if (!v.isFunction(o.querySelectorAll) || !v.isFunction(o.querySelector)) {
	        return false;
	      }
	
	      if (v.isObject(document) && o === document) {
	        return true;
	      }
	
	      // http://stackoverflow.com/a/384380/699304
	      /* istanbul ignore else */
	      if (typeof HTMLElement === "object") {
	        return o instanceof HTMLElement;
	      } else {
	        return o &&
	          typeof o === "object" &&
	          o !== null &&
	          o.nodeType === 1 &&
	          typeof o.nodeName === "string";
	      }
	    },
	
	    isEmpty: function(value) {
	      var attr;
	
	      // Null and undefined are empty
	      if (!v.isDefined(value)) {
	        return true;
	      }
	
	      // functions are non empty
	      if (v.isFunction(value)) {
	        return false;
	      }
	
	      // Whitespace only strings are empty
	      if (v.isString(value)) {
	        return v.EMPTY_STRING_REGEXP.test(value);
	      }
	
	      // For arrays we use the length property
	      if (v.isArray(value)) {
	        return value.length === 0;
	      }
	
	      // Dates have no attributes but aren't empty
	      if (v.isDate(value)) {
	        return false;
	      }
	
	      // If we find at least one property we consider it non empty
	      if (v.isObject(value)) {
	        for (attr in value) {
	          return false;
	        }
	        return true;
	      }
	
	      return false;
	    },
	
	    // Formats the specified strings with the given values like so:
	    // ```
	    // format("Foo: %{foo}", {foo: "bar"}) // "Foo bar"
	    // ```
	    // If you want to write %{...} without having it replaced simply
	    // prefix it with % like this `Foo: %%{foo}` and it will be returned
	    // as `"Foo: %{foo}"`
	    format: v.extend(function(str, vals) {
	      return str.replace(v.format.FORMAT_REGEXP, function(m0, m1, m2) {
	        if (m1 === '%') {
	          return "%{" + m2 + "}";
	        } else {
	          return String(vals[m2]);
	        }
	      });
	    }, {
	      // Finds %{key} style patterns in the given string
	      FORMAT_REGEXP: /(%?)%\{([^\}]+)\}/g
	    }),
	
	    // "Prettifies" the given string.
	    // Prettifying means replacing [.\_-] with spaces as well as splitting
	    // camel case words.
	    prettify: function(str) {
	      if (v.isNumber(str)) {
	        // If there are more than 2 decimals round it to two
	        if ((str * 100) % 1 === 0) {
	          return "" + str;
	        } else {
	          return parseFloat(Math.round(str * 100) / 100).toFixed(2);
	        }
	      }
	
	      if (v.isArray(str)) {
	        return str.map(function(s) { return v.prettify(s); }).join(", ");
	      }
	
	      if (v.isObject(str)) {
	        return str.toString();
	      }
	
	      // Ensure the string is actually a string
	      str = "" + str;
	
	      return str
	        // Splits keys separated by periods
	        .replace(/([^\s])\.([^\s])/g, '$1 $2')
	        // Removes backslashes
	        .replace(/\\+/g, '')
	        // Replaces - and - with space
	        .replace(/[_-]/g, ' ')
	        // Splits camel cased words
	        .replace(/([a-z])([A-Z])/g, function(m0, m1, m2) {
	          return "" + m1 + " " + m2.toLowerCase();
	        })
	        .toLowerCase();
	    },
	
	    stringifyValue: function(value) {
	      return v.prettify(value);
	    },
	
	    isString: function(value) {
	      return typeof value === 'string';
	    },
	
	    isArray: function(value) {
	      return {}.toString.call(value) === '[object Array]';
	    },
	
	    contains: function(obj, value) {
	      if (!v.isDefined(obj)) {
	        return false;
	      }
	      if (v.isArray(obj)) {
	        return obj.indexOf(value) !== -1;
	      }
	      return value in obj;
	    },
	
	    getDeepObjectValue: function(obj, keypath) {
	      if (!v.isObject(obj) || !v.isString(keypath)) {
	        return undefined;
	      }
	
	      var key = ""
	        , i
	        , escape = false;
	
	      for (i = 0; i < keypath.length; ++i) {
	        switch (keypath[i]) {
	          case '.':
	            if (escape) {
	              escape = false;
	              key += '.';
	            } else if (key in obj) {
	              obj = obj[key];
	              key = "";
	            } else {
	              return undefined;
	            }
	            break;
	
	          case '\\':
	            if (escape) {
	              escape = false;
	              key += '\\';
	            } else {
	              escape = true;
	            }
	            break;
	
	          default:
	            escape = false;
	            key += keypath[i];
	            break;
	        }
	      }
	
	      if (v.isDefined(obj) && key in obj) {
	        return obj[key];
	      } else {
	        return undefined;
	      }
	    },
	
	    // This returns an object with all the values of the form.
	    // It uses the input name as key and the value as value
	    // So for example this:
	    // <input type="text" name="email" value="foo@bar.com" />
	    // would return:
	    // {email: "foo@bar.com"}
	    collectFormValues: function(form, options) {
	      var values = {}
	        , i
	        , input
	        , inputs
	        , value;
	
	      if (!form) {
	        return values;
	      }
	
	      options = options || {};
	
	      inputs = form.querySelectorAll("input[name]");
	      for (i = 0; i < inputs.length; ++i) {
	        input = inputs.item(i);
	
	        if (v.isDefined(input.getAttribute("data-ignored"))) {
	          continue;
	        }
	
	        value = v.sanitizeFormValue(input.value, options);
	        if (input.type === "number") {
	          value = +value;
	        } else if (input.type === "checkbox") {
	          if (input.attributes.value) {
	            if (!input.checked) {
	              value = values[input.name] || null;
	            }
	          } else {
	            value = input.checked;
	          }
	        } else if (input.type === "radio") {
	          if (!input.checked) {
	            value = values[input.name] || null;
	          }
	        }
	        values[input.name] = value;
	      }
	
	      inputs = form.querySelectorAll("select[name]");
	      for (i = 0; i < inputs.length; ++i) {
	        input = inputs.item(i);
	        value = v.sanitizeFormValue(input.options[input.selectedIndex].value, options);
	        values[input.name] = value;
	      }
	
	      return values;
	    },
	
	    sanitizeFormValue: function(value, options) {
	      if (options.trim && v.isString(value)) {
	        value = value.trim();
	      }
	
	      if (options.nullify !== false && value === "") {
	        return null;
	      }
	      return value;
	    },
	
	    capitalize: function(str) {
	      if (!v.isString(str)) {
	        return str;
	      }
	      return str[0].toUpperCase() + str.slice(1);
	    },
	
	    // Remove all errors who's error attribute is empty (null or undefined)
	    pruneEmptyErrors: function(errors) {
	      return errors.filter(function(error) {
	        return !v.isEmpty(error.error);
	      });
	    },
	
	    // In
	    // [{error: ["err1", "err2"], ...}]
	    // Out
	    // [{error: "err1", ...}, {error: "err2", ...}]
	    //
	    // All attributes in an error with multiple messages are duplicated
	    // when expanding the errors.
	    expandMultipleErrors: function(errors) {
	      var ret = [];
	      errors.forEach(function(error) {
	        // Removes errors without a message
	        if (v.isArray(error.error)) {
	          error.error.forEach(function(msg) {
	            ret.push(v.extend({}, error, {error: msg}));
	          });
	        } else {
	          ret.push(error);
	        }
	      });
	      return ret;
	    },
	
	    // Converts the error mesages by prepending the attribute name unless the
	    // message is prefixed by ^
	    convertErrorMessages: function(errors, options) {
	      options = options || {};
	
	      var ret = [];
	      errors.forEach(function(errorInfo) {
	        var error = errorInfo.error;
	
	        if (error[0] === '^') {
	          error = error.slice(1);
	        } else if (options.fullMessages !== false) {
	          error = v.capitalize(v.prettify(errorInfo.attribute)) + " " + error;
	        }
	        error = error.replace(/\\\^/g, "^");
	        error = v.format(error, {value: v.stringifyValue(errorInfo.value)});
	        ret.push(v.extend({}, errorInfo, {error: error}));
	      });
	      return ret;
	    },
	
	    // In:
	    // [{attribute: "<attributeName>", ...}]
	    // Out:
	    // {"<attributeName>": [{attribute: "<attributeName>", ...}]}
	    groupErrorsByAttribute: function(errors) {
	      var ret = {};
	      errors.forEach(function(error) {
	        var list = ret[error.attribute];
	        if (list) {
	          list.push(error);
	        } else {
	          ret[error.attribute] = [error];
	        }
	      });
	      return ret;
	    },
	
	    // In:
	    // [{error: "<message 1>", ...}, {error: "<message 2>", ...}]
	    // Out:
	    // ["<message 1>", "<message 2>"]
	    flattenErrorsToArray: function(errors) {
	      return errors.map(function(error) { return error.error; });
	    },
	
	    exposeModule: function(validate, root, exports, module, define) {
	      if (exports) {
	        if (module && module.exports) {
	          exports = module.exports = validate;
	        }
	        exports.validate = validate;
	      } else {
	        root.validate = validate;
	        if (validate.isFunction(define) && define.amd) {
	          define([], function () { return validate; });
	        }
	      }
	    },
	
	    warn: function(msg) {
	      if (typeof console !== "undefined" && console.warn) {
	        console.warn(msg);
	      }
	    },
	
	    error: function(msg) {
	      if (typeof console !== "undefined" && console.error) {
	        console.error(msg);
	      }
	    }
	  });
	
	  validate.validators = {
	    // Presence validates that the value isn't empty
	    presence: function(value, options) {
	      options = v.extend({}, this.options, options);
	      if (v.isEmpty(value)) {
	        return options.message || this.message || "can't be blank";
	      }
	    },
	    length: function(value, options, attribute) {
	      // Empty values are allowed
	      if (v.isEmpty(value)) {
	        return;
	      }
	
	      options = v.extend({}, this.options, options);
	
	      var is = options.is
	        , maximum = options.maximum
	        , minimum = options.minimum
	        , tokenizer = options.tokenizer || function(val) { return val; }
	        , err
	        , errors = [];
	
	      value = tokenizer(value);
	      var length = value.length;
	      if(!v.isNumber(length)) {
	        v.error(v.format("Attribute %{attr} has a non numeric value for `length`", {attr: attribute}));
	        return options.message || this.notValid || "has an incorrect length";
	      }
	
	      // Is checks
	      if (v.isNumber(is) && length !== is) {
	        err = options.wrongLength ||
	          this.wrongLength ||
	          "is the wrong length (should be %{count} characters)";
	        errors.push(v.format(err, {count: is}));
	      }
	
	      if (v.isNumber(minimum) && length < minimum) {
	        err = options.tooShort ||
	          this.tooShort ||
	          "is too short (minimum is %{count} characters)";
	        errors.push(v.format(err, {count: minimum}));
	      }
	
	      if (v.isNumber(maximum) && length > maximum) {
	        err = options.tooLong ||
	          this.tooLong ||
	          "is too long (maximum is %{count} characters)";
	        errors.push(v.format(err, {count: maximum}));
	      }
	
	      if (errors.length > 0) {
	        return options.message || errors;
	      }
	    },
	    numericality: function(value, options) {
	      // Empty values are fine
	      if (v.isEmpty(value)) {
	        return;
	      }
	
	      options = v.extend({}, this.options, options);
	
	      var errors = []
	        , name
	        , count
	        , checks = {
	            greaterThan:          function(v, c) { return v > c; },
	            greaterThanOrEqualTo: function(v, c) { return v >= c; },
	            equalTo:              function(v, c) { return v === c; },
	            lessThan:             function(v, c) { return v < c; },
	            lessThanOrEqualTo:    function(v, c) { return v <= c; }
	          };
	
	      // Coerce the value to a number unless we're being strict.
	      if (options.noStrings !== true && v.isString(value)) {
	        value = +value;
	      }
	
	      // If it's not a number we shouldn't continue since it will compare it.
	      if (!v.isNumber(value)) {
	        return options.message || this.notValid || "is not a number";
	      }
	
	      // Same logic as above, sort of. Don't bother with comparisons if this
	      // doesn't pass.
	      if (options.onlyInteger && !v.isInteger(value)) {
	        return options.message || this.notInteger  || "must be an integer";
	      }
	
	      for (name in checks) {
	        count = options[name];
	        if (v.isNumber(count) && !checks[name](value, count)) {
	          // This picks the default message if specified
	          // For example the greaterThan check uses the message from
	          // this.notGreaterThan so we capitalize the name and prepend "not"
	          var msg = this["not" + v.capitalize(name)] ||
	            "must be %{type} %{count}";
	
	          errors.push(v.format(msg, {
	            count: count,
	            type: v.prettify(name)
	          }));
	        }
	      }
	
	      if (options.odd && value % 2 !== 1) {
	        errors.push(this.notOdd || "must be odd");
	      }
	      if (options.even && value % 2 !== 0) {
	        errors.push(this.notEven || "must be even");
	      }
	
	      if (errors.length) {
	        return options.message || errors;
	      }
	    },
	    datetime: v.extend(function(value, options) {
	      // Empty values are fine
	      if (v.isEmpty(value)) {
	        return;
	      }
	
	      options = v.extend({}, this.options, options);
	
	      var err
	        , errors = []
	        , earliest = options.earliest ? this.parse(options.earliest, options) : NaN
	        , latest = options.latest ? this.parse(options.latest, options) : NaN;
	
	      value = this.parse(value, options);
	
	      // 86400000 is the number of seconds in a day, this is used to remove
	      // the time from the date
	      if (isNaN(value) || options.dateOnly && value % 86400000 !== 0) {
	        return options.message || this.notValid || "must be a valid date";
	      }
	
	      if (!isNaN(earliest) && value < earliest) {
	        err = this.tooEarly || "must be no earlier than %{date}";
	        err = v.format(err, {date: this.format(earliest, options)});
	        errors.push(err);
	      }
	
	      if (!isNaN(latest) && value > latest) {
	        err = this.tooLate || "must be no later than %{date}";
	        err = v.format(err, {date: this.format(latest, options)});
	        errors.push(err);
	      }
	
	      if (errors.length) {
	        return options.message || errors;
	      }
	    }, {
	      // This is the function that will be used to convert input to the number
	      // of millis since the epoch.
	      // It should return NaN if it's not a valid date.
	      parse: function(value, options) {
	        if (v.isFunction(v.XDate)) {
	          return new v.XDate(value, true).getTime();
	        }
	
	        if (v.isDefined(v.moment)) {
	          return +v.moment.utc(value);
	        }
	
	        throw new Error("Neither XDate or moment.js was found");
	      },
	      // Formats the given timestamp. Uses ISO8601 to format them.
	      // If options.dateOnly is true then only the year, month and day will be
	      // output.
	      format: function(date, options) {
	        var format = options.dateFormat;
	
	        if (v.isFunction(v.XDate)) {
	          format = format || (options.dateOnly ? "yyyy-MM-dd" : "yyyy-MM-dd HH:mm:ss");
	          return new XDate(date, true).toString(format);
	        }
	
	        if (v.isDefined(v.moment)) {
	          format = format || (options.dateOnly ? "YYYY-MM-DD" : "YYYY-MM-DD HH:mm:ss");
	          return v.moment.utc(date).format(format);
	        }
	
	        throw new Error("Neither XDate or moment.js was found");
	      }
	    }),
	    date: function(value, options) {
	      options = v.extend({}, options, {dateOnly: true});
	      return v.validators.datetime.call(v.validators.datetime, value, options);
	    },
	    format: function(value, options) {
	      if (v.isString(options) || (options instanceof RegExp)) {
	        options = {pattern: options};
	      }
	
	      options = v.extend({}, this.options, options);
	
	      var message = options.message || this.message || "is invalid"
	        , pattern = options.pattern
	        , match;
	
	      // Empty values are allowed
	      if (v.isEmpty(value)) {
	        return;
	      }
	      if (!v.isString(value)) {
	        return message;
	      }
	
	      if (v.isString(pattern)) {
	        pattern = new RegExp(options.pattern, options.flags);
	      }
	      match = pattern.exec(value);
	      if (!match || match[0].length != value.length) {
	        return message;
	      }
	    },
	    inclusion: function(value, options) {
	      // Empty values are fine
	      if (v.isEmpty(value)) {
	        return;
	      }
	      if (v.isArray(options)) {
	        options = {within: options};
	      }
	      options = v.extend({}, this.options, options);
	      if (v.contains(options.within, value)) {
	        return;
	      }
	      var message = options.message ||
	        this.message ||
	        "^%{value} is not included in the list";
	      return v.format(message, {value: value});
	    },
	    exclusion: function(value, options) {
	      // Empty values are fine
	      if (v.isEmpty(value)) {
	        return;
	      }
	      if (v.isArray(options)) {
	        options = {within: options};
	      }
	      options = v.extend({}, this.options, options);
	      if (!v.contains(options.within, value)) {
	        return;
	      }
	      var message = options.message || this.message || "^%{value} is restricted";
	      return v.format(message, {value: value});
	    },
	    email: v.extend(function(value, options) {
	      options = v.extend({}, this.options, options);
	      var message = options.message || this.message || "is not a valid email";
	      // Empty values are fine
	      if (v.isEmpty(value)) {
	        return;
	      }
	      if (!v.isString(value)) {
	        return message;
	      }
	      if (!this.PATTERN.exec(value)) {
	        return message;
	      }
	    }, {
	      PATTERN: /^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i
	    }),
	    equality: function(value, options, attribute, attributes) {
	      if (v.isEmpty(value)) {
	        return;
	      }
	
	      if (v.isString(options)) {
	        options = {attribute: options};
	      }
	      options = v.extend({}, this.options, options);
	      var message = options.message ||
	        this.message ||
	        "is not equal to %{attribute}";
	
	      if (v.isEmpty(options.attribute) || !v.isString(options.attribute)) {
	        throw new Error("The attribute must be a non empty string");
	      }
	
	      var otherValue = v.getDeepObjectValue(attributes, options.attribute)
	        , comparator = options.comparator || function(v1, v2) {
	          return v1 === v2;
	        };
	
	      if (!comparator(value, otherValue, options, attribute, attributes)) {
	        return v.format(message, {attribute: v.prettify(options.attribute)});
	      }
	    }
	  };
	
	  validate.exposeModule(validate, this, exports, module, __webpack_require__(63));
	}).call(this,
	         true ? /* istanbul ignore next */ exports : null,
	         true ? /* istanbul ignore next */ module : null,
	        __webpack_require__(63));
	
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(31)(module)))

/***/ },
/* 63 */
/***/ function(module, exports) {

	module.exports = function() { throw new Error("define cannot be used indirect"); };


/***/ },
/* 64 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _ = __webpack_require__(30),
	        Q = __webpack_require__(26),
	        $ = __webpack_require__(33),
	        moment = __webpack_require__(44),
	        validate = __webpack_require__(62)
	
	        ;
	
	var Store = __webpack_require__(55);
	
	var MybookingData = Store.extend({
	    computed: {
	        price: function () {
	            _.reduce(this.get(' '))
	        }
	    },
	    refreshCurrentCart: function (view) {
	        //console.log("refreshCurrentCart");
	        return Q.Promise(function (resolve, reject, progress) {
	            $.ajax({
	                type: 'POST',
	                url: '/b2c/airCart/getCartDetails/' + _.parseInt(view.get('currentCartId')),
	                dataType: 'json',
	                data: {'data': ''},
	                success: function (data) {
	                    var details = {
	                        id: data.id, email: data.email, upcoming: data.upcoming, created: data.created, totalAmount: data.totalAmount, booking_status: data.booking_status, booking_statusmsg: data.booking_statusmsg, returndate: data.returndate, isMultiCity: data.isMultiCity,
	                        curency: data.curency, fop: data.fop, baseprice: data.baseprice, taxes: data.taxes, convfee: data.convfee, fee: data.fee, totalAmountinwords: data.totalAmountinwords, customercare: data.customercare, promodiscount: data.promo_discount,
	                        bookings: _.map(data.bookings, function (i) {
	                            return {id: i.id, upcoming: i.upcoming, source_id: i.source_id, destination_id: i.destination_id, source: i.source, flighttime: i.flighttime, destination: i.destination, departure: i.departure, arrival: i.arrival,
	                                traveller: _.map(i.traveller, function (t) {
	                                    return {
	                                        id: t.id, bookingid: t.bookingid, faretype: t.faretype, title: t.title, type: t.type, first_name: t.first_name, last_name: t.last_name,
	                                        airline_pnr: t.airline_pnr, crs_pnr: t.crs_pnr, ticket: t.ticket, booking_class: t.booking_class, cabin: t.cabin,product_class:t.product_class,
	                                        basicfare: t.basicfare, taxes: t.taxes, total: t.total, status: t.status, statusmsg: t.statusmsg, selected: false,
	                                        routes: _.map(t.routes, function (ro) {
	                                            return {
	                                                id: ro.id, origin: ro.origin, originDetails: ro.originDetails, destinationDetails: ro.destinationDetails, destination: ro.destination, departure: ro.departure, arrival: ro.arrival, carrier: ro.carrier, logo: ro.logo, carrierName: ro.carrierName, flightNumber: ro.flightNumber,
	                                                flighttime: ro.flighttime, originTerminal: ro.originTerminal, destinationTerminal: ro.destinationTerminal, meal: ro.meal, seat: ro.seat, aircraft: ro.aircraft,
	                                            };
	                                        }).sort(function (x, y) {
	                                            var d1 = new Date(x.departure);
	                                            var d2 = new Date(y.departure);
	                                            if (d1 > d2) {
	                                                return 1;
	                                            } else {
	                                                return -1;
	                                            }
	                                            ;
	
	                                        })
	                                    };
	                                }),
	                                routes: _.map(i.routes, function (t) {
	                                    return {
	                                        id: t.id, origin: t.origin, originDetails: t.originDetails, destinationDetails: t.destinationDetails, destination: t.destination, departure: t.departure, arrival: t.arrival, carrier: t.carrier, carrierName: t.carrierName, flightNumber: t.flightNumber,
	                                        flighttime: t.flighttime, originTerminal: t.originTerminal, destinationTerminal: t.destinationTerminal, meal: t.meal, seat: t.seat, aircraft: t.aircraft,
	                                    };
	                                }),
	                            };
	                        }).sort(function (x, y) {
	                            var d1 = new Date(x.departure);
	                            var d2 = new Date(y.departure);
	                            if (d1 > d2) {
	                                return 1
	                            } else {
	                                return -1
	                            }
	                            ;
	
	                        }), };
	
	                    // console.log(details);
	                    //console.log(data);
	                    view.set('currentCartDetails', details);
	                    var index = _.findIndex(view.get('carts'), {'id': details.id});
	                    // console.log('index: '+index);
	
	                    var carts = view.get('carts');
	                    carts[index].booking_status = details.booking_status;
	                    view.set('carts', carts);
	                    view.set('summary', false);
	                    view.set('pending', false);
	
	                    resolve();
	                },
	                error: function (error) {
	                    alert(error);
	                }
	            });
	        }).then(function () {
	            console.log('finsihed store: ');
	        }, function (error) {
	            console.log(error);
	        });
	    },
	});
	
	MybookingData.getCurrentCart = function (id) {
	    // console.log("getCurrentCart");
	    return Q.Promise(function (resolve, reject, progress) {
	        $.ajax({
	            type: 'POST',
	            url: '/b2c/airCart/getCartDetails/' + _.parseInt(id),
	            dataType: 'json',
	            data: {'data': ''},
	            success: function (data) {
	                //console.log(data.bookings: _.map(data.bookings, function (i) {console.log(i);}));
	                // console.log("done");
	            },
	            error: function (error) {
	                alert(error);
	            }
	        }).then(function (data) {
	            //console.log(data);
	            var details1 = {
	                bookings: _.map(data.bookings, function (i) {
	                    return {source: i.source, destination: i.destination,
	                        traveller: _.map(i.traveller, function (t) {
	                            return {
	                                routes: _.map(t.routes, function (ro) {
	                                    return {origin: ro.origin, destination: ro.destination};
	                                })
	                            };
	                        }),
	                        routes: _.map(i.routes, function (t) {
	                            return {origin: t.origin, destination: t.destination};
	                        })
	                    };
	                })};
	            var obj_length = details1.bookings[0].routes.length;
	            var allorigins = [];
	            var alldestinations = [];
	            for (var a = 0; a < obj_length; a++)
	            {
	                allorigins.push(details1.bookings[0].routes[a].origin);
	                alldestinations.push(details1.bookings[0].routes[a].destination);
	            }
	            if (alldestinations.length > 1)
	            {
	                //console.log(allorigins);console.log(alldestinations);
	                var change_one = [];
	                for (var b = 0; b < alldestinations.length; b++)
	                {
	                    if (typeof allorigins[b + 1] !== "undefined")
	                    {
	                        //console.log(allorigins[b+1]);
	                        if (allorigins[b + 1] != alldestinations[b])
	                        {
	                            var msg = "AC";
	                            change_one.push(allorigins[b + 1]);
	                            change_one.push(alldestinations[b]);
	                        }
	                    }
	                }
	            }
	            if (typeof msg !== "undefined" && msg == "AC")
	            {
	                var message = "Airport Change";
	            }
	            //console.log(msg);console.log(change_one);
	            var details = {
	                airport_change: message, airport_change_name: change_one, transit: data.transit,
	                id: data.id, email: data.email, ticketstatusmsg: data.ticketstatusmsg, upcoming: data.upcoming, created: data.created, totalAmount: data.totalAmount, booking_status: data.booking_status, clientSourceId: data.clientSourceId, segNights: data.segNights,
	                booking_statusmsg: data.booking_statusmsg, returndate: data.returndate, isMultiCity: data.isMultiCity, curency: data.curency, fop: data.fop, baseprice: data.baseprice, taxes: data.taxes, convfee: data.convfee, fee: data.fee, totalAmountinwords: data.totalAmountinwords, customercare: data.customercare, promodiscount: data.promo_discount,
	                bookings: _.map(data.bookings, function (i) {
	                    return {id: i.id, upcoming: i.upcoming, source_id: i.source_id, destination_id: i.destination_id, source: i.source, flighttime: i.flighttime, destination: i.destination, departure: i.departure, arrival: i.arrival,
	                        traveller: _.map(i.traveller, function (t) {
	                            return {
	                                id: t.id, bookingid: t.bookingid, faretype: t.faretype, title: t.title, type: t.type, first_name: t.first_name, last_name: t.last_name,
	                                airline_pnr: t.airline_pnr, crs_pnr: t.crs_pnr, ticket: t.ticket, booking_class: t.booking_class, cabin: t.cabin,product_class:t.product_class,
	                                basicfare: t.basicfare, taxes: t.taxes, total: t.total, status: t.status, statusmsg: t.statusmsg, selected: false,
	                                routes: _.map(t.routes, function (ro) {
	                                    return {
	                                        id: ro.id, origin: ro.origin, originDetails: ro.originDetails, logo: ro.logo, destinationDetails: ro.destinationDetails, destination: ro.destination, departure: ro.departure, arrival: ro.arrival, carrier: ro.carrier, carrierName: ro.carrierName, flightNumber: ro.flightNumber,
	                                        flighttime: ro.flighttime, originTerminal: ro.originTerminal, destinationTerminal: ro.destinationTerminal, meal: ro.meal, seat: ro.seat, aircraft: ro.aircraft,
	                                    };
	                                })
	                            };
	                        }),
	                        routes: _.map(i.routes, function (t) {
	                            return {
	                                id: t.id, origin: t.origin, originDetails: t.originDetails, logo: t.logo, destinationDetails: t.destinationDetails, destination: t.destination, departure: t.departure, arrival: t.arrival, carrier: t.carrier, carrierName: t.carrierName, flightNumber: t.flightNumber,
	                                flighttime: t.flighttime, originTerminal: t.originTerminal, destinationTerminal: t.destinationTerminal, meal: t.meal, seat: t.seat, aircraft: t.aircraft, techStop: t.techStop,
	                            };
	                        })
	//                            .sort(function (x, y) {
	//                            var d1 = new Date(x.departure);
	//                            var d2 = new Date(y.departure);
	//                            if (d1 > d2) {
	//                                return 1
	//                            } else {
	//                                return -1
	//                            }
	//                            ;
	//
	//                        }),
	
	                    };
	                })};
	
	            /*CHECK AIRPORT CHANGE AND GET*/
	
	            /*CHECK AIRPORT CHANGE AND GET*/
	
	            data.currentCartDetails = details;
	
	            data.carts = [];
	            data.carts.push(details);
	            data.cabinType = 1;
	            data.add = false;
	            data.edit = false;
	            data.currentCartId = details.id;
	            //console.log(data.currentCartDetails);
	            data.summary = false;
	            data.print = false;
	            data.pending = false;
	            data.amend = false;
	            data.cancel = false;
	            data.reschedule = false;
	
	            data.errors = {};
	            data.results = [];
	
	            data.filter = {};
	            data.filtered = {};
	            return resolve(new MybookingData({data: data}));
	
	
	        }, function (error) {
	            console.log(error);
	        })
	    });
	};
	
	MybookingData.parse = function (data) {
	    //console.log("MybookingData.parse");
	    //data.flights = _.map(data.flights, function(i) { return Flight.parse(i); });
	    //   console.log(data);   
	    var flgUpcoming = false;
	    var flgPrevious = false;
	    data.carts = _.map(data, function (i) {
	        if (i.upcoming == 'true')
	            flgUpcoming = true;
	        else
	            flgPrevious = true;
	        return {id: i.id, email: i.email, created: i.created, totalAmount: i.totalAmount, booking_status: i.booking_status,
	            returndate: i.returndate, isMultiCity: i.isMultiCity, curency: i.curency, upcoming: i.upcoming,
	            bookings: _.map(i.bookings, function (b) {
	
	                return {
	                    id: b.id, source: b.source, destination: b.destination, source_id: b.source_id, destination_id: b.destination_id,
	                    departure: b.departure, arrival: b.arrival,
	                    travelers: _.map(b.traveller, function (t) {
	                        return {id: t.id, name: t.name};
	                    }),
	                };
	            }).sort(function (x, y) {
	                var d1 = new Date(x.departure);
	                var d2 = new Date(y.departure);
	                if (d1 > d2) {
	                    return 1
	                } else {
	                    return -1
	                }
	                ;
	
	            }),
	            traveler: _.map(i.travellerdtl, function (j) {
	                return {id: j.id, name: j.name,
	                    src: _.map(j.src, function (g) {
	                        return {name: g};
	                    }),
	                    dest: _.map(j.dest, function (g) {
	                        return {name: g};
	                    }),
	                };
	            }),
	        };
	    });
	    data.carts.sort(function (x, y) {
	        if (x.id < y.id) {
	            return 1
	        } else {
	            return -1
	        }
	        ;
	
	    });
	    //         console.log(data.carts);  
	    //          data.currentTraveller= _.first(data.travellers);
	    //           data.currentTravellerId=data.currentTraveller.id;
	    data.cabinType = 1;
	    data.add = false;
	    data.edit = false;
	    data.currentCartId = null;
	    data.currentCartDetails = null;
	    data.summary = true;
	    data.pending = true;
	    data.amend = false;
	    data.cancel = false;
	    data.print = false;
	    data.reschedule = false;
	    data.flgUpcoming = flgUpcoming;
	    data.flgPrevious = flgPrevious;
	    data.errors = {};
	    data.results = [];
	
	    data.filter = {};
	    data.filtered = {};
	    return new MybookingData({data: data});
	
	};
	MybookingData.fetch = function () {
	    //console.log("MybookingData.fetch");
	    return Q.Promise(function (resolve, reject) {
	        $.getJSON('/b2c/airCart/getMyBookings')
	                .then(function (data) {
	                    resolve(MybookingData.parse(data));
	
	                })
	                .fail(function (data) {
	                    //TODO: handle error
	                    console.log("failed");
	                    console.log(data);
	                });
	    });
	};
	module.exports = MybookingData;

/***/ },
/* 65 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var Store = __webpack_require__(55),
	    moment = __webpack_require__(44),
	    validate = __webpack_require__(62),
	    $ = __webpack_require__(33),
	    _ = __webpack_require__(30)
	    ;
	
	module.exports = Store.extend({
	    quene: [],
	
	    data: function() {
	        
	        var getData=function(data){
	          //  console.log(data);
	        };
	        var getData1=function(data){
	            console.log("error");
	            console.log(data);
	        };
	        var doajax=function(getData){
	         $.ajax({
	                type: 'POST',                
	                url: 'b2c/traveler/getMyTravelersList',  
	                success: getData,
	                error: getData1
	            });
	    };
	        doajax(getData);
	       
	        return {
	            
	            currentTraveller: {id: 1,title:'Mr.', email: 'prashant@gmail.com', mobile: '9412357926',  first_name: 'Prashant', 
	                last_name:'Kumar',birthdate:'2001-05-30',baseUrl:'',passport_number:'342123',passport_place:'India'
	            },
	            currentTravellerId:1,
	            cabinType: 1,
	            add:false,
	            edit:false,
	            titles:[{id:1,text:'Mr.'},{id:2,text:'Mrs.'},{id:3,text:'Ms.'},{id:4,text:'Miss'},{id:5,text:'Mstr.'},{id:6,text:'Inf.'}],
	            passengers: [1, 0, 0],
	            travellers: [
	                { id: 1,title:'Mr.', email: 'prashant@gmail.com', mobile: '9412357926',passport_number:'2542342',passport_place:'India', 
	                    first_name: 'Prashant', last_name:'Kumar',birthdate:'2001-05-30',baseUrl:''},
	                { id: 2,title:'Mr.', email: 'Michael@gmail.com', mobile: '1234567890',passport_number:'3123123',passport_place:'India', 
	                    first_name: 'Michael', last_name:'Jain',birthdate:'2005-03-03',baseUrl:''},
	                { id: 3,title:'Mr.', email: 'belair@gmail.com', mobile: '1234567890',passport_number:'1231231',passport_place:'India',
	                    first_name: 'Belair', last_name:'Travels',birthdate:'2002-02-20',baseUrl:''}
	            ],
	
	            pending: false,
	            errors: {},
	            results: [],
	
	            filter: {},
	            filtered: {},
	           
	        }
	    },
	
	    
	    run: function() {
	        var view = this;
	    if(this.get().add){        
	        var newtraveller=_.pick(this.get(), 'currentTraveller'); 
	        var travellers=this.get().travellers;
	        var t=newtraveller.currentTraveller.title;
	        var titles=_.cloneDeep(this.get().titles);
	        var title;
	         _.each(titles, function(i, k) { if (i.id==t) title=i.text; });
	      
	        var currenttraveller={id: 4,title:title, email: newtraveller.currentTraveller.email, mobile: newtraveller.currentTraveller.mobile,  first_name: newtraveller.currentTraveller.first_name, 
	                last_name:newtraveller.currentTraveller.last_name,birthdate:newtraveller.currentTraveller.birthdate.format('YYYY-MM-DD'),baseUrl:'',passport_number:newtraveller.currentTraveller.passport_number,passport_place:newtraveller.currentTraveller.passport_place
	            };
	        travellers.push(currenttraveller);
	        //console.log(travellers);
	        this.set('travellers',travellers);
	        this.set('currentTraveller',currenttraveller);
	        this.set('currentTravellerId',4);
	    }
	    else if(this.get().edit){
	        var newtraveller=this.get().currentTraveller; 
	        var travellers=this.get().travellers;
	        var t=newtraveller.title;
	        var titles=_.cloneDeep(this.get().titles);
	        var title;
	        var id=this.get().currentTravellerId;
	         _.each(titles, function(i, k) { /*console.log(i);*/ if (i.id==t) title=i.text; });
	      
	        var currenttraveller={id: id,title:title, email: newtraveller.email, mobile: newtraveller.mobile,  first_name: newtraveller.first_name, 
	                last_name:newtraveller.last_name,birthdate:newtraveller.birthdate.format('YYYY-MM-DD'),baseUrl:'',passport_number:newtraveller.passport_number,passport_place:newtraveller.passport_place
	            };
	        var index= _.findIndex(this.get().travellers, { 'id': id});
	        this.splice('travellers', index, 1);
	      //  console.log(currenttraveller);
	        travellers.push(currenttraveller);
	        //console.log(travellers);
	        this.set('travellers',travellers);
	        this.set('currentTraveller',currenttraveller);        
	    }
	        this.set('add',false); 
	        this.set('edit',false); 
	        //,
	     /*       search = _.pick(this.get(), ['tripType', 'cabinType', 'passengers']);
	
	        this.set('errors', {});
	        this.set('pending', true);
	        this.quene = [];
	
	
	        _.each(this.get('flights'), function(i, k) {
	            view.quene[view.quene.length] = $.ajax({
	                type: 'POST',
	                url: '/b2c/flights/search',
	                data: _.extend({}, search, {
	                    from: i.from,
	                    to: i.to,
	                    depart_at: moment.isMoment(i.depart_at) ? i.depart_at.format('YYYY-MM-DD') : null,
	                    return_at: moment.isMoment(i.return_at) ? i.return_at.format('YYYY-MM-DD') : null
	                }),
	                dataType: 'json',
	                success: function(data) { view.importResults(k, data); },
	                error: function(xhr) { view.handleError(k, xhr); }
	            })
	        });
	
	        $.when.apply(undefined, this.quene)
	            .done(function() { view.set('pending', false); view.set('finished', true); }); */
	    },
	
	    importResults: function(k, data) {
	        this.set('filtered', {});
	        this.set('results.' + k, data);
	
	        var prices = [],
	            carriers = [];
	
	        _.each(data, function(i) {
	            prices[prices.length] = i.price;
	            carriers[carriers.length] = i.itinerary[0].segments[0].carrier;
	        });
	
	
	        carriers = _.unique(carriers, 'code');
	
	        this.set('filter', {
	            prices: [Math.min.apply(null, prices), Math.max.apply(null, prices)],
	            carriers: carriers
	        });
	
	        this.set('filtered.carriers', _.map(carriers, function(i) { return i.code; }));
	    },
	
	    handleError: function(k, xhr) {
	
	    }
	
	
	});

/***/ },
/* 66 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var $ = __webpack_require__(33),
	        Q = __webpack_require__(26)
	        ;
	
	var Form = __webpack_require__(34)
	        ;
	
	var Dialog = Form.extend({
	    template: __webpack_require__(67),
	    modalType: 1,
	    data: function () {
	        return {
	            header: 'header',
	            message: 'message',
	            buttons: [
	                ['Ok', function() { alert('zzz'); }],
	                ['Cancel', function() { alert('yyy') }]
	            ],
	            closeButton: true
	        }
	    },
	    oncomplete: function () {
	        if (Dialog.modalType === 2) {
	            var options = {
	                keyboardShortcuts: false,
	                closable: false
	            };
	            $(this.find('.ui.modal')).modal(options).modal('show');
	        } else {
	            $(this.find('.ui.modal')).modal('show');
	        }
	
	    },
	    click: function (event, cb) {
	        cb.bind(this)(event);
	    }
	});
	
	
	Dialog.open = function (options, type) {
	    var dialog = new Dialog();
	    Dialog.modalType = type;
	    dialog.set(options);
	    dialog.render('#popup-container');
	};
	
	module.exports = Dialog;

/***/ },
/* 67 */
/***/ function(module, exports) {

	module.exports={"v":3,"t":[{"t":7,"e":"div","a":{"class":"ui  small modal"},"f":[{"t":4,"f":[{"t":7,"e":"i","a":{"class":"close icon"}}],"n":50,"r":"closeButton"}," ",{"t":7,"e":"div","a":{"class":"header"},"f":[{"t":2,"r":"header"}]}," ",{"t":7,"e":"div","a":{"class":"content"},"f":[{"t":3,"r":"message"}]}," ",{"t":7,"e":"div","a":{"class":"actions"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"ui button"},"v":{"click":{"m":"click","a":{"r":["event","./1"],"s":"[_0,_1]"}}},"f":[{"t":2,"r":"./0"}]}],"n":52,"r":"buttons"}]}]}]};

/***/ },
/* 68 */,
/* 69 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var accounting = __webpack_require__(70)
	    ;
	
	var Meta = __webpack_require__(68)
	    ;
	
	module.exports = function(amount) {
	    if (Meta.object) {
	        return accounting.formatMoney(
	            amount * Meta.object.get('xChange')[Meta.object.get('display_currency')],
	            '<i class="' + Meta.object.get('display_currency').toLowerCase()  + ' icon currency"></i>',
	            0
	        );
	    }
	
	    return accounting.formatMoney(amount, '<i class="inr icon currency"></i>', 0);
	};

/***/ },
/* 70 */
/***/ function(module, exports, __webpack_require__) {

	/*!
	 * accounting.js v0.3.2
	 * Copyright 2011, Joss Crowcroft
	 *
	 * Freely distributable under the MIT license.
	 * Portions of accounting.js are inspired or borrowed from underscore.js
	 *
	 * Full details and documentation:
	 * http://josscrowcroft.github.com/accounting.js/
	 */
	
	(function(root, undefined) {
	
		/* --- Setup --- */
	
		// Create the local library object, to be exported or referenced globally later
		var lib = {};
	
		// Current version
		lib.version = '0.3.2';
	
	
		/* --- Exposed settings --- */
	
		// The library's settings configuration object. Contains default parameters for
		// currency and number formatting
		lib.settings = {
			currency: {
				symbol : "$",		// default currency symbol is '$'
				format : "%s%v",	// controls output: %s = symbol, %v = value (can be object, see docs)
				decimal : ".",		// decimal point separator
				thousand : ",",		// thousands separator
				precision : 2,		// decimal places
				grouping : 3		// digit grouping (not implemented yet)
			},
			number: {
				precision : 0,		// default precision on numbers is 0
				grouping : 3,		// digit grouping (not implemented yet)
				thousand : ",",
				decimal : "."
			}
		};
	
	
		/* --- Internal Helper Methods --- */
	
		// Store reference to possibly-available ECMAScript 5 methods for later
		var nativeMap = Array.prototype.map,
			nativeIsArray = Array.isArray,
			toString = Object.prototype.toString;
	
		/**
		 * Tests whether supplied parameter is a string
		 * from underscore.js
		 */
		function isString(obj) {
			return !!(obj === '' || (obj && obj.charCodeAt && obj.substr));
		}
	
		/**
		 * Tests whether supplied parameter is a string
		 * from underscore.js, delegates to ECMA5's native Array.isArray
		 */
		function isArray(obj) {
			return nativeIsArray ? nativeIsArray(obj) : toString.call(obj) === '[object Array]';
		}
	
		/**
		 * Tests whether supplied parameter is a true object
		 */
		function isObject(obj) {
			return toString.call(obj) === '[object Object]';
		}
	
		/**
		 * Extends an object with a defaults object, similar to underscore's _.defaults
		 *
		 * Used for abstracting parameter handling from API methods
		 */
		function defaults(object, defs) {
			var key;
			object = object || {};
			defs = defs || {};
			// Iterate over object non-prototype properties:
			for (key in defs) {
				if (defs.hasOwnProperty(key)) {
					// Replace values with defaults only if undefined (allow empty/zero values):
					if (object[key] == null) object[key] = defs[key];
				}
			}
			return object;
		}
	
		/**
		 * Implementation of `Array.map()` for iteration loops
		 *
		 * Returns a new Array as a result of calling `iterator` on each array value.
		 * Defers to native Array.map if available
		 */
		function map(obj, iterator, context) {
			var results = [], i, j;
	
			if (!obj) return results;
	
			// Use native .map method if it exists:
			if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);
	
			// Fallback for native .map:
			for (i = 0, j = obj.length; i < j; i++ ) {
				results[i] = iterator.call(context, obj[i], i, obj);
			}
			return results;
		}
	
		/**
		 * Check and normalise the value of precision (must be positive integer)
		 */
		function checkPrecision(val, base) {
			val = Math.round(Math.abs(val));
			return isNaN(val)? base : val;
		}
	
	
		/**
		 * Parses a format string or object and returns format obj for use in rendering
		 *
		 * `format` is either a string with the default (positive) format, or object
		 * containing `pos` (required), `neg` and `zero` values (or a function returning
		 * either a string or object)
		 *
		 * Either string or format.pos must contain "%v" (value) to be valid
		 */
		function checkCurrencyFormat(format) {
			var defaults = lib.settings.currency.format;
	
			// Allow function as format parameter (should return string or object):
			if ( typeof format === "function" ) format = format();
	
			// Format can be a string, in which case `value` ("%v") must be present:
			if ( isString( format ) && format.match("%v") ) {
	
				// Create and return positive, negative and zero formats:
				return {
					pos : format,
					neg : format.replace("-", "").replace("%v", "-%v"),
					zero : format
				};
	
			// If no format, or object is missing valid positive value, use defaults:
			} else if ( !format || !format.pos || !format.pos.match("%v") ) {
	
				// If defaults is a string, casts it to an object for faster checking next time:
				return ( !isString( defaults ) ) ? defaults : lib.settings.currency.format = {
					pos : defaults,
					neg : defaults.replace("%v", "-%v"),
					zero : defaults
				};
	
			}
			// Otherwise, assume format was fine:
			return format;
		}
	
	
		/* --- API Methods --- */
	
		/**
		 * Takes a string/array of strings, removes all formatting/cruft and returns the raw float value
		 * alias: accounting.`parse(string)`
		 *
		 * Decimal must be included in the regular expression to match floats (default: "."), so if the number
		 * uses a non-standard decimal separator, provide it as the second argument.
		 *
		 * Also matches bracketed negatives (eg. "$ (1.99)" => -1.99)
		 *
		 * Doesn't throw any errors (`NaN`s become 0) but this may change in future
		 */
		var unformat = lib.unformat = lib.parse = function(value, decimal) {
			// Recursively unformat arrays:
			if (isArray(value)) {
				return map(value, function(val) {
					return unformat(val, decimal);
				});
			}
	
			// Fails silently (need decent errors):
			value = value || 0;
	
			// Return the value as-is if it's already a number:
			if (typeof value === "number") return value;
	
			// Default decimal point is "." but could be set to eg. "," in opts:
			decimal = decimal || ".";
	
			 // Build regex to strip out everything except digits, decimal point and minus sign:
			var regex = new RegExp("[^0-9-" + decimal + "]", ["g"]),
				unformatted = parseFloat(
					("" + value)
					.replace(/\((.*)\)/, "-$1") // replace bracketed values with negatives
					.replace(regex, '')         // strip out any cruft
					.replace(decimal, '.')      // make sure decimal point is standard
				);
	
			// This will fail silently which may cause trouble, let's wait and see:
			return !isNaN(unformatted) ? unformatted : 0;
		};
	
	
		/**
		 * Implementation of toFixed() that treats floats more like decimals
		 *
		 * Fixes binary rounding issues (eg. (0.615).toFixed(2) === "0.61") that present
		 * problems for accounting- and finance-related software.
		 */
		var toFixed = lib.toFixed = function(value, precision) {
			precision = checkPrecision(precision, lib.settings.number.precision);
			var power = Math.pow(10, precision);
	
			// Multiply up by precision, round accurately, then divide and use native toFixed():
			return (Math.round(lib.unformat(value) * power) / power).toFixed(precision);
		};
	
	
		/**
		 * Format a number, with comma-separated thousands and custom precision/decimal places
		 *
		 * Localise by overriding the precision and thousand / decimal separators
		 * 2nd parameter `precision` can be an object matching `settings.number`
		 */
		var formatNumber = lib.formatNumber = function(number, precision, thousand, decimal) {
			// Resursively format arrays:
			if (isArray(number)) {
				return map(number, function(val) {
					return formatNumber(val, precision, thousand, decimal);
				});
			}
	
			// Clean up number:
			number = unformat(number);
	
			// Build options object from second param (if object) or all params, extending defaults:
			var opts = defaults(
					(isObject(precision) ? precision : {
						precision : precision,
						thousand : thousand,
						decimal : decimal
					}),
					lib.settings.number
				),
	
				// Clean up precision
				usePrecision = checkPrecision(opts.precision),
	
				// Do some calc:
				negative = number < 0 ? "-" : "",
				base = parseInt(toFixed(Math.abs(number || 0), usePrecision), 10) + "",
				mod = base.length > 3 ? base.length % 3 : 0;
	
			// Format the number:
			return negative + (mod ? base.substr(0, mod) + opts.thousand : "") + base.substr(mod).replace(/(\d{3})(?=\d)/g, "$1" + opts.thousand) + (usePrecision ? opts.decimal + toFixed(Math.abs(number), usePrecision).split('.')[1] : "");
		};
	
	
		/**
		 * Format a number into currency
		 *
		 * Usage: accounting.formatMoney(number, symbol, precision, thousandsSep, decimalSep, format)
		 * defaults: (0, "$", 2, ",", ".", "%s%v")
		 *
		 * Localise by overriding the symbol, precision, thousand / decimal separators and format
		 * Second param can be an object matching `settings.currency` which is the easiest way.
		 *
		 * To do: tidy up the parameters
		 */
		var formatMoney = lib.formatMoney = function(number, symbol, precision, thousand, decimal, format) {
			// Resursively format arrays:
			if (isArray(number)) {
				return map(number, function(val){
					return formatMoney(val, symbol, precision, thousand, decimal, format);
				});
			}
	
			// Clean up number:
			number = unformat(number);
	
			// Build options object from second param (if object) or all params, extending defaults:
			var opts = defaults(
					(isObject(symbol) ? symbol : {
						symbol : symbol,
						precision : precision,
						thousand : thousand,
						decimal : decimal,
						format : format
					}),
					lib.settings.currency
				),
	
				// Check format (returns object with pos, neg and zero):
				formats = checkCurrencyFormat(opts.format),
	
				// Choose which format to use for this value:
				useFormat = number > 0 ? formats.pos : number < 0 ? formats.neg : formats.zero;
	
			// Return with currency symbol added:
			return useFormat.replace('%s', opts.symbol).replace('%v', formatNumber(Math.abs(number), checkPrecision(opts.precision), opts.thousand, opts.decimal));
		};
	
	
		/**
		 * Format a list of numbers into an accounting column, padding with whitespace
		 * to line up currency symbols, thousand separators and decimals places
		 *
		 * List should be an array of numbers
		 * Second parameter can be an object containing keys that match the params
		 *
		 * Returns array of accouting-formatted number strings of same length
		 *
		 * NB: `white-space:pre` CSS rule is required on the list container to prevent
		 * browsers from collapsing the whitespace in the output strings.
		 */
		lib.formatColumn = function(list, symbol, precision, thousand, decimal, format) {
			if (!list) return [];
	
			// Build options object from second param (if object) or all params, extending defaults:
			var opts = defaults(
					(isObject(symbol) ? symbol : {
						symbol : symbol,
						precision : precision,
						thousand : thousand,
						decimal : decimal,
						format : format
					}),
					lib.settings.currency
				),
	
				// Check format (returns object with pos, neg and zero), only need pos for now:
				formats = checkCurrencyFormat(opts.format),
	
				// Whether to pad at start of string or after currency symbol:
				padAfterSymbol = formats.pos.indexOf("%s") < formats.pos.indexOf("%v") ? true : false,
	
				// Store value for the length of the longest string in the column:
				maxLength = 0,
	
				// Format the list according to options, store the length of the longest string:
				formatted = map(list, function(val, i) {
					if (isArray(val)) {
						// Recursively format columns if list is a multi-dimensional array:
						return lib.formatColumn(val, opts);
					} else {
						// Clean up the value
						val = unformat(val);
	
						// Choose which format to use for this value (pos, neg or zero):
						var useFormat = val > 0 ? formats.pos : val < 0 ? formats.neg : formats.zero,
	
							// Format this value, push into formatted list and save the length:
							fVal = useFormat.replace('%s', opts.symbol).replace('%v', formatNumber(Math.abs(val), checkPrecision(opts.precision), opts.thousand, opts.decimal));
	
						if (fVal.length > maxLength) maxLength = fVal.length;
						return fVal;
					}
				});
	
			// Pad each number in the list and send back the column of numbers:
			return map(formatted, function(val, i) {
				// Only if this is a string (not a nested array, which would have already been padded):
				if (isString(val) && val.length < maxLength) {
					// Depending on symbol position, pad after symbol or at index 0:
					return padAfterSymbol ? val.replace(opts.symbol, opts.symbol+(new Array(maxLength - val.length + 1).join(" "))) : (new Array(maxLength - val.length + 1).join(" ")) + val;
				}
				return val;
			});
		};
	
	
		/* --- Module Definition --- */
	
		// Export accounting for CommonJS. If being loaded as an AMD module, define it as such.
		// Otherwise, just add `accounting` to the global object
		if (true) {
			if (typeof module !== 'undefined' && module.exports) {
				exports = module.exports = lib;
			}
			exports.accounting = lib;
		} else if (typeof define === 'function' && define.amd) {
			// Return the library as an AMD module:
			define([], function() {
				return lib;
			});
		} else {
			// Use accounting.noConflict to restore `accounting` back to its original value.
			// Returns a reference to the library's `accounting` object;
			// e.g. `var numbers = accounting.noConflict();`
			lib.noConflict = (function(oldAccounting) {
				return function() {
					// Reset the value of the root's `accounting` variable:
					root.accounting = oldAccounting;
					// Delete the noConflict method:
					lib.noConflict = undefined;
					// Return reference to the library to re-assign it:
					return lib;
				};
			})(root.accounting);
	
			// Declare `fx` on the root (global/window) object:
			root['accounting'] = lib;
		}
	
		// Root will be `window` in browser or `global` on the server:
	}(this));


/***/ },
/* 71 */
/***/ function(module, exports) {

	module.exports={"v":3,"t":[{"t":7,"e":"style","f":["#app > .wrapper > .content { display: block !important; }"]}," ",{"t":7,"e":"div","a":{"class":"content"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"id":"booking"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"ui segment center aligned"},"f":[{"t":7,"e":"h1","f":[{"t":2,"r":"booking.error"}]}," ",{"t":7,"e":"a","v":{"click":{"m":"back2","a":{"r":[],"s":"[]"}}},"a":{"class":"ui button"},"f":["Go Back to Search Results"]}]}],"n":50,"r":"booking.error"},{"t":4,"n":51,"f":[{"t":7,"e":"div","a":{"class":"ui segment"},"f":[{"t":7,"e":"h1","f":["The simplest way to book !"]}," ",{"t":7,"e":"a","v":{"click":{"m":"back","a":{"r":[],"s":"[]"}}},"a":{"class":"ui button middle gray back"},"f":["Go Back"]}," ",{"t":7,"e":"div","a":{"class":"currencyWrap"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"curterm","style":["display:",{"t":4,"f":["none"],"n":50,"x":{"r":["meta.display_currency"],"s":"_0==\"INR\""}},{"t":4,"n":51,"f":["block"],"x":{"r":["meta.display_currency"],"s":"_0==\"INR\""}}]},"f":["Currency Amount are Indicative Equivalent to INR"]}],"n":50,"r":"meta.display_currency"}," ",{"t":7,"e":"span","f":["Currency:"]}," ",{"t":7,"e":"select","a":{"class":"menu transition","style":"z-index: 1010;","id":"currency1"},"v":{"change":{"m":"setCurrencyBooking","a":{"r":[],"s":"[]"}}},"f":[{"t":7,"e":"option","a":{"value":"INR"},"m":[{"t":4,"f":["selected"],"n":50,"x":{"r":["booking.currency"],"s":"_0==\"INR\""}}],"f":[{"t":7,"e":"i","a":{"class":"inr icon currency"}}," Rupee"]}," ",{"t":7,"e":"option","a":{"value":"USD"},"m":[{"t":4,"f":["selected"],"n":50,"x":{"r":["booking.currency"],"s":"_0==\"USD\""}}],"f":[{"t":7,"e":"i","a":{"class":"usd icon currency"}}," US Dollar"]}," ",{"t":7,"e":"option","a":{"value":"EUR"},"m":[{"t":4,"f":["selected"],"n":50,"x":{"r":["booking.currency"],"s":"_0==\"EUR\""}}],"f":[{"t":7,"e":"i","a":{"class":"eur icon currency"}}," Euro"]}," ",{"t":7,"e":"option","a":{"value":"GBP"},"m":[{"t":4,"f":["selected"],"n":50,"x":{"r":["booking.currency"],"s":"_0==\"GBP\""}}],"f":[{"t":7,"e":"i","a":{"class":"gbp icon currency"}}," UK Pound"]}," ",{"t":7,"e":"option","a":{"value":"AUD"},"m":[{"t":4,"f":["selected"],"n":50,"x":{"r":["booking.currency"],"s":"_0==\"AUD\""}}],"f":[{"t":7,"e":"i","a":{"class":"usd icon currency"}}," Australian Dollar"]}," ",{"t":7,"e":"option","a":{"value":"JPY"},"m":[{"t":4,"f":["selected"],"n":50,"x":{"r":["booking.currency"],"s":"_0==\"JPY\""}}],"f":[{"t":7,"e":"i","a":{"class":"jpy icon currency"}}," Japanese Yen"]}," ",{"t":7,"e":"option","a":{"value":"RUB"},"m":[{"t":4,"f":["selected"],"n":50,"x":{"r":["booking.currency"],"s":"_0==\"RUB\""}}],"f":[{"t":7,"e":"i","a":{"class":"rub icon currency"}}," Russian Ruble"]}," ",{"t":7,"e":"option","a":{"value":"AED"},"m":[{"t":4,"f":["selected"],"n":50,"x":{"r":["booking.currency"],"s":"_0==\"AED\""}}],"f":[{"t":7,"e":"i","a":{"class":"aed icon currency"}}," Dirham"]}]}]}," ",{"t":7,"e":"div","a":{"class":"clear"}}," ",{"t":7,"e":"step1","a":{"booking":[{"t":2,"r":"booking"}],"meta":[{"t":2,"r":"meta"}]}}," ",{"t":7,"e":"step2","a":{"booking":[{"t":2,"r":"booking"}],"meta":[{"t":2,"r":"meta"}]}}," ",{"t":7,"e":"step3","a":{"booking":[{"t":2,"r":"booking"}],"meta":[{"t":2,"r":"meta"}]}}," ",{"t":7,"e":"step4","a":{"booking":[{"t":2,"r":"booking"}],"meta":[{"t":2,"r":"meta"}]}}]}],"r":"booking.error"}]}],"n":50,"r":"booking"},{"t":4,"n":51,"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"id":"booking"},"f":[{"t":7,"e":"div","a":{"class":"ui segment"},"f":[{"t":7,"e":"h1","f":["Booking not found!"]}]}]}],"n":50,"r":"error"},{"t":4,"n":51,"f":[{"t":7,"e":"div","a":{"class":"payment_loader"},"f":[{"t":7,"e":"div","a":{"class":"ui active inverted dimmer"},"f":[{"t":7,"e":"div","a":{"class":"wait_text"},"f":["Please Wait"]},{"t":7,"e":"br"},{"t":7,"e":"br"}," ",{"t":7,"e":"div","a":{"class":"ui text loader loader_position"}}]}]}],"r":"error"}],"r":"booking"}]}]};

/***/ },
/* 72 */,
/* 73 */,
/* 74 */,
/* 75 */,
/* 76 */,
/* 77 */,
/* 78 */,
/* 79 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _ = __webpack_require__(30)
	        ;
	
	var Form = __webpack_require__(34),
	        Auth = __webpack_require__(80)
	        ;
	
	var h_money = __webpack_require__(69),
	        h_duration = __webpack_require__(81)()
	        ;
	
	module.exports = Form.extend({
	    isolated: true,
	    template: __webpack_require__(82),
	    components: {
	        itinerary: __webpack_require__(83),
	        'ui-code': __webpack_require__(85),
	        'ui-email': __webpack_require__(86)
	    },
	    data: function () {
	        return {
	            promocode: null,
	            promovalue: null,
	            promoerror: null,
	            money: h_money,
	            duration: h_duration,
	            seg_length: function (flights) {
	                var c = 0;
	                _.each(flights, function (flight) {
	                    c += flight.get('segments').length;
	                });
	
	                return c;
	            }
	        }
	    },
	    onconfig: function () {
	        this.observe('booking.steps.1.active', function (active) {
	            if (active) {
	                this.get('booking').setCurrentStepForMobile(0);
	                if (typeof this.get('booking.promo_code') !== "undefined") {
	
	                    this.set('promocode', this.get('booking.promo_code'));
	                    this.set('promovalue', this.get('booking.promo_value'));
	                    this.set('promotncurl', this.get('booking.promotncurl'));
	                }
	                var cur = this.get('booking.currency');
	                //console.log(cur);
	                this.set('meta.display_currency', cur);
	
	                this.update('meta');
	                //console.log( this.get('meta'));
	            }
	        });
	    },
	    oncomplete: function () {
	        $(this.find('.price'))
	                .popup({
	                    position: 'bottom right',
	                    popup: $(this.find('.fare.popup')),
	                    on: 'hover'
	                });
	    },
	    submit: function () {
	        //console.log(this.get('booking.id'));
	        // $(this.find('form')).ajaxSubmit({url: 'about:blank', method: 'POST', iframe: true});
	        this.get('booking').step1(this);
	
	        if (false) {
	            window.localStorage.setItem('booking_email', this.get('booking.user.email'));
	            window.localStorage.setItem('booking_country', this.get('booking.user.country'));
	            window.localStorage.setItem('booking_mobile', this.get('booking.user.mobile'));
	        }
	    },
	    back: function () {
	        this.parent.back();
	    },
	    activate: function () {
	        if (!this.get('booking.payment.payment_id')) {
	            this.get('booking').activate(1);
	        }
	    },
	    signin: function () {
	        var view = this;
	
	        Auth.login()
	                .then(function (data) {
	                    view.set('meta.user', data);
	                    view.set('booking.user', {id: data.id, email: data.email, mobile: data.mobile, country: data.country, logged_in: true});
	                });
	    },
	    applyPromoCode: function () {
	        
	        var promocode = this.get('promocode');
	        
	        this.set('promoerror', null);
	        if (promocode !== null && promocode !== '') {
	            this.set('promocode', promocode.toUpperCase());
	            promocode = this.get('promocode');
	            var view = this;
	            var data = {id: this.get('booking.id'), promo: promocode};
	            $.ajax({
	                timeout: 10000,
	                type: 'POST',
	                url: '/b2c/booking/checkPromoCode',
	                data: data,
	                dataType: 'json',
	                complete: function () {
	
	                },
	                success: function (data) {
	                    if (data.hasOwnProperty('error')) {
	                        console.log(data.error);
	                        view.set('promoerror', data.error);
	                    } else if (data.hasOwnProperty('value')) {
	                        view.set('promovalue', data.value);
	                        view.set('booking.promo_value', data.value);
	                        view.set('booking.promo_code', data.code);
	                        view.set('promotncurl', data.promo_tnc_url);
	                    }
	                },
	                error: function (xhr) {
	                }
	            });
	            }
	            else
	            {
	             this.set('promoerror',  " You haven't entered a coupon code!");
	            }
	    },
	    removePromoCode: function () {
	        //   console.log('removePromoCode');
	        this.set('promoerror', null);
	        this.set('promocode', null);
	        this.set('promovalue', null);
	        this.set('promotncurl', null);
	
	        var view = this;
	        var data = {id: this.get('booking.id')};
	        $.ajax({
	            timeout: 10000,
	            type: 'POST',
	            url: '/b2c/booking/removePromoCode',
	            data: data,
	            dataType: 'json',
	            complete: function () {
	
	            },
	            success: function (data) {
	                view.set('booking.promo_value', null);
	                view.set('booking.promo_code', null);
	
	            },
	            error: function (xhr) {
	            }
	        });
	    },
	    removeErrorMsg: function () {
	        this.set('promoerror', null);
	    },
	    applyPromo: function (){
	        
	    var promocode = this.get('promocode');
	        if (promocode !== null && promocode !== '') {
	            this.set('promocode', promocode.toUpperCase());
	            promocode = this.get('promocode');
	
	            this.set('promoerror', null);
	            var view = this;
	            var data = {id: this.get('booking.id'), promo: promocode};
	            $.ajax({
	                timeout: 10000,
	                type: 'POST',
	                url: '/b2c/booking/checkPromoCode',
	                data: data,
	                dataType: 'json',
	                complete: function () {
	
	                },
	                success: function (data) {
	                    if (data.hasOwnProperty('error')) {
	                        console.log(data.error);
	                        view.set('promoerror', data.error);
	                    } else if (data.hasOwnProperty('value')) {
	                        view.set('promovalue', data.value);
	                        view.set('booking.promo_value', data.value);
	                        view.set('booking.promo_code', data.code);
	                        view.set('promotncurl', data.promo_tnc_url);
	                    }
	                },
	                error: function (xhr) {
	                }
	            });
	            }
	       
	    }
	});

/***/ },
/* 80 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var $ = __webpack_require__(33),
	    Q = __webpack_require__(26)
	    ;
	
	var Form = __webpack_require__(34)
	    ;
	
	var Auth = Form.extend({
	    template: __webpack_require__(78),
	
	    data: function() {
	        return {
	            action: 'login',
	            submitting: false,
	            forgottenpass: false,
	
	            user: {
	
	            }
	        }
	    },
	
	    oncomplete: function() {
	        if (this.get('popup')) {
	            $(this.find('.ui.modal')).modal('show');
	        }
	    },
	
	    submit: function() {
	        var view = this;
	
	        this.set('errorMsg', null);
	        this.set('error', null);
	        this.set('submitting', true);
	        $.ajax({
	            type: 'POST',
	            url: '/b2c/auth/' + this.get('action'),
	            data: { username: this.get('user.login'), password: this.get('user.password') },
	            dataType: 'json',
	            complete: function() {
	                view.set('submitting', false);
	            },
	            success: function(data) {
	                $(view.find('.ui.modal')).modal('hide');
	
	                if (view.deferred) {
	                    view.deferred.resolve(data);
	                }                
	            },
	            error: function(xhr) {
	                try {
	                    var response = JSON.parse(xhr.responseText);
						if(response.errors['username'][0]=="You are already our B2B user.") {
							$("#B2BUserPopup").hide();
							$(".login .header").html('B2B User Login');
							view.set('B2BUserLoginPopupMessage',true);
						}
	                    else if (response.errors) {
	                        view.set('errors', response.errors);
	                    }
	                } catch (e) {
	                    view.set('errors', ['Server returned error. Please try again later']);
	                }
	            }
	        }).then(function (data) {
	                   
	            if (view.get('popup')==null && data && data.id) {
	                window.location.href = '/b2c/airCart/mybookings';
	            }
	        });
	    },
	
	    resetPassword: function(event) {
	        var view = this;
	
	        this.set('errors', null);
	        this.set('submitting', true);
	
	        $.ajax({
	            type: 'POST',
	            url: '/b2c/auth/forgottenpass',
	            data: { email: this.get('user.login') },
	            dataType: 'json',
	            complete: function() {
	                view.set('submitting', false);
	            },
	            success: function(data) {
	                view.set('resetsuccess', true);
	            },
	            error: function(xhr) {
	                try {
	                    var response = JSON.parse(xhr.responseText);
	
	                    if (response.errors) {
	                        view.set('errors', response.errors);
	                    } else if (response.message) {
	                        view.set('errors', [response.message]);
	                    }
	                } catch (e) {
	                    view.set('errors', ['Server returned error. Please try again later']);
	                }
	            }
	        });
	    },
	
	    signup: function(event) {
	        var view = this;
	
	        this.set('errors', null);
	        this.set('submitting', true);
	        $.ajax({
	            type: 'POST',
	            url: '/b2c/auth/signup',
	            data: _.pick(this.get('user'), ['email','name', 'mobile', 'password', 'password2']),
	            dataType: 'json',
	            complete: function() {
	                view.set('submitting', false);
	            },
	            success: function(data) {
	                view.set('signupsuccess', true);
	            },
	            error: function(xhr) {
	                try {
	                    var response = JSON.parse(xhr.responseText);
	
	                    if (response.errors) {
	                        view.set('errors', response.errors);
	                    } else if (response.message) {
	                        view.set('errors', [response.message]);
	                    }
	                } catch (e) {
	                    view.set('errors', ['Server returned error. Please try again later']);
	                }
	            }
	        });
	    }
	});
	
	
	Auth.login = function() {
	    var auth = new Auth();
	
	    auth.set('popup', true);
	    auth.deferred = Q.defer();
	    auth.render('#popup-container');
	
	    return auth.deferred.promise;
	};
	
	Auth.signup = function() {
	    var auth = new Auth();
	
	    auth.set('popup', true);
	    auth.set('signup', true);
	    auth.deferred = Q.defer();
	    auth.render('#popup-container');
	
	    return auth.deferred.promise;
	};
	
	module.exports = Auth;

/***/ },
/* 81 */
/***/ function(module, exports) {

	'use strict';
	
	function paddy(n, p, c) {
	    var pad_char = typeof c !== 'undefined' ? c : '0';
	    var pad = new Array(1 + p).join(pad_char);
	    return (pad + n).slice(-pad.length);
	}
	
	module.exports = function() {
	    return {
	        format: function(duration) {
	            if (!duration)
	                return;
	
	            var i = duration.asMinutes(),
	                hours = Math.floor(i/60),
	                minutes = i % 60
	                ;
	
	            return paddy(hours, 2) + 'h ' + paddy(minutes, 2) + 'm';
	        }
	    };
	};

/***/ },
/* 82 */
/***/ function(module, exports) {

	module.exports={"v":3,"t":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":["step header step1 ",{"t":4,"f":["active"],"n":50,"r":"step.active"},{"t":4,"n":51,"f":[{"t":4,"f":["completed"],"n":50,"r":"step.completed"}],"r":"step.active"}],"role":"tab"},"f":["Itinerary"]}," ",{"t":4,"f":[{"t":7,"e":"table","a":{"class":"step1-summary segment"},"v":{"click":{"m":"activate","a":{"r":[],"s":"[1]"}}},"f":[{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"tr","f":[{"t":7,"e":"td","a":{"class":"logo"},"f":[{"t":7,"e":"img","a":{"src":[{"t":2,"x":{"r":["first","."],"s":"_0(_1).carrier.logo"}}],"alt":""}}]}," ",{"t":7,"e":"td","a":{"class":"carrier"},"f":[{"t":2,"x":{"r":["first","."],"s":"_0(_1).carrier.name"}},{"t":7,"e":"br"}," ",{"t":7,"e":"span","a":{"class":"small"},"f":[{"t":2,"x":{"r":["first","."],"s":"_0(_1).flight"}}]}]}," ",{"t":7,"e":"td","a":{"class":"itinerary"},"f":[{"t":2,"x":{"r":["first","."],"s":"_0(_1).from.city"}},"  ",{"t":2,"x":{"r":["last","."],"s":"_0(_1).to.city"}},{"t":7,"e":"br"}," ",{"t":7,"e":"span","a":{"class":"small"},"f":[{"t":2,"x":{"r":["first","."],"s":"_0(_1).depart.format(\"D MMM, YYYY\")"}}]}]}," ",{"t":7,"e":"td","a":{"class":"duration"},"f":[{"t":2,"x":{"r":["first","."],"s":"_0(_1).depart.format(\"HH:mm\")"}},"  ",{"t":2,"x":{"r":["last","."],"s":"_0(_1).arrive.format(\"HH:mm\")"}},{"t":7,"e":"br"}," ",{"t":7,"e":"span","a":{"class":"small"},"f":[{"t":2,"x":{"r":["duration","segtime","."],"s":"_0.format(_1(_2))"}}]}]}," ",{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"td","a":{"rowspan":[{"t":2,"x":{"r":["seg_length","booking.flights"],"s":"_0(_1)"}}],"class":"price"},"f":[{"t":3,"x":{"r":["money","booking.price","booking.convenienceFee","booking.promo_value","booking.currency"],"s":"_0(_1+_2-_3,_4)"}}]}],"n":50,"x":{"r":["booking.promo_value"],"s":"_0!=null"}},{"t":4,"n":51,"f":[{"t":7,"e":"td","a":{"rowspan":[{"t":2,"x":{"r":["seg_length","booking.flights"],"s":"_0(_1)"}}],"class":"price"},"f":[{"t":3,"x":{"r":["money","booking.price","booking.convenienceFee","booking.currency"],"s":"_0(_1+_2,_3)"}}]}],"x":{"r":["booking.promo_value"],"s":"_0!=null"}}],"n":50,"x":{"r":["i","j"],"s":"_0==0&&_1==0"}}]}],"n":52,"i":"j","r":"segments"}],"n":52,"i":"i","r":"booking.flights"}]}],"n":50,"x":{"r":["step.active","step.completed"],"s":"!_0&&_1"}},{"t":4,"n":51,"f":[{"t":4,"f":[{"t":7,"e":"form","a":{"action":"javascript:;","class":["ui form segment step1 ",{"t":4,"f":["error"],"n":50,"r":"step.errors"}," ",{"t":4,"f":[],"n":50,"r":"step.submitting"}]},"v":{"submit":{"m":"submit","a":{"r":[],"s":"[]"}}},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"payment_loader"},"f":[{"t":7,"e":"div","a":{"class":"ui active inverted dimmer"},"f":[{"t":7,"e":"div","a":{"class":"wait_text","style":"margin-top:95px !important;"},"f":["Please Wait"]}," ",{"t":7,"e":"div","a":{"class":"ui text loader loader_position"}}]}]}],"n":50,"r":"step.submitting"}," ",{"t":4,"f":[{"t":7,"e":"itinerary","a":{"flight":[{"t":2,"r":"."}]}}],"n":52,"r":"booking.flights"}," ",{"t":7,"e":"div","a":{"class":"ui basic segment booking-contacts"},"f":[{"t":7,"e":"div","a":{"class":"ui header"},"f":["Contact Details"]}," ",{"t":7,"e":"div","a":{"class":"ui two column middle top aligned relaxed fitted grid","style":"position: relative"},"f":[{"t":7,"e":"div","a":{"class":"column","style":"width: 65%;"},"f":[{"t":7,"e":"div","a":{"class":"two fields"},"f":[{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"label","f":["E-Mail"]}," ",{"t":7,"e":"ui-email","a":{"class":[{"t":4,"f":["bold"],"n":50,"r":"booking.user.email"}],"name":"email","placeholder":"E-Mail","error":[{"t":2,"r":"step.errors.email"}],"value":[{"t":2,"r":"booking.user.email"}],"readonly":[{"t":4,"f":["readonly"],"n":50,"r":"meta.user.email"},{"t":4,"n":51,"f":[],"r":"meta.user.email"}]}}]}," ",{"t":7,"e":"div","a":{"class":"field phone"},"f":[{"t":7,"e":"label","f":["Mobile"]}," ",{"t":7,"e":"ui-input","a":{"class":"code input","name":"mobile","placeholder":"Code","error":[{"t":2,"r":"step.errors.mobile"}],"value":[{"t":2,"r":"booking.user.country"}]}}," ",{"t":7,"e":"ui-input","a":{"class":["number ",{"t":4,"f":["bold"],"n":50,"r":"booking.user.mobile"}],"name":"mobile","placeholder":"Mobile","error":[{"t":2,"r":"step.errors.mobile"}],"value":[{"t":2,"r":"booking.user.mobile"}],"readonly":[{"t":4,"f":["readonly"],"n":50,"r":"meta.user.email"},{"t":4,"n":51,"f":[],"r":"meta.user.email"}]}}]}]}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"ui error message"},"f":[{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"p","f":[{"t":2,"r":"."}]}],"n":50,"r":"."}],"n":52,"i":"i","r":"step.errors"}]}],"n":50,"r":"step.errors"}]}," ",{"t":7,"e":"div","a":{"class":"column top center aligned","style":"width: 35%;"},"f":[{"t":4,"f":["Have a CheapTicket.in Account? Sign in here!",{"t":7,"e":"br"}," ",{"t":7,"e":"button","a":{"type":"button","class":"ui button small blue"},"v":{"click":{"m":"signin","a":{"r":[],"s":"[]"}}},"f":["Sign in"]}],"n":51,"r":"meta.user.email"}]}," ",{"t":7,"e":"div","a":{"class":"column six wide"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"ui header"},"f":["Apply Promo Code"]}," ",{"t":7,"e":"div","a":{"class":"two fields"},"f":[{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"div","a":{"class":"item"},"f":[{"t":4,"f":[{"t":7,"e":"ui-input","a":{"name":"promocode","value":[{"t":2,"r":"promocode"}],"class":"fluid ","placeholder":"Enter Promo Code","disabled":"disabled"},"f":[]}],"n":50,"x":{"r":["promovalue"],"s":"_0!=null"}},{"t":4,"n":51,"f":[{"t":7,"e":"ui-input","a":{"name":"promocode","value":[{"t":2,"r":"promocode"}],"class":"fluid ","placeholder":"Enter Promo Code"},"f":[]}],"x":{"r":["promovalue"],"s":"_0!=null"}}]}]}," ",{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"ui button small red"},"v":{"click":{"m":"removePromoCode","a":{"r":[],"s":"[]"}}},"f":["REMOVE"]}," ",{"t":7,"e":"div","a":{"class":"row one column"},"f":[{"t":7,"e":"div","a":{"class":"column"},"f":[{"t":4,"f":[{"t":7,"e":"a","a":{"href":[{"t":2,"r":"promotncurl"}],"target":"_blank"},"f":["Promo Code T&C's"]}],"n":50,"x":{"r":["promotncurl"],"s":"_0!=null"}},{"t":4,"n":51,"f":[""],"x":{"r":["promotncurl"],"s":"_0!=null"}}]}]}],"n":50,"x":{"r":["promovalue"],"s":"_0!=null"}},{"t":4,"n":51,"f":[{"t":7,"e":"div","a":{"class":"ui button small green"},"v":{"click":{"m":"applyPromoCode","a":{"r":[],"s":"[]"}}},"f":["APPLY"]}],"x":{"r":["promovalue"],"s":"_0!=null"}}]}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"style":"clear:both;"},"f":[{"t":7,"e":"div","a":{"class":"ui small field negative message"},"f":[{"t":7,"e":"i","a":{"class":"close icon"},"v":{"click":{"m":"removeErrorMsg","a":{"r":[],"s":"[]"}}}}," ",{"t":2,"r":"promoerror"}]}]}],"n":50,"x":{"r":["promoerror"],"s":"_0!=null"}}]}],"n":50,"x":{"r":["booking.clientSourceId"],"s":"_0==1"}}," ",{"t":7,"e":"button","a":{"type":"submit","class":"ui wizard button massive blue"},"f":["CONTINUE"]}]}," ",{"t":7,"e":"div","a":{"class":"right aligned column ten wide"},"f":[{"t":7,"e":"div","a":{"class":"ui two column middle top aligned relaxed fitted grid","style":"position: relative"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"row"},"f":[{"t":7,"e":"div","a":{"class":"column ten wide right aligned"},"f":[{"t":7,"e":"span","a":{"class":"price"},"f":["TOTAL:"]}]}," ",{"t":7,"e":"div","a":{"class":"column six wide right aligned"},"f":[{"t":7,"e":"span","a":{"class":"price"},"f":[{"t":3,"x":{"r":["money","booking.price","booking.convenienceFee","booking.currency"],"s":"_0(_1+_2,_3)"}}]}]}]}," ",{"t":7,"e":"div","a":{"class":"row"},"f":[{"t":7,"e":"div","a":{"class":"column ten wide right aligned"},"f":[{"t":7,"e":"span","a":{"class":"price"},"f":["DISCOUNT:"]}]}," ",{"t":7,"e":"div","a":{"class":"column six wide right aligned"},"f":[{"t":7,"e":"span","a":{"class":"price"},"f":[{"t":3,"x":{"r":["money","promovalue","booking.currency"],"s":"_0(_1,_2)"}}]}]}]}," ",{"t":7,"e":"div","a":{"class":"row"},"f":[{"t":7,"e":"div","a":{"class":"column ten wide right aligned"},"f":[{"t":7,"e":"span","a":{"class":"price"},"f":["AMOUNT TO PAY:"]}]}," ",{"t":7,"e":"div","a":{"class":"column six wide right aligned"},"f":[{"t":7,"e":"span","a":{"class":"price"},"f":[{"t":3,"x":{"r":["money","booking.price","booking.convenienceFee","promovalue","booking.currency"],"s":"_0(_1+_2-_3,_4)"}}]}]}]}],"n":50,"x":{"r":["promovalue"],"s":"_0!=null"}},{"t":4,"n":51,"f":[{"t":7,"e":"div","a":{"class":"row"},"f":[{"t":7,"e":"div","a":{"class":"column ten wide right aligned"},"f":[{"t":7,"e":"span","a":{"class":"price"},"f":["AMOUNT TO PAY:"]}]}," ",{"t":7,"e":"div","a":{"class":"column six wide right aligned"},"f":[{"t":7,"e":"span","a":{"class":"price"},"f":[{"t":3,"x":{"r":["money","booking.price","booking.convenienceFee","booking.currency"],"s":"_0(_1+_2,_3)"}}]}]}]}],"x":{"r":["promovalue"],"s":"_0!=null"}}," ",{"t":7,"e":"div","a":{"class":"row one column"},"f":[{"t":7,"e":"div","a":{"class":"column right aligned"},"f":[{"t":7,"e":"div","a":{"class":"taxes"},"f":["Basic Fare: ",{"t":3,"x":{"r":["money","booking.taxes.basic_fare","booking.currency"],"s":"_0(_1,_2)"}}," , YQ: ",{"t":3,"x":{"r":["money","booking.taxes.yq","booking.currency"],"s":"_0(_1,_2)"}},", Service Tax: ",{"t":3,"x":{"r":["money","booking.taxes.jn","booking.currency"],"s":"_0(_1,_2)"}},", Other: ",{"t":3,"x":{"r":["money","booking.taxes.other","booking.convenienceFee","booking.currency"],"s":"_0(_1+_2,_3)"}}," ",{"t":4,"f":[", Discount: ",{"t":3,"x":{"r":["money","promovalue","booking.currency"],"s":"_0(_1,_2)"}}],"n":50,"x":{"r":["promovalue"],"s":"_0!=null"}}]}]}]}]}]}]}]}]}],"n":50,"r":"step.active"}],"x":{"r":["step.active","step.completed"],"s":"!_0&&_1"}}],"x":{"r":["booking.steps.1"],"s":"{step:_0}"}},{"t":4,"f":[{"t":7,"e":"div","a":{"class":"ui fare fluid popup","style":"text-align: left; max-width: 350px;"},"f":[{"t":4,"f":[{"t":2,"r":"paxTaxes.1.c"},"x adults: ",{"t":3,"x":{"r":["money","paxTaxes.1.basic_fare","meta.display_currency"],"s":"_0(_1,_2)"}}," YQ:",{"t":3,"x":{"r":["money","paxTaxes.1.yq","meta.display_currency"],"s":"_0(_1,_2)"}}," JN:",{"t":3,"x":{"r":["money","paxTaxes.1.jn","meta.display_currency"],"s":"_0(_1,_2)"}}," OTHER:",{"t":3,"x":{"r":["money","paxTaxes.1.other","meta.display_currency"],"s":"_0(_1,_2)"}}," ",{"t":7,"e":"br"}],"n":50,"r":"paxTaxes.1"}," ",{"t":4,"f":[{"t":2,"r":"paxTaxes.2.c"},"x children: ",{"t":3,"x":{"r":["money","paxTaxes.2.basic_fare","meta.display_currency"],"s":"_0(_1,_2)"}}," YQ:",{"t":3,"x":{"r":["money","paxTaxes.2.yq","meta.display_currency"],"s":"_0(_1,_2)"}}," JN:",{"t":3,"x":{"r":["money","paxTaxes.2.jn","meta.display_currency"],"s":"_0(_1,_2)"}}," OTHER:",{"t":3,"x":{"r":["money","paxTaxes.2.other","meta.display_currency"],"s":"_0(_1,_2)"}}," ",{"t":7,"e":"br"}],"n":50,"r":"paxTaxes.2"}," ",{"t":4,"f":[{"t":2,"r":"paxTaxes.3.c"},"x infants: ",{"t":3,"x":{"r":["money","paxTaxes.3.basic_fare","meta.display_currency"],"s":"_0(_1,_2)"}}," YQ:",{"t":3,"x":{"r":["money","paxTaxes.3.yq","meta.display_currency"],"s":"_0(_1,_2)"}}," JN:",{"t":3,"x":{"r":["money","paxTaxes.3.jn","meta.display_currency"],"s":"_0(_1,_2)"}}," OTHER:",{"t":3,"x":{"r":["money","paxTaxes.3.other","meta.display_currency"],"s":"_0(_1,_2)"}}," ",{"t":7,"e":"br"}],"n":50,"r":"paxTaxes.3"}]}],"r":"booking"}]};

/***/ },
/* 83 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var Form = __webpack_require__(34),
	    moment = __webpack_require__(44),
	    _ = __webpack_require__(30),
	
	    h_money = __webpack_require__(69)(),
	    h_duration = __webpack_require__(81)()
	    ;
	
	module.exports = Form.extend({
	    isolated: true,
	    template: __webpack_require__(84),
	
	    data: function() {
	        return _.extend(
	            { moment: moment, money: h_money.money, duration: h_duration }
	        );
	    }
	});

/***/ },
/* 84 */
/***/ function(module, exports) {

	module.exports={"v":3,"t":[{"t":4,"f":[{"t":4,"f":[" ",{"t":7,"e":"div","a":{"class":["ui segment flight-itinerary ",{"t":4,"f":["small"],"n":50,"r":"small","s":true}," ",{"t":2,"r":"class","s":true}]},"f":[{"t":7,"e":"div","a":{"class":"title"},"f":[{"t":7,"e":"span","a":{"class":"city"},"f":[{"t":2,"x":{"r":["first","."],"s":"_0(_1).from.city"}},"  ",{"t":2,"x":{"r":["last","."],"s":"_0(_1).to.city"}}]}," ",{"t":2,"x":{"r":["first","."],"s":"_0(_1).depart.format(\"ddd MMM D YYYY\")"}}," ",{"t":7,"e":"span","a":{"class":"time"},"f":[{"t":2,"x":{"r":["duration","segtime","."],"s":"_0.format(_1(_2))"}}]}," ",{"t":4,"f":[{"t":7,"e":"span","a":{"id":"airport_change_style"},"f":[{"t":2,"x":{"r":["first","."],"s":"_0(_1).airport_change"}}]}],"n":50,"x":{"r":["first","."],"s":"_0(_1).airport_change"}}," ",{"t":4,"f":[{"t":7,"e":"span","a":{"id":"transitvisa_msg_style"},"f":[{"t":2,"x":{"r":["first","."],"s":"_0(_1).transitvisa_msg"}}]}],"n":50,"x":{"r":["first","."],"s":"_0(_1).transitvisa_msg"}}," ",{"t":4,"f":[{"t":7,"e":"span","a":{"class":"techStop"},"f":["Technical Stop: ",{"t":2,"x":{"r":["first","."],"s":"_0(_1).techStop"}}]}],"n":50,"x":{"r":["first","."],"s":"_0(_1).techStop!=null"}}," ",{"t":4,"f":[{"t":2,"x":{"r":["flight.refundable"],"s":"[null,\"Non refundable\",\"Refundable\"][_0]"}}],"n":50,"r":"small","s":true}]}," ",{"t":7,"e":"table","a":{"class":"segments"},"f":[{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"tr","a":{"class":"divider"},"f":[{"t":7,"e":"td","f":[{"t":7,"e":"span","f":[""]}]}," ",{"t":7,"e":"td","f":[{"t":7,"e":"span","f":[""]}]}," ",{"t":7,"e":"td","a":{"align":"center"},"f":[{"t":7,"e":"span","a":{"class":"layover"},"f":["Layover: ",{"t":2,"x":{"r":["duration","layover"],"s":"_0.format(_1)"}}]}," ",{"t":4,"f":[{"t":7,"e":"span","a":{"class":"layover css_layover"},"f":["Short Layover"]}],"n":50,"x":{"r":["layover"],"s":"_0.asSeconds()<=7200"}}," ",{"t":4,"f":[{"t":7,"e":"span","a":{"class":"layover css_layover"},"f":["Long Layover"]}],"n":50,"x":{"r":["layover"],"s":"_0.asSeconds()>=18000"}}]}," ",{"t":7,"e":"td","f":[{"t":7,"e":"span","f":[""]}]}," ",{"t":7,"e":"td","f":[{"t":7,"e":"span","f":[""]}]}]}],"n":50,"x":{"r":["layover"],"s":"_0.asSeconds()"}}," ",{"t":7,"e":"tr","f":[{"t":7,"e":"td","a":{"class":"airline"},"f":[{"t":7,"e":"div","a":{"class":"logos"},"f":[{"t":7,"e":"img","a":{"class":"ui top aligned avatar image","src":[{"t":2,"r":"carrier.logo"}],"alt":[{"t":2,"r":"carrier.name"}],"title":[{"t":2,"r":"carrier.name"}]}}]}," ",{"t":7,"e":"div","a":{"class":"name"},"f":[{"t":2,"r":"carrier.name"},{"t":7,"e":"br"}," ",{"t":7,"e":"span","a":{"class":"flight-no"},"f":[{"t":2,"r":"flight"},{"t":7,"e":"br"}," ",{"t":2,"r":"cabinType"}]}]}]}," ",{"t":7,"e":"td","a":{"class":"from","style":"text-align: right;"},"f":[{"t":7,"e":"b","m":[{"t":4,"f":["id=\"background_airport_change\""],"n":50,"x":{"r":["name_airport_change.0","name_airport_change.1","name_airport_change.2","from.airportCode","name_airport_change.3"],"s":"_3==_0||_3==_1||_3==_2||_3==_4"}}],"f":[{"t":2,"r":"from.airportCode"},":"]},{"t":4,"f":[{"t":7,"e":"br"}],"n":50,"r":"small","s":true},{"t":2,"x":{"r":["depart"],"s":"_0.format(\"ddd HH:mm\")"}},{"t":7,"e":"br"}," ",{"t":2,"x":{"r":["small","depart"],"s":"_0?_1.format(\"D MMM\"):_1.format(\"D MMM, YYYY\")"}},{"t":7,"e":"br"}," ",{"t":4,"f":[{"t":7,"e":"span","a":{"class":"airport"},"f":[{"t":2,"r":"from.airport"},", ",{"t":2,"r":"from.city"},"(",{"t":2,"r":"from.airportCode"},"), Terminal",{"t":2,"r":"originTerminal"}]}],"n":51,"r":"small","s":true}]}," ",{"t":4,"f":[{"t":7,"e":"td","a":{"class":"flight"},"f":[{"t":7,"e":"div","a":{"class":"duration"},"f":[{"t":2,"x":{"r":["duration","time"],"s":"_0.format(_1)"}}]}]}],"n":51,"r":"small","s":true}," ",{"t":7,"e":"td","a":{"class":"to"},"f":[{"t":7,"e":"b","m":[{"t":4,"f":["id=\"background_airport_change\""],"n":50,"x":{"r":["name_airport_change.0","name_airport_change.1","name_airport_change.2","to.airportCode","name_airport_change.3"],"s":"_3==_0||_3==_1||_3==_2||_3==_4"}}],"f":[{"t":2,"r":"to.airportCode"},":"]},{"t":4,"f":[{"t":7,"e":"br"}],"n":50,"r":"small","s":true},{"t":2,"x":{"r":["arrive"],"s":"_0.format(\"ddd HH:mm\")"}},{"t":7,"e":"br"}," ",{"t":2,"x":{"r":["small","arrive"],"s":"_0?_1.format(\"D MMM\"):_1.format(\"D MMM, YYYY\")"}},{"t":7,"e":"br"}," ",{"t":4,"f":[{"t":7,"e":"span","a":{"class":"airport"},"f":[{"t":2,"r":"to.airport"},", ",{"t":2,"r":"to.city"},"(",{"t":2,"r":"to.airportCode"},"), Terminal",{"t":2,"r":"destinationTerminal"}]}],"n":51,"r":"small","s":true}]}]}," ",{"t":4,"f":[{"t":7,"e":"tr","f":[{"t":7,"e":"td","a":{"colspan":"4"},"f":[{"t":7,"e":"div","a":{"class":"item stops","id":"box_height"},"f":[{"t":7,"e":"div","a":{"class":"item baggage_not_allowed_image"},"f":[""]}," ",{"t":7,"e":"div","a":{"class":"hand_baggage_styling"},"f":["Hand baggage only no checked-in baggage"]}]}]}]}],"n":50,"x":{"r":["first","segments.0"],"s":"_0(_1).product_class===\"LITE\""}}],"n":52,"r":"."}]}]}],"n":52,"r":"segments"}],"r":"flight"}]};

/***/ },
/* 85 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var Component = __webpack_require__(35),
	    $ = __webpack_require__(33),
	    _ = __webpack_require__(30)
	    ;
	
	var allCountries = [
	    [
	        "India ()",
	        "in",
	        "91"
	    ],
	    [
	        "Afghanistan ()",
	        "af",
	        "93"
	    ],
	    [
	        "Albania (Shqipri)",
	        "al",
	        "355"
	    ],
	    [
	        "Algeria ()",
	        "dz",
	        "213"
	    ],
	    [
	        "American Samoa",
	        "as",
	        "1684"
	    ],
	    [
	        "Andorra",
	        "ad",
	        "376"
	    ],
	    [
	        "Angola",
	        "ao",
	        "244"
	    ],
	    [
	        "Anguilla",
	        "ai",
	        "1264"
	    ],
	    [
	        "Antigua and Barbuda",
	        "ag",
	        "1268"
	    ],
	    [
	        "Argentina",
	        "ar",
	        "54"
	    ],
	    [
	        "Armenia ()",
	        "am",
	        "374"
	    ],
	    [
	        "Aruba",
	        "aw",
	        "297"
	    ],
	    [
	        "Australia",
	        "au",
	        "61"
	    ],
	    [
	        "Austria (sterreich)",
	        "at",
	        "43"
	    ],
	    [
	        "Azerbaijan (Azrbaycan)",
	        "az",
	        "994"
	    ],
	    [
	        "Bahamas",
	        "bs",
	        "1242"
	    ],
	    [
	        "Bahrain ()",
	        "bh",
	        "973"
	    ],
	    [
	        "Bangladesh ()",
	        "bd",
	        "880"
	    ],
	    [
	        "Barbados",
	        "bb",
	        "1246"
	    ],
	    [
	        "Belarus ()",
	        "by",
	        "375"
	    ],
	    [
	        "Belgium (Belgi)",
	        "be",
	        "32"
	    ],
	    [
	        "Belize",
	        "bz",
	        "501"
	    ],
	    [
	        "Benin (Bnin)",
	        "bj",
	        "229"
	    ],
	    [
	        "Bermuda",
	        "bm",
	        "1441"
	    ],
	    [
	        "Bhutan ()",
	        "bt",
	        "975"
	    ],
	    [
	        "Bolivia",
	        "bo",
	        "591"
	    ],
	    [
	        "Bosnia and Herzegovina (  )",
	        "ba",
	        "387"
	    ],
	    [
	        "Botswana",
	        "bw",
	        "267"
	    ],
	    [
	        "Brazil (Brasil)",
	        "br",
	        "55"
	    ],
	    [
	        "British Indian Ocean Territory",
	        "io",
	        "246"
	    ],
	    [
	        "British Virgin Islands",
	        "vg",
	        "1284"
	    ],
	    [
	        "Brunei",
	        "bn",
	        "673"
	    ],
	    [
	        "Bulgaria ()",
	        "bg",
	        "359"
	    ],
	    [
	        "Burkina Faso",
	        "bf",
	        "226"
	    ],
	    [
	        "Burundi (Uburundi)",
	        "bi",
	        "257"
	    ],
	    [
	        "Cambodia ()",
	        "kh",
	        "855"
	    ],
	    [
	        "Cameroon (Cameroun)",
	        "cm",
	        "237"
	    ],
	    [
	        "Canada",
	        "ca",
	        "1",
	        1,
	        ["204", "226", "236", "249", "250", "289", "306", "343", "365", "387", "403", "416", "418", "431", "437", "438", "450", "506", "514", "519", "548", "579", "581", "587", "604", "613", "639", "647", "672", "705", "709", "742", "778", "780", "782", "807", "819", "825", "867", "873", "902", "905"]
	    ],
	    [
	        "Cape Verde (Kabu Verdi)",
	        "cv",
	        "238"
	    ],
	    [
	        "Caribbean Netherlands",
	        "bq",
	        "599",
	        1
	    ],
	    [
	        "Cayman Islands",
	        "ky",
	        "1345"
	    ],
	    [
	        "Central African Republic (Rpublique centrafricaine)",
	        "cf",
	        "236"
	    ],
	    [
	        "Chad (Tchad)",
	        "td",
	        "235"
	    ],
	    [
	        "Chile",
	        "cl",
	        "56"
	    ],
	    [
	        "China ()",
	        "cn",
	        "86"
	    ],
	    [
	        "Colombia",
	        "co",
	        "57"
	    ],
	    [
	        "Comoros ( )",
	        "km",
	        "269"
	    ],
	    [
	        "Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)",
	        "cd",
	        "243"
	    ],
	    [
	        "Congo (Republic) (Congo-Brazzaville)",
	        "cg",
	        "242"
	    ],
	    [
	        "Cook Islands",
	        "ck",
	        "682"
	    ],
	    [
	        "Costa Rica",
	        "cr",
	        "506"
	    ],
	    [
	        "Cte dIvoire",
	        "ci",
	        "225"
	    ],
	    [
	        "Croatia (Hrvatska)",
	        "hr",
	        "385"
	    ],
	    [
	        "Cuba",
	        "cu",
	        "53"
	    ],
	    [
	        "Curaao",
	        "cw",
	        "599",
	        0
	    ],
	    [
	        "Cyprus ()",
	        "cy",
	        "357"
	    ],
	    [
	        "Czech Republic (esk republika)",
	        "cz",
	        "420"
	    ],
	    [
	        "Denmark (Danmark)",
	        "dk",
	        "45"
	    ],
	    [
	        "Djibouti",
	        "dj",
	        "253"
	    ],
	    [
	        "Dominica",
	        "dm",
	        "1767"
	    ],
	    [
	        "Dominican Republic (Repblica Dominicana)",
	        "do",
	        "1",
	        2,
	        ["809", "829", "849"]
	    ],
	    [
	        "Ecuador",
	        "ec",
	        "593"
	    ],
	    [
	        "Egypt ()",
	        "eg",
	        "20"
	    ],
	    [
	        "El Salvador",
	        "sv",
	        "503"
	    ],
	    [
	        "Equatorial Guinea (Guinea Ecuatorial)",
	        "gq",
	        "240"
	    ],
	    [
	        "Eritrea",
	        "er",
	        "291"
	    ],
	    [
	        "Estonia (Eesti)",
	        "ee",
	        "372"
	    ],
	    [
	        "Ethiopia",
	        "et",
	        "251"
	    ],
	    [
	        "Falkland Islands (Islas Malvinas)",
	        "fk",
	        "500"
	    ],
	    [
	        "Faroe Islands (Froyar)",
	        "fo",
	        "298"
	    ],
	    [
	        "Fiji",
	        "fj",
	        "679"
	    ],
	    [
	        "Finland (Suomi)",
	        "fi",
	        "358"
	    ],
	    [
	        "France",
	        "fr",
	        "33"
	    ],
	    [
	        "French Guiana (Guyane franaise)",
	        "gf",
	        "594"
	    ],
	    [
	        "French Polynesia (Polynsie franaise)",
	        "pf",
	        "689"
	    ],
	    [
	        "Gabon",
	        "ga",
	        "241"
	    ],
	    [
	        "Gambia",
	        "gm",
	        "220"
	    ],
	    [
	        "Georgia ()",
	        "ge",
	        "995"
	    ],
	    [
	        "Germany (Deutschland)",
	        "de",
	        "49"
	    ],
	    [
	        "Ghana (Gaana)",
	        "gh",
	        "233"
	    ],
	    [
	        "Gibraltar",
	        "gi",
	        "350"
	    ],
	    [
	        "Greece ()",
	        "gr",
	        "30"
	    ],
	    [
	        "Greenland (Kalaallit Nunaat)",
	        "gl",
	        "299"
	    ],
	    [
	        "Grenada",
	        "gd",
	        "1473"
	    ],
	    [
	        "Guadeloupe",
	        "gp",
	        "590",
	        0
	    ],
	    [
	        "Guam",
	        "gu",
	        "1671"
	    ],
	    [
	        "Guatemala",
	        "gt",
	        "502"
	    ],
	    [
	        "Guinea (Guine)",
	        "gn",
	        "224"
	    ],
	    [
	        "Guinea-Bissau (Guin Bissau)",
	        "gw",
	        "245"
	    ],
	    [
	        "Guyana",
	        "gy",
	        "592"
	    ],
	    [
	        "Haiti",
	        "ht",
	        "509"
	    ],
	    [
	        "Honduras",
	        "hn",
	        "504"
	    ],
	    [
	        "Hong Kong ()",
	        "hk",
	        "852"
	    ],
	    [
	        "Hungary (Magyarorszg)",
	        "hu",
	        "36"
	    ],
	    [
	        "Iceland (sland)",
	        "is",
	        "354"
	    ],
	    
	    [
	        "Indonesia",
	        "id",
	        "62"
	    ],
	    [
	        "Iran ()",
	        "ir",
	        "98"
	    ],
	    [
	        "Iraq ()",
	        "iq",
	        "964"
	    ],
	    [
	        "Ireland",
	        "ie",
	        "353"
	    ],
	    [
	        "Israel ()",
	        "il",
	        "972"
	    ],
	    [
	        "Italy (Italia)",
	        "it",
	        "39",
	        0
	    ],
	    [
	        "Jamaica",
	        "jm",
	        "1876"
	    ],
	    [
	        "Japan ()",
	        "jp",
	        "81"
	    ],
	    [
	        "Jordan ()",
	        "jo",
	        "962"
	    ],
	    [
	        "Kazakhstan ()",
	        "kz",
	        "7",
	        1
	    ],
	    [
	        "Kenya",
	        "ke",
	        "254"
	    ],
	    [
	        "Kiribati",
	        "ki",
	        "686"
	    ],
	    [
	        "Kuwait ()",
	        "kw",
	        "965"
	    ],
	    [
	        "Kyrgyzstan ()",
	        "kg",
	        "996"
	    ],
	    [
	        "Laos ()",
	        "la",
	        "856"
	    ],
	    [
	        "Latvia (Latvija)",
	        "lv",
	        "371"
	    ],
	    [
	        "Lebanon ()",
	        "lb",
	        "961"
	    ],
	    [
	        "Lesotho",
	        "ls",
	        "266"
	    ],
	    [
	        "Liberia",
	        "lr",
	        "231"
	    ],
	    [
	        "Libya ()",
	        "ly",
	        "218"
	    ],
	    [
	        "Liechtenstein",
	        "li",
	        "423"
	    ],
	    [
	        "Lithuania (Lietuva)",
	        "lt",
	        "370"
	    ],
	    [
	        "Luxembourg",
	        "lu",
	        "352"
	    ],
	    [
	        "Macau ()",
	        "mo",
	        "853"
	    ],
	    [
	        "Macedonia (FYROM) ()",
	        "mk",
	        "389"
	    ],
	    [
	        "Madagascar (Madagasikara)",
	        "mg",
	        "261"
	    ],
	    [
	        "Malawi",
	        "mw",
	        "265"
	    ],
	    [
	        "Malaysia",
	        "my",
	        "60"
	    ],
	    [
	        "Maldives",
	        "mv",
	        "960"
	    ],
	    [
	        "Mali",
	        "ml",
	        "223"
	    ],
	    [
	        "Malta",
	        "mt",
	        "356"
	    ],
	    [
	        "Marshall Islands",
	        "mh",
	        "692"
	    ],
	    [
	        "Martinique",
	        "mq",
	        "596"
	    ],
	    [
	        "Mauritania ()",
	        "mr",
	        "222"
	    ],
	    [
	        "Mauritius (Moris)",
	        "mu",
	        "230"
	    ],
	    [
	        "Mexico (Mxico)",
	        "mx",
	        "52"
	    ],
	    [
	        "Micronesia",
	        "fm",
	        "691"
	    ],
	    [
	        "Moldova (Republica Moldova)",
	        "md",
	        "373"
	    ],
	    [
	        "Monaco",
	        "mc",
	        "377"
	    ],
	    [
	        "Mongolia ()",
	        "mn",
	        "976"
	    ],
	    [
	        "Montenegro (Crna Gora)",
	        "me",
	        "382"
	    ],
	    [
	        "Montserrat",
	        "ms",
	        "1664"
	    ],
	    [
	        "Morocco ()",
	        "ma",
	        "212"
	    ],
	    [
	        "Mozambique (Moambique)",
	        "mz",
	        "258"
	    ],
	    [
	        "Myanmar (Burma) ()",
	        "mm",
	        "95"
	    ],
	    [
	        "Namibia (Namibi)",
	        "na",
	        "264"
	    ],
	    [
	        "Nauru",
	        "nr",
	        "674"
	    ],
	    [
	        "Nepal ()",
	        "np",
	        "977"
	    ],
	    [
	        "Netherlands (Nederland)",
	        "nl",
	        "31"
	    ],
	    [
	        "New Caledonia (Nouvelle-Caldonie)",
	        "nc",
	        "687"
	    ],
	    [
	        "New Zealand",
	        "nz",
	        "64"
	    ],
	    [
	        "Nicaragua",
	        "ni",
	        "505"
	    ],
	    [
	        "Niger (Nijar)",
	        "ne",
	        "227"
	    ],
	    [
	        "Nigeria",
	        "ng",
	        "234"
	    ],
	    [
	        "Niue",
	        "nu",
	        "683"
	    ],
	    [
	        "Norfolk Island",
	        "nf",
	        "672"
	    ],
	    [
	        "North Korea (   )",
	        "kp",
	        "850"
	    ],
	    [
	        "Northern Mariana Islands",
	        "mp",
	        "1670"
	    ],
	    [
	        "Norway (Norge)",
	        "no",
	        "47"
	    ],
	    [
	        "Oman ()",
	        "om",
	        "968"
	    ],
	    [
	        "Pakistan ()",
	        "pk",
	        "92"
	    ],
	    [
	        "Palau",
	        "pw",
	        "680"
	    ],
	    [
	        "Palestine ()",
	        "ps",
	        "970"
	    ],
	    [
	        "Panama (Panam)",
	        "pa",
	        "507"
	    ],
	    [
	        "Papua New Guinea",
	        "pg",
	        "675"
	    ],
	    [
	        "Paraguay",
	        "py",
	        "595"
	    ],
	    [
	        "Peru (Per)",
	        "pe",
	        "51"
	    ],
	    [
	        "Philippines",
	        "ph",
	        "63"
	    ],
	    [
	        "Poland (Polska)",
	        "pl",
	        "48"
	    ],
	    [
	        "Portugal",
	        "pt",
	        "351"
	    ],
	    [
	        "Puerto Rico",
	        "pr",
	        "1",
	        3,
	        ["787", "939"]
	    ],
	    [
	        "Qatar ()",
	        "qa",
	        "974"
	    ],
	    [
	        "Runion (La Runion)",
	        "re",
	        "262"
	    ],
	    [
	        "Romania (Romnia)",
	        "ro",
	        "40"
	    ],
	    [
	        "Russia ()",
	        "ru",
	        "7",
	        0
	    ],
	    [
	        "Rwanda",
	        "rw",
	        "250"
	    ],
	    [
	        "Saint Barthlemy (Saint-Barthlemy)",
	        "bl",
	        "590",
	        1
	    ],
	    [
	        "Saint Helena",
	        "sh",
	        "290"
	    ],
	    [
	        "Saint Kitts and Nevis",
	        "kn",
	        "1869"
	    ],
	    [
	        "Saint Lucia",
	        "lc",
	        "1758"
	    ],
	    [
	        "Saint Martin (Saint-Martin (partie franaise))",
	        "mf",
	        "590",
	        2
	    ],
	    [
	        "Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)",
	        "pm",
	        "508"
	    ],
	    [
	        "Saint Vincent and the Grenadines",
	        "vc",
	        "1784"
	    ],
	    [
	        "Samoa",
	        "ws",
	        "685"
	    ],
	    [
	        "San Marino",
	        "sm",
	        "378"
	    ],
	    [
	        "So Tom and Prncipe (So Tom e Prncipe)",
	        "st",
	        "239"
	    ],
	    [
	        "Saudi Arabia (  )",
	        "sa",
	        "966"
	    ],
	    [
	        "Senegal (Sngal)",
	        "sn",
	        "221"
	    ],
	    [
	        "Serbia ()",
	        "rs",
	        "381"
	    ],
	    [
	        "Seychelles",
	        "sc",
	        "248"
	    ],
	    [
	        "Sierra Leone",
	        "sl",
	        "232"
	    ],
	    [
	        "Singapore",
	        "sg",
	        "65"
	    ],
	    [
	        "Sint Maarten",
	        "sx",
	        "1721"
	    ],
	    [
	        "Slovakia (Slovensko)",
	        "sk",
	        "421"
	    ],
	    [
	        "Slovenia (Slovenija)",
	        "si",
	        "386"
	    ],
	    [
	        "Solomon Islands",
	        "sb",
	        "677"
	    ],
	    [
	        "Somalia (Soomaaliya)",
	        "so",
	        "252"
	    ],
	    [
	        "South Africa",
	        "za",
	        "27"
	    ],
	    [
	        "South Korea ()",
	        "kr",
	        "82"
	    ],
	    [
	        "South Sudan ( )",
	        "ss",
	        "211"
	    ],
	    [
	        "Spain (Espaa)",
	        "es",
	        "34"
	    ],
	    [
	        "Sri Lanka ( )",
	        "lk",
	        "94"
	    ],
	    [
	        "Sudan ()",
	        "sd",
	        "249"
	    ],
	    [
	        "Suriname",
	        "sr",
	        "597"
	    ],
	    [
	        "Swaziland",
	        "sz",
	        "268"
	    ],
	    [
	        "Sweden (Sverige)",
	        "se",
	        "46"
	    ],
	    [
	        "Switzerland (Schweiz)",
	        "ch",
	        "41"
	    ],
	    [
	        "Syria ()",
	        "sy",
	        "963"
	    ],
	    [
	        "Taiwan ()",
	        "tw",
	        "886"
	    ],
	    [
	        "Tajikistan",
	        "tj",
	        "992"
	    ],
	    [
	        "Tanzania",
	        "tz",
	        "255"
	    ],
	    [
	        "Thailand ()",
	        "th",
	        "66"
	    ],
	    [
	        "Timor-Leste",
	        "tl",
	        "670"
	    ],
	    [
	        "Togo",
	        "tg",
	        "228"
	    ],
	    [
	        "Tokelau",
	        "tk",
	        "690"
	    ],
	    [
	        "Tonga",
	        "to",
	        "676"
	    ],
	    [
	        "Trinidad and Tobago",
	        "tt",
	        "1868"
	    ],
	    [
	        "Tunisia ()",
	        "tn",
	        "216"
	    ],
	    [
	        "Turkey (Trkiye)",
	        "tr",
	        "90"
	    ],
	    [
	        "Turkmenistan",
	        "tm",
	        "993"
	    ],
	    [
	        "Turks and Caicos Islands",
	        "tc",
	        "1649"
	    ],
	    [
	        "Tuvalu",
	        "tv",
	        "688"
	    ],
	    [
	        "U.S. Virgin Islands",
	        "vi",
	        "1340"
	    ],
	    [
	        "Uganda",
	        "ug",
	        "256"
	    ],
	    [
	        "Ukraine ()",
	        "ua",
	        "380"
	    ],
	    [
	        "United Arab Emirates (  )",
	        "ae",
	        "971"
	    ],
	    [
	        "United Kingdom",
	        "gb",
	        "44"
	    ],
	    [
	        "United States",
	        "us",
	        "1",
	        0
	    ],
	    [
	        "Uruguay",
	        "uy",
	        "598"
	    ],
	    [
	        "Uzbekistan (Ozbekiston)",
	        "uz",
	        "998"
	    ],
	    [
	        "Vanuatu",
	        "vu",
	        "678"
	    ],
	    [
	        "Vatican City (Citt del Vaticano)",
	        "va",
	        "39",
	        1
	    ],
	    [
	        "Venezuela",
	        "ve",
	        "58"
	    ],
	    [
	        "Vietnam (Vit Nam)",
	        "vn",
	        "84"
	    ],
	    [
	        "Wallis and Futuna",
	        "wf",
	        "681"
	    ],
	    [
	        "Yemen ()",
	        "ye",
	        "967"
	    ],
	    [
	        "Zambia",
	        "zm",
	        "260"
	    ],
	    [
	        "Zimbabwe",
	        "zw",
	        "263"
	    ]
	];
	
	var options = [];
	
	// loop over all of the countries above
	for (var i = 0; i < allCountries.length; i++) {
	    var c = allCountries[i];
	    options[i] = {
	        id: '+' + c[2],
	        value: '+' + c[2],
	        text: c[0] + ' <span class="small">+' + c[2] + '</span>',
	    };
	}
	
	
	module.exports = Component.extend({
	    isolated: true,
	    template:  false ? '<div class="select"></div>' : __webpack_require__(40),
	
	    data: function() {
	        return {
	            options: options
	        };
	    },
	
	    oncomplete: function() {
	        var view = this;
	
	        if (false) {
	            var el = $(this.find('.select'));
	
	            var view = this,
	                debounce,
	                filtered = options.slice(),
	                query = '',
	                timeout;
	
	            el.mobiscroll().select({
	                buttons: [],
	                theme: 'mobiscroll',
	                display: 'top',
	                data: options,
	                value: '+91',
	                layout: 'liquid',
	                showLabel: false,
	                height: 40,
	                rows: 3,
	                onMarkupReady: function (markup, inst) {
	                    $('<div style="padding:.5em"><input type="text" class="md-filter-input" value="+91" tabindex="0" placeholder="Country code" /></div>')
	                        .prependTo($('.dwcc', markup))
	                        .on('keydown', function (e) { e.stopPropagation(); })
	                        .on('keyup', function (e) {
	                            var that = $('input', this);
	                            clearTimeout(debounce);
	                            debounce = setTimeout(function () {
	                                query = that.val().toLowerCase();
	
	                                filtered = $.grep(options, function (val) {
	                                    return val.id.indexOf(query) > -1;
	                                });
	
	                                inst.settings.data = filtered.length ? filtered : [{text: 'No results', value: ''}];
	                                inst.settings.parseValue(inst.settings.data[0].value);
	                                inst.refresh();
	
	
	                            }, 500);
	                        });
	
	                },
	                onBeforeShow: function (inst) {
	                    inst.settings.data = options;
	                    inst.refresh();
	                },
	                onSelect: function (v, inst) {
	                    var code = $('<span>' + v + '</span>').find('.small').text();
	
	                    view.set('value', code);
	                    $('.mbsc-control', view.el).val(code);
	                },
	                onChange: function(v) {
	                    $('.mbsc-control', view.el).val(v);
	                },
	                onInit: function() {
	                    $('.mbsc-control', view.el).val(view.get('value'));
	                }
	            });
	        } else {
	            var el = $(this.find('.ui.dropdown'))
	                    .dropdown({
	                        fullTextSearch: true,
	                        onChange: function(value) {
	                            if (value) {
	                                $(this).dropdown('hide');
	                                view.set('value', value);
	                                view.update('value');
	
	                                _.delay(function() { if (view.get('error')) view.set('error', false) }, 500);
	                            }
	                        }
	                    })
	                ;
	
	            this.observe('value', function(value) {
	                if (value) {
	                    var options = this.get('options');
	                    if (options) {
	                        var o = _.find(options, {id: value});
	
	                        if (o) {
	                            el.dropdown('set value', o.id);
	                            el.dropdown('set text', o.id);
	
	                            return;
	                        }
	
	                    }
	                }
	
	                el.dropdown('restore defaults');
	
	
	            });
	
	            if (this.find('.search')) {
	                $(this.find('.search')).keypress(function(e){
	                    if ( e.which == 13 ) e.preventDefault();
	                });
	            }
	        }
	
	
	    },
	
	    onteadown: function() {
	        //this.set('options', null);
	    }
	});

/***/ },
/* 86 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var mailcheck = __webpack_require__(87);
	
	var Input = __webpack_require__(37);
	
	module.exports = Input.extend({
	    data: function() {
	        return {
	            type: 'email'
	        };
	    },
	
	    oncomplete: function() {
	        this._super();
	
	        var view = this;
	        $(this.find('input'))
	            .on('blur', function() {
	                $(this).mailcheck({
	                    suggested: function(element, suggestion) {
	                        view.set('suggestion', suggestion);
	                    },
	                    empty: function(element) {
	                        view.set('suggestion', null);
	                    }
	                });
	            });
	    },
	
	    correct: function() {
	        this.set('value', this.get('suggestion.full'));
	        this.set('suggestion', null);
	    }
	});

/***/ },
/* 87 */
/***/ function(module, exports, __webpack_require__) {

	var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
	 * Mailcheck https://github.com/mailcheck/mailcheck
	 * Author
	 * Derrick Ko (@derrickko)
	 *
	 * Released under the MIT License.
	 *
	 * v 1.1.2
	 */
	
	var Mailcheck = {
	  domainThreshold: 2,
	  secondLevelThreshold: 2,
	  topLevelThreshold: 2,
	
	  defaultDomains: ['msn.com', 'bellsouth.net',
	    'telus.net', 'comcast.net', 'optusnet.com.au',
	    'earthlink.net', 'qq.com', 'sky.com', 'icloud.com',
	    'mac.com', 'sympatico.ca', 'googlemail.com',
	    'att.net', 'xtra.co.nz', 'web.de',
	    'cox.net', 'gmail.com', 'ymail.com',
	    'aim.com', 'rogers.com', 'verizon.net',
	    'rocketmail.com', 'google.com', 'optonline.net',
	    'sbcglobal.net', 'aol.com', 'me.com', 'btinternet.com',
	    'charter.net', 'shaw.ca'],
	
	  defaultSecondLevelDomains: ["yahoo", "hotmail", "mail", "live", "outlook", "gmx"],
	
	  defaultTopLevelDomains: ["com", "com.au", "com.tw", "ca", "co.nz", "co.uk", "de",
	    "fr", "it", "ru", "net", "org", "edu", "gov", "jp", "nl", "kr", "se", "eu",
	    "ie", "co.il", "us", "at", "be", "dk", "hk", "es", "gr", "ch", "no", "cz",
	    "in", "net", "net.au", "info", "biz", "mil", "co.jp", "sg", "hu", "uk"],
	
	  run: function(opts) {
	    opts.domains = opts.domains || Mailcheck.defaultDomains;
	    opts.secondLevelDomains = opts.secondLevelDomains || Mailcheck.defaultSecondLevelDomains;
	    opts.topLevelDomains = opts.topLevelDomains || Mailcheck.defaultTopLevelDomains;
	    opts.distanceFunction = opts.distanceFunction || Mailcheck.sift3Distance;
	
	    var defaultCallback = function(result){ return result };
	    var suggestedCallback = opts.suggested || defaultCallback;
	    var emptyCallback = opts.empty || defaultCallback;
	
	    var result = Mailcheck.suggest(Mailcheck.encodeEmail(opts.email), opts.domains, opts.secondLevelDomains, opts.topLevelDomains, opts.distanceFunction);
	
	    return result ? suggestedCallback(result) : emptyCallback()
	  },
	
	  suggest: function(email, domains, secondLevelDomains, topLevelDomains, distanceFunction) {
	    email = email.toLowerCase();
	
	    var emailParts = this.splitEmail(email);
	
	    if (secondLevelDomains && topLevelDomains) {
	        // If the email is a valid 2nd-level + top-level, do not suggest anything.
	        if (secondLevelDomains.indexOf(emailParts.secondLevelDomain) !== -1 && topLevelDomains.indexOf(emailParts.topLevelDomain) !== -1) {
	            return false;
	        }
	    }
	
	    var closestDomain = this.findClosestDomain(emailParts.domain, domains, distanceFunction, this.domainThreshold);
	
	    if (closestDomain) {
	      if (closestDomain == emailParts.domain) {
	        // The email address exactly matches one of the supplied domains; do not return a suggestion.
	        return false;
	      } else {
	        // The email address closely matches one of the supplied domains; return a suggestion
	        return { address: emailParts.address, domain: closestDomain, full: emailParts.address + "@" + closestDomain };
	      }
	    }
	
	    // The email address does not closely match one of the supplied domains
	    var closestSecondLevelDomain = this.findClosestDomain(emailParts.secondLevelDomain, secondLevelDomains, distanceFunction, this.secondLevelThreshold);
	    var closestTopLevelDomain    = this.findClosestDomain(emailParts.topLevelDomain, topLevelDomains, distanceFunction, this.topLevelThreshold);
	
	    if (emailParts.domain) {
	      var closestDomain = emailParts.domain;
	      var rtrn = false;
	
	      if(closestSecondLevelDomain && closestSecondLevelDomain != emailParts.secondLevelDomain) {
	        // The email address may have a mispelled second-level domain; return a suggestion
	        closestDomain = closestDomain.replace(emailParts.secondLevelDomain, closestSecondLevelDomain);
	        rtrn = true;
	      }
	
	      if(closestTopLevelDomain && closestTopLevelDomain != emailParts.topLevelDomain) {
	        // The email address may have a mispelled top-level domain; return a suggestion
	        closestDomain = closestDomain.replace(new RegExp(emailParts.topLevelDomain + "$"), closestTopLevelDomain);
	        rtrn = true;
	      }
	
	      if (rtrn == true) {
	        return { address: emailParts.address, domain: closestDomain, full: emailParts.address + "@" + closestDomain };
	      }
	    }
	
	    /* The email address exactly matches one of the supplied domains, does not closely
	     * match any domain and does not appear to simply have a mispelled top-level domain,
	     * or is an invalid email address; do not return a suggestion.
	     */
	    return false;
	  },
	
	  findClosestDomain: function(domain, domains, distanceFunction, threshold) {
	    threshold = threshold || this.topLevelThreshold;
	    var dist;
	    var minDist = Infinity;
	    var closestDomain = null;
	
	    if (!domain || !domains) {
	      return false;
	    }
	    if(!distanceFunction) {
	      distanceFunction = this.sift3Distance;
	    }
	
	    for (var i = 0; i < domains.length; i++) {
	      if (domain === domains[i]) {
	        return domain;
	      }
	      dist = distanceFunction(domain, domains[i]);
	      if (dist < minDist) {
	        minDist = dist;
	        closestDomain = domains[i];
	      }
	    }
	
	    if (minDist <= threshold && closestDomain !== null) {
	      return closestDomain;
	    } else {
	      return false;
	    }
	  },
	
	  sift3Distance: function(s1, s2) {
	    // sift3: http://siderite.blogspot.com/2007/04/super-fast-and-accurate-string-distance.html
	    if (s1 == null || s1.length === 0) {
	      if (s2 == null || s2.length === 0) {
	        return 0;
	      } else {
	        return s2.length;
	      }
	    }
	
	    if (s2 == null || s2.length === 0) {
	      return s1.length;
	    }
	
	    var c = 0;
	    var offset1 = 0;
	    var offset2 = 0;
	    var lcs = 0;
	    var maxOffset = 5;
	
	    while ((c + offset1 < s1.length) && (c + offset2 < s2.length)) {
	      if (s1.charAt(c + offset1) == s2.charAt(c + offset2)) {
	        lcs++;
	      } else {
	        offset1 = 0;
	        offset2 = 0;
	        for (var i = 0; i < maxOffset; i++) {
	          if ((c + i < s1.length) && (s1.charAt(c + i) == s2.charAt(c))) {
	            offset1 = i;
	            break;
	          }
	          if ((c + i < s2.length) && (s1.charAt(c) == s2.charAt(c + i))) {
	            offset2 = i;
	            break;
	          }
	        }
	      }
	      c++;
	    }
	    return (s1.length + s2.length) /2 - lcs;
	  },
	
	  splitEmail: function(email) {
	    var parts = email.trim().split('@');
	
	    if (parts.length < 2) {
	      return false;
	    }
	
	    for (var i = 0; i < parts.length; i++) {
	      if (parts[i] === '') {
	        return false;
	      }
	    }
	
	    var domain = parts.pop();
	    var domainParts = domain.split('.');
	    var sld = '';
	    var tld = '';
	
	    if (domainParts.length == 0) {
	      // The address does not have a top-level domain
	      return false;
	    } else if (domainParts.length == 1) {
	      // The address has only a top-level domain (valid under RFC)
	      tld = domainParts[0];
	    } else {
	      // The address has a domain and a top-level domain
	      sld = domainParts[0];
	      for (var i = 1; i < domainParts.length; i++) {
	        tld += domainParts[i] + '.';
	      }
	      tld = tld.substring(0, tld.length - 1);
	    }
	
	    return {
	      topLevelDomain: tld,
	      secondLevelDomain: sld,
	      domain: domain,
	      address: parts.join('@')
	    }
	  },
	
	  // Encode the email address to prevent XSS but leave in valid
	  // characters, following this official spec:
	  // http://en.wikipedia.org/wiki/Email_address#Syntax
	  encodeEmail: function(email) {
	    var result = encodeURI(email);
	    result = result.replace('%20', ' ').replace('%25', '%').replace('%5E', '^')
	                   .replace('%60', '`').replace('%7B', '{').replace('%7C', '|')
	                   .replace('%7D', '}');
	    return result;
	  }
	};
	
	// Export the mailcheck object if we're in a CommonJS env (e.g. Node).
	// Modeled off of Underscore.js.
	if (typeof module !== 'undefined' && module.exports) {
	    module.exports = Mailcheck;
	}
	
	// Support AMD style definitions
	// Based on jQuery (see http://stackoverflow.com/a/17954882/1322410)
	if (true) {
	  !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {
	    return Mailcheck;
	  }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	}
	
	if (typeof window !== 'undefined' && window.jQuery) {
	  (function($){
	    $.fn.mailcheck = function(opts) {
	      var self = this;
	      if (opts.suggested) {
	        var oldSuggested = opts.suggested;
	        opts.suggested = function(result) {
	          oldSuggested(self, result);
	        };
	      }
	
	      if (opts.empty) {
	        var oldEmpty = opts.empty;
	        opts.empty = function() {
	          oldEmpty.call(null, self);
	        };
	      }
	
	      opts.email = this.val();
	      Mailcheck.run(opts);
	    }
	  })(jQuery);
	}


/***/ },
/* 88 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var Form = __webpack_require__(34);
	
	
	
	module.exports = Form.extend({
	    isolated: true,
	    template: __webpack_require__(89),
	
	    components: {
	        passenger: __webpack_require__(90)
	    },
	
	    data: function () {
	        return {
	            qa: window.localStorage.getItem('qa')
	        };
	    },
	
	    oncomplete: function () {
	        var view = this;
	
	        this.observe('booking.steps.2.active', function (active) {
	            if (active) {
	                //console.log('scroll to top');
	
	                view.get('booking').setCurrentStepForMobile(2);
	                $('html, body').animate({
	                    scrollTop: 0
	                }, 1000);
	                $.ajax({
	                    type: 'POST',
	                    url: '/b2c/booking/travelers',
	                    data: {booking_id: this.get('booking.id')},
	                    success: function (data) {
	                        //  console.log('got travelers', data);
	
	                        if (data) {
	                            view.set('travelers', data);
	                        }
	                    }
	                });
	            }
	        });
	    },
	    submit: function () {
	        if (!this.checkduplicateUser()) {
	            this.get('booking').step2();
	        }
	    },
	
	    checkAvailability: function () {
	        this.get('booking').step2({check: true})
	    },
	
	    activate: function () {
	        if (!this.get('booking.payment.payment_id'))
	            this.get('booking').activate(2);
	    },
	
	    back: function () {
	        this.get('booking').activate(1);
	    },
	
	    checkduplicateUser: function () {
	        var passengers = this.get('booking.passengers'),
	                passenger_str = new Array(),
	                dup_passenger = new Array(),
	                n = 0,
	                html = '',
	                flag = false,
	                str = '',
	                i, j,
	                name = '',
	                once = true,
	                final_arr = new Array();
	        $.each(passengers, function (key, value) {
	            str = value.traveler.title_id + value.traveler.firstname.toUpperCase().trim() + value.traveler.lastname.toUpperCase().trim();
	            if (str !== 'undefined' && str !== '') {
	                passenger_str.push(str.replace(/\s+/g, ''));
	            }
	        });
	        // duplicate value array
	        n = passenger_str.length;
	        // count the array length
	        for (i = 0; i < n; i++) {
	            for (j = i + 1; j < n; j++) {
	                if (passenger_str[i] == passenger_str[j]) {
	                    if (final_arr.indexOf(j) == -1) {
	                        if (once) {
	                            html += '<div class="ui error message" style="display:block;">';
	                        }
	                        name = passengers[j].traveler.firstname + ' ' + passengers[j].traveler.lastname;
	                        html += '<p>Please Check Duplicate Passenger ' + name + '</p>';
	                        once = false;
	                        flag = true;
	                        final_arr.push(j);
	                    }
	                }
	            }
	        }
	        if (!flag) {
	            $('#dup-error').removeClass('ui segment passenger basic').html('');
	        } else {
	            html += '</div>';
	            $('#dup-error').addClass('ui segment passenger basic').html(html);
	        }
	
	        return flag;
	    }
	});
	


/***/ },
/* 89 */
/***/ function(module, exports) {

	module.exports={"v":3,"t":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":["step header step2 ",{"t":4,"f":["active"],"n":50,"r":"step.active"},{"t":4,"n":51,"f":[{"t":4,"f":["completed"],"n":50,"r":"step.completed"}],"r":"step.active"}],"role":"tab"},"f":["Passengers"]}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"step2-summary segment"},"v":{"click":{"m":"activate","a":{"r":[],"s":"[2]"}}},"f":[{"t":7,"e":"div","a":{"class":"ui horizontal list"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"item"},"f":[{"t":7,"e":"div","a":{"class":"content"},"f":[{"t":7,"e":"i","a":{"class":"user icon"}}," ",{"t":2,"r":"traveler.firstname"}," ",{"t":2,"r":"traveler.lastname"}]}]}],"n":52,"i":"i","r":"booking.passengers"}]}]}],"n":50,"x":{"r":["step.completed","step.active"],"s":"_0&&!_1"}},{"t":4,"n":51,"f":[{"t":4,"f":[{"t":7,"e":"form","a":{"action":"javascript:;","class":["ui form segment step2 ",{"t":4,"f":["error"],"n":50,"r":"step.errors"}," ",{"t":4,"f":[],"n":50,"r":"step.submitting"}]},"v":{"submit":{"m":"submit","a":{"r":[],"s":"[]"}}},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"payment_loader"},"f":[{"t":7,"e":"div","a":{"class":"ui active inverted dimmer"},"f":[{"t":7,"e":"div","a":{"class":"wait_text"},"f":["Please Wait"]},{"t":7,"e":"br"},{"t":7,"e":"br"}," ",{"t":7,"e":"div","a":{"class":"ui text loader loader_position"}}]}]}],"n":50,"r":"step.submitting"}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"passenger-header header"},"f":[{"t":2,"rx":{"r":"meta.travelerTypes","m":[{"t":30,"n":"type_id"}]}},"(",{"t":2,"r":"no"},")* ",{"t":4,"f":[{"t":7,"e":"span","a":{"style":"font-size: 12px;font-weight: normal; margin-left: 5px;"},"f":["(",{"t":2,"rx":{"r":"meta.travelerTypes","m":[{"t":30,"n":"type_id"}]}}," age should be between ",{"t":4,"f":["2 - 12"],"n":50,"x":{"r":["type_id"],"s":"_0==2"}}," ",{"t":4,"f":["0 - 2"],"n":50,"x":{"r":["type_id"],"s":"_0==3"}}," years)"]}],"n":50,"x":{"r":["type_id"],"s":"_0==3||_0==2"}}]}," ",{"t":7,"e":"passenger","a":{"class":"basic","validation":[{"t":2,"r":"booking.passengerValidaton"}],"travelers":[{"t":2,"r":"travelers"}],"passenger":[{"t":2,"r":"."}],"errors":[{"t":2,"rx":{"r":"step.errors","m":[{"t":30,"n":"i"}]}}],"meta":[{"t":2,"r":"meta"}]}}],"n":52,"i":"i","r":"booking.passengers"}," ",{"t":7,"e":"div","a":{"id":"dup-error"}}," ",{"t":7,"e":"div","a":{"class":"ui basic segment"},"f":[{"t":7,"e":"div","a":{"class":"ui one column grid"},"f":[{"t":7,"e":"div","a":{"class":"column"},"f":[{"t":7,"e":"button","a":{"type":"submit","class":"ui wizard button massive blue"},"f":["CONTINUE"]}," ",{"t":4,"f":[{"t":7,"e":"button","a":{"type":"button","class":"ui wizard button massive red"},"v":{"click":{"m":"checkAvailability","a":{"r":[],"s":"[]"}}},"f":["CHECK"]}],"n":50,"r":"qa"}]}]}]}]}],"n":50,"r":"step.active"}],"x":{"r":["step.completed","step.active"],"s":"_0&&!_1"}}],"x":{"r":["booking.steps.2"],"s":"{step:_0}"}}]};

/***/ },
/* 90 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _ = __webpack_require__(30),
	        $ = __webpack_require__(33);
	
	;
	var Form = __webpack_require__(34),
	        Meta = __webpack_require__(68)
	        ;
	
	
	
	module.exports = Form.extend({
	    isolated: true,
	    template: __webpack_require__(91),
	
	    components: {
	        mobileselect: __webpack_require__(92),
	    },
	
	    data: function () {
	        return {
	            _: _,
	            datesupported: true,
	            all: false,
	            date: __webpack_require__(94)(),
	            adult: [
	                {tid: '1'},
	                {tid: '2'},
	                {tid: '3'}
	            ],
	            child: [
	                {tid: '2'},
	                {tid: '4'}
	            ],
	            infant: [
	                {tid: '2'},
	                {tid: '4'}
	            ],
	            search: function (term, travelers) {
	                //  console.log('search', arguments);
	
	                term = term.toLowerCase();
	                if (term && travelers) {
	                    return _.filter(travelers, function (i) {
	                        return -1 !== (i.firstname + ' ' + i.lastname).toLowerCase().indexOf(term);
	                    })
	                            .slice(0, 4);
	                }
	
	                //return travelers ? travelers.slice(0, 4) : null;
	                return travelers;
	            }
	        };
	    },
	
	    oncomplete: function () {
	        !function (e, t, n) {
	            function a(e, t) {
	                return typeof e === t
	            }
	            function s(e) {
	                var t = r.className, n = Modernizr._config.classPrefix || "";
	                if (c && (t = t.baseVal), Modernizr._config.enableJSClass) {
	                    var a = new RegExp("(^|\\s)" + n + "no-js(\\s|$)");
	                    t = t.replace(a, "$1" + n + "js$2")
	                }
	                Modernizr._config.enableClasses && (t += " " + n + e.join(" " + n), c ? r.className.baseVal = t : r.className = t)
	            }
	            function i() {
	                var e, t, n, s, i, o, r;
	                for (var c in u) {
	                    if (e = [], t = u[c], t.name && (e.push(t.name.toLowerCase()), t.options && t.options.aliases && t.options.aliases.length))
	                        for (n = 0; n < t.options.aliases.length; n++)
	                            e.push(t.options.aliases[n].toLowerCase());
	                    for (s = a(t.fn, "function")?t.fn():t.fn, i = 0; i < e.length; i++)
	                        o = e[i], r = o.split("."), 1 === r.length ? Modernizr[r[0]] = s : (!Modernizr[r[0]] || Modernizr[r[0]]instanceof Boolean || (Modernizr[r[0]] = new Boolean(Modernizr[r[0]])), Modernizr[r[0]][r[1]] = s), l.push((s ? "" : "no-") + r.join("-"))
	                }
	            }
	            function o() {
	                return"function" != typeof t.createElement ? t.createElement(arguments[0]) : c ? t.createElementNS.call(t, "http://www.w3.org/2000/svg", arguments[0]) : t.createElement.apply(t, arguments)
	            }
	            var l = [], r = t.documentElement, c = "svg" === r.nodeName.toLowerCase(), u = [], f = {_version: "3.0.0-alpha.4", _config: {classPrefix: "", enableClasses: !0, enableJSClass: !0, usePrefixes: !0}, _q: [], on: function (e, t) {
	                    var n = this;
	                    setTimeout(function () {
	                        t(n[e])
	                    }, 0)
	                }, addTest: function (e, t, n) {
	                    u.push({name: e, fn: t, options: n})
	                }, addAsyncTest: function (e) {
	                    u.push({name: null, fn: e})
	                }}, Modernizr = function () {};
	            Modernizr.prototype = f, Modernizr = new Modernizr;
	            var p = o("input"), d = "search tel url email datetime date month week time datetime-local number range color".split(" "), m = {};
	            Modernizr.inputtypes = function (e) {
	                for (var a, s, i, o = e.length, l = ":)", c = 0; o > c; c++)
	                    p.setAttribute("type", a = e[c]), i = "text" !== p.type && "style"in p, i && (p.value = l, p.style.cssText = "position:absolute;visibility:hidden;", /^range$/.test(a) && p.style.WebkitAppearance !== n ? (r.appendChild(p), s = t.defaultView, i = s.getComputedStyle && "textfield" !== s.getComputedStyle(p, null).WebkitAppearance && 0 !== p.offsetHeight, r.removeChild(p)) : /^(search|tel)$/.test(a) || (i = /^(url|email|number)$/.test(a) ? p.checkValidity && p.checkValidity() === !1 : p.value != l)), m[e[c]] = !!i;
	                return m
	            }(d), i(), s(l), delete f.addTest, delete f.addAsyncTest;
	            for (var g = 0; g < Modernizr._q.length; g++)
	                Modernizr._q[g]();
	            e.Modernizr = Modernizr
	        }(window, document);
	        if (!Modernizr.inputtypes.date) {
	            this.set('datesupported', false);
	        }
	
	        //$( ".dob" ).datepicker();
	
	        if (true) {
	            var fn = $(this.find('input.firstname'))
	                    .popup({
	                        position: 'bottom left',
	                        popup: $(this.find('.travelers.popup')),
	                        on: null,
	                        prefer: 'opposite',
	                        closable: false
	                    })
	                    .on('click', function () {
	                        fn.popup('show');
	                    })
	                    .on('blur', function () {
	                        setTimeout(function () {
	                            fn.popup('hide');
	                        }, 200);
	                    })
	                    ;
	
	        } else {
	            var view = this;
	            this.observe('travelers', function (travelers) {
	                if (travelers && travelers.length) {
	                    $('.tpopup', view.el).mobiscroll().select({
	                        buttons: [],
	                        onSelect: function (v, inst) {
	                            var id = _.parseInt($('.tpopup', view.el).val()),
	                                    traveler = _.findWhere(view.get('travelers'), {id: id});
	
	                            if (traveler) {
	                                view.pickTraveler(traveler);
	                                //  $(this).closest(".passengerclass").find('.tt').text(_.result(_.find(titles, {'id': traveler.title_id}), 'name'));
	                                //   view.set('passenger.traveler.title_id',traveler.)
	                            }
	                        },
	                        onValueTap: function (v, inst) {
	//                            console.log(v);
	//                            console.log(v.context.innerText);
	//                            console.log(v.context.outerHTML);     
	                            //                           console.log(v.context.attributes['data-val'].nodeValue);     
	                            var id = _.parseInt(v.context.attributes['data-val'].nodeValue),
	                                    traveler = _.findWhere(view.get('travelers'), {id: id});
	                            //             console.log(traveler);
	                            if (traveler) {
	                                view.pickTraveler(traveler);
	                                //    var titles = view.get('meta.titles');
	                                //  $(this).closest(".passengerclass").find('.tt').text(_.result(_.find(titles, {'id': traveler.title_id}), 'name'));
	
	                            }
	                            $('.tpopup', view.el).mobiscroll('hide');
	
	                        }
	                    });
	                }
	
	
	
	
	            });
	
	
	
	        }
	
	//                $('input[name="dob"]').change(function(){
	//                    //alert(this.value);         //Date in full format alert(new Date(this.value));
	//                    var inputDate = this.value;//new Date(this.value);
	//                    var date=inputDate.split("-");
	//                    console.log(inputDate);
	//                });
	
	
	    },
	    onconfig: function () {
	        this.observe('passenger.traveler.firstname passenger.traveler.lastname', function (newValue, oldValue, keypath) {
	            if (typeof oldValue !== 'undefined' && newValue !== oldValue) {
	                this.set('passenger.traveler.id', null);
	            }
	            //console.log(this.get('passenger.traveler'));
	        }, {
	            init: false,
	            defer: true
	        });
	    },
	    travelers: function () {
	        if (false) {
	            $('.tpopup', this.el).mobiscroll('show');
	        }
	    },
	    titleselect: function () {
	        if (false) {
	            $('.titlepopup', this.el).mobiscroll('show');
	        }
	    },
	    show: function (section, validation, all) {
	        if (all)
	            return true;
	
	        if ('birth' == section) {
	            return 'domestic' != 'validation';
	        }
	
	        if ('passport' == section) {
	            return 'full' == 'validation';
	        }
	    },
	
	    pickTraveler: function (traveler) {
	        var view = this,
	                id = this.get('passenger.traveler.id');
	        //console.log(no);
	        var view = this;
	
	        this.set('passenger.traveler', null)
	                .then(function () {
	                    view.set('passenger.traveler', _.cloneDeep(traveler));
	                });
	    },
	    setdob: function (traveler) {
	        var dateofbirth = this.get('passenger.traveler.birthd');
	        var no = _.parseInt(traveler['no']);
	        var t = no - 1;
	        var view = this;
	        var dob = dateofbirth.split('-');
	        this.set('passenger.traveler.birth', dob);
	
	    },
	    setdobsimple: function (traveler) {
	        // console.log(traveler);
	        var regEx = /^\d{2}-\d{2}-\d{4}$/;
	        var no = _.parseInt(traveler['no']);
	        var t = no - 1;
	        var view = this;
	        var dateofbirth = $("#dob_" + no).val();
	        if (dateofbirth != '') {
	            if (dateofbirth.match(regEx) != null) {
	                var dob = dateofbirth.split('-');
	                var dobb = [dob[2], dob[1], dob[0]];
	                if (_.parseInt(dob[0]) > 31) {
	                    alert("Please Put Valid Date in DD-MM-YYYY Format");
	                    $("#dob_" + no).val('').focus();
	                    return false;
	                }
	                if (_.parseInt(dob[1]) > 12) {
	                    alert("Please Put Valid Date in DD-MM-YYYY Format");
	                    $("#dob_" + no).val('').focus();
	                    return false;
	                }
	                this.set('passenger.traveler.birth', dobb);
	            } else {
	                alert("Please Put Date in DD-MM-YYYY Format");
	                $("#dob_" + no).val('').focus();
	            }
	        }
	
	    },
	
	    setpassportexpiry: function (traveler) {
	        var no = _.parseInt(traveler['no']);
	        var t = no - 1;
	        var dateofped = this.get('passenger.traveler.pd');
	        //var dateofped=$("#ped_"+no).val();
	        var peda = dateofped.split('-');
	        this.set('passenger.traveler.passport_expiry', peda);
	    },
	    setpassportexpirysimple: function (traveler) {
	        //console.log(traveler);
	
	        var regEx = /^\d{2}-\d{2}-\d{4}$/;
	
	        var no = _.parseInt(traveler['no']);
	        var t = no - 1;
	        var view = this;
	        var dateofped = $("#ped_" + no).val();
	        if (dateofped != '') {
	            if (dateofped.match(regEx) != null) {
	                var dob = dateofped.split('-');
	                var dobb = [dob[2], dob[1], dob[0]];
	                if (_.parseInt(dob[0]) > 31) {
	                    alert("Please Put Valid Date in DD-MM-YYYY Format");
	                    $("#ped_" + no).val('').focus();
	                    return false;
	                }
	                if (_.parseInt(dob[1]) > 12) {
	                    alert("Please Put Valid Date in DD-MM-YYYY Format");
	                    $("#ped_" + no).val('').focus();
	                    return false;
	                }
	
	                this.set('passenger.traveler.passport_expiry', dobb);
	            } else {
	                alert("Please Put Date in DD-MM-YYYY Format");
	                $("#ped_" + no).val('').focus();
	            }
	        }
	    },
	    toglle: function (traveler) {
	        var no = _.parseInt(traveler['no']);
	
	        if (this.get('passenger.traveler.birth') != null) {
	            if (this.get('datesupported')) {
	                var dob = this.get('passenger.traveler.birth.0') + '-' + this.get('passenger.traveler.birth.1') + '-' + this.get('passenger.traveler.birth.2');
	                $("#dob_" + no).val(dob);
	            } else {
	                var dob = this.get('passenger.traveler.birth.2') + '-' + this.get('passenger.traveler.birth.1') + '-' + this.get('passenger.traveler.birth.0');
	                $("#dob_" + no).val(dob);
	            }
	        }
	        if (this.get('passenger.traveler.passport_expiry') != null) {
	            if (this.get('datesupported')) {
	                var dob = this.get('passenger.traveler.passport_expiry.0') + '-' + this.get('passenger.traveler.passport_expiry.1') + '-' + this.get('passenger.traveler.passport_expiry.2');
	                $("#ped_" + no).val(dob);
	
	            } else {
	                var dob = this.get('passenger.traveler.passport_expiry.2') + '-' + this.get('passenger.traveler.passport_expiry.1') + '-' + this.get('passenger.traveler.passport_expiry.0');
	                $("#ped_" + no).val(dob);
	            }
	        }
	        this.toggle('all');
	    }
	
	});

/***/ },
/* 91 */
/***/ function(module, exports) {

	module.exports={"v":3,"t":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":["ui segment passenger ",{"t":2,"r":"class"}]},"f":[{"t":7,"e":"div","a":{"class":"name tree fields"},"f":[{"t":7,"e":"div","a":{"class":"title field"},"f":[{"t":4,"f":[{"t":7,"e":"ui-select","a":{"class":"title","title_type":[{"t":2,"r":"adult"}],"title_match":"true","placeholder":"Title","options":[{"t":2,"x":{"r":["meta.select"],"s":"_0.titles()"}}],"value":[{"t":2,"r":"traveler.title_id"}],"error":[{"t":2,"r":"errors.title_id"}]}}],"n":50,"x":{"r":["type_id"],"s":"_0==1"}},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["type_id"],"s":"_0==2"},"f":[{"t":7,"e":"ui-select","a":{"class":"title","title_type":[{"t":2,"r":"child"}],"title_match":"true","placeholder":"Title","options":[{"t":2,"x":{"r":["meta.select"],"s":"_0.titles()"}}],"value":[{"t":2,"r":"traveler.title_id"}],"error":[{"t":2,"r":"errors.title_id"}]}}]},{"t":4,"n":50,"x":{"r":["type_id"],"s":"!(_0==2)"},"f":[" ",{"t":7,"e":"ui-select","a":{"class":"title","title_type":[{"t":2,"r":"infant"}],"title_match":"true","placeholder":"Title","options":[{"t":2,"x":{"r":["meta.select"],"s":"_0.titles()"}}],"value":[{"t":2,"r":"traveler.title_id"}],"error":[{"t":2,"r":"errors.title_id"}]}}]}],"x":{"r":["type_id"],"s":"_0==1"}}]}," ",{"t":7,"e":"div","a":{"class":"first name field"},"f":[{"t":7,"e":"ui-input","a":{"name":"firstname","class":"firstname","placeholder":"First & Middle Name","value":[{"t":2,"r":"traveler.firstname"}],"error":[{"t":2,"r":"errors.firstname"}]}}," ",{"t":7,"e":"div","a":{"class":"ui travelers popup vertical menu"},"f":[{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"header"},"f":["Pick a ",{"t":2,"rx":{"r":"meta.travelerTypes","m":[{"t":30,"n":"type_id"}]}}]},{"t":7,"e":"br"}," ",{"t":7,"e":"div","a":{"class":"pick-list"},"f":[{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"a","a":{"class":"item"},"v":{"click":{"m":"pickTraveler","a":{"r":["."],"s":"[_0]"}}},"f":[{"t":7,"e":"i","a":{"class":"user icon"}}," ",{"t":4,"f":[{"t":4,"f":[{"t":2,"r":"name"}],"n":50,"x":{"r":["id","title_id"],"s":"_0==_1"}}],"n":52,"r":"meta.titles"}," ",{"t":2,"r":"firstname"}," ",{"t":2,"r":"lastname"}]}],"n":50,"x":{"r":["traveler_type_id","type_id"],"s":"_0==_1"}}],"n":52,"r":"travelers"}]}],"n":50,"r":"travelers.length"},{"t":4,"n":51,"f":[{"t":7,"e":"div","a":{"class":"header"},"f":["New ",{"t":2,"rx":{"r":"meta.travelerTypes","m":[{"t":30,"n":"type_id"}]}},"?"]},{"t":7,"e":"br"}," ",{"t":7,"e":"p","f":["We will register traveler in the system for faster access."]}],"r":"travelers.length"}],"x":{"r":["search","traveler.firstname","travelers"],"s":"{travelers:_0(_1,_2)}"}}]}]}," ",{"t":7,"e":"div","a":{"class":"last name field"},"f":[{"t":7,"e":"ui-input","a":{"name":"lastname","class":"lastname","placeholder":"Lastname","value":[{"t":2,"r":"traveler.lastname"}],"error":[{"t":2,"r":"errors.lastname"}]}}]}]}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Date of Birth",{"t":4,"f":["*"],"n":50,"x":{"r":["validation","type_id"],"s":"\"domestic\"!=_0||_1==3||_1==2"}}," ",{"t":7,"e":"span","a":{"style":"color: #3399ff; margin-left: 10px!important ;font-size: 13px;"},"f":["(The Date of Birth can be changed later)"]}]}," ",{"t":7,"e":"div","a":{"class":"passport-expiry date three fields"},"f":[{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"ui-select","a":{"class":"day","placeholder":"Day","options":[{"t":2,"r":"date.select.D"}],"value":[{"t":2,"r":"traveler.birth.2"}],"error":[{"t":2,"r":"errors.birth"}]}}]}," ",{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"ui-select","a":{"class":"month","placeholder":"Month","options":[{"t":2,"r":"date.select.MMMM"}],"value":[{"t":2,"r":"traveler.birth.1"}],"error":[{"t":2,"r":"errors.birth"}]}}]}," ",{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"ui-select","a":{"class":"year","placeholder":"Year","options":[{"t":2,"x":{"r":["date.select","~/type_id"],"s":"_0.birthYears(_1)"}}],"value":[{"t":2,"r":"traveler.birth.0"}],"error":[{"t":2,"r":"errors.birth"}]}}]}," "]},{"t":7,"e":"br"}],"n":50,"x":{"r":["all","validation","type_id"],"s":"_0||\"domestic\"!=_1||_2==3||_2==2"}}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Passport"]}," ",{"t":7,"e":"div","a":{"class":"passport two fields"},"f":[{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"ui-input","a":{"class":"passport-number","placeholder":"Passport Number","value":[{"t":2,"r":"traveler.passport_number"}],"error":[{"t":2,"r":"errors.passport_number"}]}}]}," ",{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"ui-select","a":{"value":[{"t":2,"r":"traveler.passport_country_id"}],"class":"passport-country","search":"1","placeholder":"Passport Country","options":[{"t":2,"x":{"r":["meta.select"],"s":"_0.countries()"}}],"error":[{"t":2,"r":"errors.passport_country_id"}]},"f":[]}]}]}," ",{"t":7,"e":"div","a":{"class":"label"},"f":["Passport expiry date"]}," ",{"t":7,"e":"div","a":{"class":"passport-expiry date three fields"},"f":[{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"ui-select","a":{"class":"day","placeholder":"Day","options":[{"t":2,"r":"date.select.D"}],"value":[{"t":2,"r":"traveler.passport_expiry.2"}],"error":[{"t":2,"r":"errors.passport_expiry"}]}}]}," ",{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"ui-select","a":{"class":"month","placeholder":"Month","options":[{"t":2,"r":"date.select.MMMM"}],"value":[{"t":2,"r":"traveler.passport_expiry.1"}],"error":[{"t":2,"r":"errors.passport_expiry"}]}}]}," ",{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"ui-select","a":{"class":"year","placeholder":"Year","options":[{"t":2,"r":"date.select.passportYears"}],"value":[{"t":2,"r":"traveler.passport_expiry.0"}],"error":[{"t":2,"r":"errors.passport_expiry"}]}}]}]}],"n":50,"r":"all"}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"ui error message"},"f":[{"t":4,"f":[{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"p","f":[{"t":2,"r":"."}]}],"n":50,"r":"."}],"n":52,"i":"i","r":"errors"}],"n":50,"x":{"r":["_","errors"],"s":"_0.isArray(_1)||_0.isObject(_1)"}},{"t":4,"n":51,"f":[{"t":7,"e":"p","f":[{"t":2,"r":"errors"}]}],"x":{"r":["_","errors"],"s":"_0.isArray(_1)||_0.isObject(_1)"}}]}],"n":50,"r":"errors"}," ",{"t":7,"e":"div","a":{"align":"center","class":"more"},"f":[{"t":7,"e":"a","a":{"class":"ui basic tiny circular button","href":"javascript:;"},"v":{"click":{"m":"toggle","a":{"r":[],"s":"[\"all\"]"}}},"f":[{"t":4,"f":["Less Info"],"n":50,"r":"all"},{"t":4,"n":51,"f":["More Info"],"r":"all"}]}]}]}],"r":"passenger"}]};

/***/ },
/* 92 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var Component = __webpack_require__(35),
	    $ = __webpack_require__(33),
	    _ = __webpack_require__(30)
	    ;
	
	var
	    LARGE = 'large',
	    DISABLED = 'disabled',
	    LOADING = 'icon loading',
	    DECORATED = 'decorated',
	    ERROR = 'error',
	    IN = 'in',
	    SEARCH = 'search',
	    INPUT = 'input'
	    ;
	
	module.exports = Component.extend({
	    isolated: true,
	    template: __webpack_require__(93),
	
	    data: function() {
	        return {
	            classes: function() {
	                var data = this.get(),
	                    classes = [];
	
	                if (_.isObject(data.state)) {
	                    if (data.state.disabled || data.state.submitting) classes.push(DISABLED);
	                    if (data.state.loading) classes.push(LOADING);
	                    if (data.state.error) classes.push(ERROR);
	
	                }
	
	                if (data.large) {
	                    classes.push(INPUT);
	                    classes.push(DECORATED);
	                    classes.push(LARGE);
	
	                    if (data.value || data.focus) {
	                        classes.push(IN);
	                    }
	                }
	
	                if (data.search) {
	                    classes.push(SEARCH);
	                }
	
	                if (data.disabled) {
	                    classes.push(DISABLED);
	                }
	
	
	                return classes.join(' ');
	            }
	        };
	    },
	
	    oncomplete: function() {
	        var view = this, o;
	
	        var el = $('.popup', view.el).mobiscroll().select({
	                       buttons: [],
	                       onSelect: function (v, inst) {
	                           
	                            $(view.el).find('.tt').text(v);
	                            var value= _.result(_.find(titles, {'name': _.parseInt(v)}), 'id');
	                            view.set('traveler.title_id',value);
	                           // console.log(view.get('traveler'));
	                       },
	                       onValueTap: function (v, inst) { 
	                          // console.log('pp');
	                           var titles =view.get('options');
	                           var title=v.context.attributes['data-val'].nodeValue;
	                           var value= _.result(_.find(titles, {'id': _.parseInt(title)}), 'name');
	                           $(view.el).find('.tt').text(value);
	                           $('.popup', view.el).mobiscroll('hide');
	                           view.set('traveler.title_id',_.parseInt(title));
	                           //console.log(view.get('traveler'));
	                           //console.log('pp'+title);
	                       }
	                   });
	            ;
	        
	       
	        this.observe('value', function(value) {
	
	            if (value) {
	                var options = this.get('options');
	
	                if (options) {
	                    var o = _.find(options, {id: value});
	
	                    if (o) {
	//                        el.dropdown('set value', o.id);
	//                        el.dropdown('set text', o.text);
	
	                        return;
	                    }
	
	                }
	
	                return;
	            }
	
	//            el.dropdown('restore defaults');
	
	
	        }, {init: false});
	
	        
	
	    },
	selectvalue: function() {
	   
	       view.set('traveler.title_id',_.parseInt($(this.find('.popup')).val()));
	     //  console.log(view.get('traveler'));
	      // console.log(view.get('value'));
	    },
	    onteadown: function() {
	        //this.set('options', null);
	    },
	     dropdownselect: function() {
	        
	            $('.popup', this.el).mobiscroll('show');
	           // console.log('dropdownselect');
	        
	    },
	});

/***/ },
/* 93 */
/***/ function(module, exports) {

	module.exports={"v":3,"t":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"field","align":"center"},"f":[" ",{"t":7,"e":"div","a":{"class":"ui dropdown "},"v":{"click":{"m":"dropdownselect","a":{"r":[],"s":"[]"}}},"f":[{"t":7,"e":"div","a":{"class":"default text tt"},"f":[{"t":2,"r":"placeholder"}]}," ",{"t":7,"e":"i","a":{"class":"dropdown icon"}}]}," ",{"t":7,"e":"div","a":{"class":"hide"},"f":[{"t":7,"e":"select","a":{"class":"popup"},"f":[{"t":4,"f":[{"t":4,"f":[{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"option","a":{"value":[{"t":2,"r":"id"}]},"f":[{"t":2,"r":"name"}]}],"n":50,"x":{"r":["tid","id"],"s":"_0==_1"}}],"r":"title_type"}],"r":"options"}],"n":50,"r":"title_match"},{"t":4,"n":51,"f":[{"t":4,"f":[{"t":7,"e":"option","a":{"value":[{"t":2,"r":"id"}]},"f":[{"t":2,"r":"name"}]}],"r":"options"}],"r":"title_match"}]}]}]}],"n":50,"r":"options.length"}]};

/***/ },
/* 94 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _ = __webpack_require__(30),
	    moment = __webpack_require__(44)
	    ;
	
	module.exports = function() {
	    var out = {
	        D: _.range(1,32),
	        M: _.range(1,13),
	        MMMM: moment.months()
	    };
	
	    out.select = {
	        D: _.map(out.D, function(i) { return { id: _.padLeft(i, 2, 0), text: i }; }),
	        M: _.map(out.M, function(i) { return { id: _.padLeft(i, 2, 0), text: i }; }),
	        MMMM: _.map(out.MMMM, function(i, k) { return { id: _.padLeft(k + 1, 2, 0), text: i }; }),
	
	        passportYears: _.map(_.range(moment().year(), moment().year() + 15), function(i) { return { id: ''+i, text: ''+i }; }),
	
	        birthYears: function(type) {
	            return _.map(_.range(moment().year(), 1899, -1), function(i) { return { id: ''+i, text: ''+i }; });
	        },
	
	        cardYears: _.map(_.range(moment().year(), moment().add(25, 'years').year()), function(i) { return { id: ''+i, text: ''+i }; }),
	        cardMonths: _.map(out.MMMM, function(i, k) { return { id: k + 1, text: _.padLeft(k+1, 2, '0') + ' ' + i }; })
	
	    };
	
	    return out;
	};

/***/ },
/* 95 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _ = __webpack_require__(30),
	    $ = __webpack_require__(33)
	    ;
	__webpack_require__(96);
	var Form = __webpack_require__(34),
	
	    h_money = __webpack_require__(69),
	    h_duration = __webpack_require__(81)(),
	    h_date = __webpack_require__(94)(),
	    accounting = __webpack_require__(70)
	    ;
	
	
	module.exports = Form.extend({
	    isolated: true,
	    template: __webpack_require__(97),
	
	    components: {
	        'ui-cc': __webpack_require__(98),
	        'ui-cvv': __webpack_require__(101),
	        'ui-expiry': __webpack_require__(102)
	    },
	    
	    data: function() {
	        return {
	            promocode:null,
	            promovalue:null,
	            promoerror:null,
	            accepted:true,
	            money: h_money,
	            duration: h_duration,
	            date: h_date,
	            banks: [
	                
	                {id: 'AXIB' , text: 'AXIS Bank' , logo: 'axis_bank'},// {id: 'AXIB' , text: 'AXIS Bank NetBanking' },
	                {id: '1045' , text: 'Bank of Baroda Corporate' , logo: 'bank_of_baroda'},
	                {id: '1046' , text: 'Bank of Baroda Retail' , logo: 'bank_of_baroda'},
	                {id: 'BOIB' , text: 'Bank of India' , logo: 'bank_of_india'},//Payu {id: 'BOIB' , text: 'Bank of India' }, Atom {id: '1012' , text: 'Bank of India' },
	                {id: 'BOMB', text: 'Bank of Maharashtra' , logo: 'bank_of_maharashtra'},//Payu {id: 'BOMB', text: 'Bank of Maharashtra'},
	                {id: '1030', text: 'Canara Bank NetBanking' , logo: 'canara_bank'},//{id: 'CABB', text: 'Canara Bank'},
	                {id: '1034', text: 'Canara Bank DebitCard' , logo: 'canara_bank'},
	                {id: 'CSBN', text: 'Catholic Syrian Bank' , logo: 'catholic_syrian_bank'},
	                {id: 'CBIB', text: 'Central Bank Of India' , logo: 'central_bank_of_india'},//{id: 'CBIB', text: 'Central Bank Of India'},
	                {id: '1020', text: 'City Union Bank' , logo: 'city_union_bank'},//{id: 'CUBB', text: 'CityUnion'},
	                /*{id: 'CITNB', text: 'Citi Bank NetBanking' , logo: 'citi_bank_netbanking'},*/
	                {id: 'CRPB', text: 'Corporation Bank' , logo: 'corporation_bank'},//{id: 'CRPB', text: 'Corporation Bank'},
	                {id: '1047', text: 'DBS Bank Ltd' , logo: 'dsb_bank'},
	                {id: '1042', text: 'DCB Bank Business' , logo: 'dcb_bank'},//{id: 'DCBB', text: 'Development Credit Bank'},
	                {id: '1027', text: 'DCB Bank Personal' , logo: 'dcb_bank'},
	                {id: 'DSHB', text: 'Deutsche Bank' , logo: 'deutsche_bank'},//{id: 'DSHB', text: 'Deutsche Bank'},
	                {id: 'DLSB', text: 'Dhanlaxmi Bank' , logo: 'dhanlakshmi_bank'},
	                {id: 'FEDB', text: 'Federal Bank' , logo: 'federal_bank'},//{id: 'FEDB', text: 'Federal Bank'},
	                {id: 'HDFB', text: 'HDFC Bank' , logo: 'hdfc_bank'},
	                {id: 'ICIB', text: 'ICICI Netbanking' , logo: 'icici_bank'},
	                {id: 'IDBB', text: 'IDBI Bank' , logo: 'idbi_bank'},//{id: 'IDBB', text: 'Industrial Development Bank of India'},
	                {id: 'INDB', text: 'Indian Bank ' , logo: 'indian_bank'},//{id: 'INDB', text: 'Indian Bank '},
	                {id: 'INIB', text: 'IndusInd Bank' , logo: 'indusind_bank'},//{id: 'INIB', text: 'IndusInd Bank'},
	                {id: 'INOB', text: 'Indian Overseas Bank' , logo: 'indian_overseas_bank'},//{id: 'INOB', text: 'Indian Overseas Bank'},
	                {id: 'JAKB', text: 'Jammu and Kashmir Bank' , logo: 'j_k_bank'},//{id: 'JAKB', text: 'Jammu and Kashmir Bank'},
	                {id: 'KRKB', text: 'Karnataka Bank' , logo: 'karnataka_bank'},//{id: 'KRKB', text: 'Karnataka Bank'},
	                {id: '1018', text: 'Karur Vysya ' , logo: 'karur_vysya'},//{id: 'KRVB', text: 'Karur Vysya '},
	                {id: '162B', text: 'Kotak Mahindra Bank' , logo: 'kotak_mahindra_bank'},//{id: '162B', text: 'Kotak Bank'}
	                {id: '1009', text: 'Lakshmi Vilas Bank NetBanking' , logo: 'lakshmi_vilas'},
	                {id: 'OBCB', text: 'Oriental Bank Of Commerce' , logo: 'obc'},
	                {id: 'PSBNB', text: 'Punjab And Sind Bank' , logo: 'punjab_sindh_bank'}, //{id: 'PSBNB', text: 'Punjab And Sind Bank'},
	                {id: 'PNBB', text: 'Punjab National Bank  Retail' , logo: 'pnb_retail'},
	                /*{id: '1050', text: 'Royal Bank Of Scotland' , logo: 'royal_bank_scotland'},*/
	                /*{id: '1053', text: 'SaraSwat Bank' , logo: 'saraswat_bank'},*/
	                {id: '1051', text: 'Standard Chartered Bank' , logo: 'standard_chartered'},
	                {id: 'SBBJB', text: 'State Bank of Bikaner and Jaipur' , logo: 'sbbj'},//{id: 'SBBJB', text: 'State Bank of Bikaner and Jaipur'},
	                {id: 'SBHB', text: 'State Bank of Hyderabad' , /*logo: 'sbhb'*/},//{id: 'SBHB', text: 'State Bank of Hyderabad'},
	                {id: 'SBIB', text: 'State Bank of India' , logo: 'sbib'},//{id: 'SBIB', text: 'State Bank of India'},
	                {id: 'SBMB', text: 'State Bank of Mysore' , /*logo: 'sbmb'*/},//{id: 'SBMB', text: 'State Bank of Mysore'},
	                {id: 'SBPB', text: 'State Bank of Patiala' , logo: 'sbpb'},//{id: 'SBPB', text: 'State Bank of Patiala'},
	                {id: 'SBTB', text: 'State Bank of Travancore' , /*logo: 'sbtb'*/},//{id: 'SBTB', text: 'State Bank of Travancore'},
	                {id: 'SOIB', text: 'South Indian Bank' , logo: 'south_indian_bank'},//{id: 'SOIB', text: 'South Indian Bank'},
	                {id: 'UBIB', text: 'Union Bank of India' , logo: 'union_bank_of_india'},
	                {id: 'UNIB', text: 'United Bank Of India' , logo: 'united_bank'},//{id: 'UNIB', text: 'United Bank Of India'},
	                {id: 'VJYB', text: 'Vijaya Bank' , logo: 'vijya_bank'},//{id: 'VJYB', text: 'Vijaya Bank'},
	                {id: 'YESB', text: 'Yes Bank' , logo: 'yes_bank'},//{id: 'YESB', text: 'Yes Bank'},
	                {id: 'TMBB', text: 'Tamilnad Mercantile Bank' , logo: 't_m_bank'},
	                {id: '1016', text: 'Union Bank' , logo: 'union_bank'},
	                //    {id: '2001', text: ' ATOM Test bank'},
	 
	            ],
	            wallets :[
	                {id: '1001', text: 'MobiKwik', logo: 'mobikwik_background'},
	                {id: '1002', text: 'Paytm', logo: 'paytm_background'},
	                {id: '1003', text: 'Idea Money', logo: 'ideamoney_background'},
	                {id: '1004', text: 'FreeCharge', logo: 'freecharge_background'},
	                {id: '1005', text: 'Oxigen', logo: 'oxigen_background'},
	                {id: '1006', text: 'SBI Buddy', logo: 'sbi_buddy_background'},
	                {id: '1007', text: 'The Mobile Wallet', logo: 'the_mobile_wallet'},
	                {id: '1008', text: 'jioMoney', logo: 'jiomoney_background'},
	                {id: '1009', text: 'Jana Cash', logo: 'janacach_background'},
	                {id: '1010', text: 'Ziggit by IDFC Bank', logo: 'ziggit_background'},
	                {id: '1011', text: 'ICash Card', logo: 'icash_background'}
	            ],
	            formatYear: function (year) {
	                return year.slice(-2);;
	            },
	            formatPayMoney:function(amount){
	                return accounting.formatMoney(amount, '<i class="inr icon currency"></i>', 0);
	            }
	        }
	       
	    },
	
	    onconfig: function() {
	        var view = this;
	 
	        
	        this.observe('booking.steps.3.active', function(active) {
	            if (active) {
	                view.CCAvenueEMI();
	                view.get('booking').setCurrentStepForMobile(3);
	                $.ajax({
	                    type: 'GET',
	                    url: '/b2c/booking/cards',
	                    data: { booking_id: this.get('booking.id') },
	                    success: function(data) {
	                        if (data.length) {
	                            view.set('cards', data);
	                            //view.setCard(data[data.length - 1]);
	                        } else {
	                            view.set('cards', null);
	                        }
	                    }
	                });
	                 view.set('promocode',view.get('booking.promo_code'));
	                 view.set('promovalue',view.get('booking.promo_value'));
	            }
	        });
	
	        this.observe('booking.payment.active', function() {
	            if (this.get('booking')) {
	                //view.clearForm();
	                this.get('booking').resetPayment();
	                this.set('booking.steps.3.errors', false);
	                if(this.get('booking.payment.active') === 6) {
	                    this.get('booking').pymtConvFee(7 , -1, null); // for UPI
	                }
	            }
	        }, {init: false});
	        
	      
	    },
	
	
	    submit: function() { 
	        //var booking = this.get('booking');
	        //console.log(booking);
	        //alert(this.get('booking.payment.netbanking.net_banking'));
	        //alert(this.get('booking.payment.netbanking.net_banking'));
	        
	//        var cardexpiry=$('#cc-exp').val();
	//        console.log(cardexpiry);
	//        if(cardexpiry !=null && cardexpiry !=''){
	//            cardarr=cardexpiry.split('/');
	//            booking.set('payment.cc.exp_month',trim(cardarr[0]));
	//            booking.set('payment.cc.exp_year',trim(cardarr[1]));
	//        }
	        if(this.get('booking.convfeeflag') === false) {
	            alert('Please wait and click again on Book Flight')
	            return;
	        }
	        this.get('booking').step3();
	    },
	    setCard: function(cc) {
	        var booking = this.get('booking');
	
	        if (booking.get('payment.cc.id') !== cc.id) {
	            booking.set('payment.cc', cc);
	        } else {
	            booking.set('payment.cc', {});
	        }
	
	    },
	
	    resetCC: function(event) {
	        var booking = this.get('booking'),
	            e = event.original,
	            el = $(e.srcElement),
	            id = booking.get('payment.cc.id'),
	            yup = 0 == el.parents('.ui.input.cvv').size() && (('INPUT' == el[0].tagName) || el.hasClass('dropdown') || el.parents('.ui.dropdown').size());
	
	        if (id && yup) {
	            booking.set('payment.cc', {});
	        }
	    },
	
	    back: function() {
	        this.get('booking').activate(2);
	    },
	
	    applyPromoCode:function(){
	         
	          var promocode=this.get('promocode');
	          this.set('promoerror',null);
	         
	        var view = this;
	                
	        var data = {id: this.get('booking.id'),promo:promocode};
	        $.ajax({
	            timeout: 10000,
	            type: 'POST',
	            url: '/b2c/booking/checkPromoCode',
	            data: data,
	            dataType: 'json',
	            complete: function () {
	
	            },
	            success: function (data) {
	                if(data.hasOwnProperty('error')){                    
	                    console.log(data.error);
	                    view.set('promoerror',data.error);
	                }else if(data.hasOwnProperty('value')){
	                    view.set('promovalue',data.value);
	                    view.set('booking.promo_value',data.value); 
	                    view.set('booking.promo_code',data.code); 
	                }
	            },
	            error: function (xhr) {
	            }
	        });
	         
	    },
	    removePromoCode:function(){
	     //   console.log('removePromoCode');
	        this.set('promoerror',null);
	        this.set('promocode',null);
	        this.set('promovalue',null); 
	        
	        var view = this;      
	        var data = {id: this.get('booking.id')};
	        $.ajax({
	            timeout: 10000,
	            type: 'POST',
	            url: '/b2c/booking/removePromoCode',
	            data: data,
	            dataType: 'json',
	            complete: function () {
	
	            },
	            success: function (data) {
	                view.set('booking.promo_value',null); 
	                view.set('booking.promo_code',null);               
	               
	            },
	            error: function (xhr) {
	            }
	        });
	    },
	    removeErrorMsg:function(){
	        this.set('promoerror',null);
	    },
	    checkExpiry:function(){
	         $.fn.toggleInputError = function(erred) {
	        this.parent('.form-group').toggleClass('has-error', erred);
	        return this;
	      };
	      $('.cc-exp').val();
	      $.payment.validateCardExpiry('05', '20'); //=> true
	         $('.cc-exp').toggleInputError(!$.payment.validateCardExpiry($('.cc-exp').payment('cardExpiryVal')));
	         $('.validation').removeClass('text-danger text-success');
	         $('.validation').addClass($('.has-error').length ? 'text-danger' : 'text-success');
	    },
	    CCAvenueEMI: function() {
	        
	        var view = this,
	        response,
	        jsonData,
	        value,
	        value1,
	        index,
	        index1,data1,data2,
	        plans_emi
	        ;
	        response = $.ajax({
	            type: 'POST',
	            data: { id: view.get('booking.id'), emi_flag: 'payment_emi' },
	            url: '/b2c/Booking/CCAvenueEMI',
	        });
	        response.done(function(data) {
	            if ( data != '') {
	                try{
	                    jsonData = JSON.parse(data);
	                } catch (e) {
	                    return false;
	                }
	                view.set('emiOptions', jsonData);
	                $.each(jsonData, function(index, value) {
	                    if(value.payOpt == 'OPTEMI') {
	                        view.set('emiPaymentReady', true);
	                        view.set('booking.payment.emi.payment_option', value.payOpt);
	                        view.set('emi_banks',JSON.parse(value.EmiBanks));
	                        plans_emi = JSON.parse(value.EmiPlans);
	                        $.each(plans_emi, function(index1, value1) {
	                            value1.emiAmount = value1.emiAmount.toFixed(2);
	                            value1.total = value1.total.toFixed(2);
	                        });
	                        view.set('emi_plans', plans_emi);
	                    }
	               });
	            }
	        });
	        response.error(function(data) {
	            view.set('emi_unavailable', data.responseJSON.message);
	        });
	    },
	    showEmiPlans: function() {
	    	var view = this;
	    	view.set('selectedPlan', $("#emi_banks").val());
	    	view.set('booking.payment.emi.planId', $("#emi_banks").val());
	    	view.set('showEmiPlans', true);
	    },
	    showCardFields: function() {
	    	var view = this;
	        $.each(view.get('emi_plans'), function(index, value) {
	            if(value.planId == view.get('booking.payment.emi.planId')) {
	                view.set('booking.payment.emi.emi_tenure_id', value.tenureId);
	                view.set('booking.payment.emi.currency', value.currency);
	            }
	        });
	        view.set('readyCardFields', true);
	    }
	});


/***/ },
/* 96 */
/***/ function(module, exports) {

	// Generated by CoffeeScript 1.7.1
	(function() {
	  var cardFromNumber, cardFromType, cards, defaultFormat, formatBackCardNumber, formatBackExpiry, formatCardNumber, formatExpiry, formatForwardExpiry, formatForwardSlashAndSpace, hasTextSelected, luhnCheck, reFormatCVC, reFormatCardNumber, reFormatExpiry, reFormatNumeric, restrictCVC, restrictCardNumber, restrictExpiry, restrictNumeric, setCardType,
	    __slice = [].slice,
	    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };
	
	  $.payment = {};
	
	  $.payment.fn = {};
	
	  $.fn.payment = function() {
	    var args, method;
	    method = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
	    return $.payment.fn[method].apply(this, args);
	  };
	
	  defaultFormat = /(\d{1,4})/g;
	
	  $.payment.cards = cards = [
	    {
	      type: 'visaelectron',
	      pattern: /^4(026|17500|405|508|844|91[37])/,
	      format: defaultFormat,
	      length: [16],
	      cvcLength: [3],
	      luhn: true
	    }, {
	      type: 'maestro',
	      pattern: /^(5(018|0[23]|[68])|6(39|7))/,
	      format: defaultFormat,
	      length: [12, 13, 14, 15, 16, 17, 18, 19],
	      cvcLength: [3],
	      luhn: true
	    }, {
	      type: 'forbrugsforeningen',
	      pattern: /^600/,
	      format: defaultFormat,
	      length: [16],
	      cvcLength: [3],
	      luhn: true
	    }, {
	      type: 'dankort',
	      pattern: /^5019/,
	      format: defaultFormat,
	      length: [16],
	      cvcLength: [3],
	      luhn: true
	    }, {
	      type: 'visa',
	      pattern: /^4/,
	      format: defaultFormat,
	      length: [13, 16],
	      cvcLength: [3],
	      luhn: true
	    }, {
	      type: 'mastercard',
	      pattern: /^(5[0-5]|2[2-7])/,
	      format: defaultFormat,
	      length: [16],
	      cvcLength: [3],
	      luhn: true
	    }, {
	      type: 'amex',
	      pattern: /^3[47]/,
	      format: /(\d{1,4})(\d{1,6})?(\d{1,5})?/,
	      length: [15],
	      cvcLength: [3, 4],
	      luhn: true
	    }, {
	      type: 'dinersclub',
	      pattern: /^3[0689]/,
	      format: /(\d{1,4})(\d{1,6})?(\d{1,4})?/,
	      length: [14],
	      cvcLength: [3],
	      luhn: true
	    }, {
	      type: 'discover',
	      pattern: /^6([045]|22)/,
	      format: defaultFormat,
	      length: [16],
	      cvcLength: [3],
	      luhn: true
	    }, {
	      type: 'unionpay',
	      pattern: /^(62|88)/,
	      format: defaultFormat,
	      length: [16, 17, 18, 19],
	      cvcLength: [3],
	      luhn: false
	    }, {
	      type: 'jcb',
	      pattern: /^35/,
	      format: defaultFormat,
	      length: [16],
	      cvcLength: [3],
	      luhn: true
	    }
	  ];
	
	  cardFromNumber = function(num) {
	    var card, _i, _len;
	    num = (num + '').replace(/\D/g, '');
	    for (_i = 0, _len = cards.length; _i < _len; _i++) {
	      card = cards[_i];
	      if (card.pattern.test(num)) {
	        return card;
	      }
	    }
	  };
	
	  cardFromType = function(type) {
	    var card, _i, _len;
	    for (_i = 0, _len = cards.length; _i < _len; _i++) {
	      card = cards[_i];
	      if (card.type === type) {
	        return card;
	      }
	    }
	  };
	
	  luhnCheck = function(num) {
	    var digit, digits, odd, sum, _i, _len;
	    odd = true;
	    sum = 0;
	    digits = (num + '').split('').reverse();
	    for (_i = 0, _len = digits.length; _i < _len; _i++) {
	      digit = digits[_i];
	      digit = parseInt(digit, 10);
	      if ((odd = !odd)) {
	        digit *= 2;
	      }
	      if (digit > 9) {
	        digit -= 9;
	      }
	      sum += digit;
	    }
	    return sum % 10 === 0;
	  };
	
	  hasTextSelected = function($target) {
	    var _ref;
	    if (($target.prop('selectionStart') != null) && $target.prop('selectionStart') !== $target.prop('selectionEnd')) {
	      return true;
	    }
	    if ((typeof document !== "undefined" && document !== null ? (_ref = document.selection) != null ? _ref.createRange : void 0 : void 0) != null) {
	      if (document.selection.createRange().text) {
	        return true;
	      }
	    }
	    return false;
	  };
	
	  reFormatNumeric = function(e) {
	    return setTimeout(function() {
	      var $target, value;
	      $target = $(e.currentTarget);
	      value = $target.val();
	      value = value.replace(/\D/g, '');
	      return $target.val(value);
	    });
	  };
	
	  reFormatCardNumber = function(e) {
	    return setTimeout(function() {
	      var $target, value;
	      $target = $(e.currentTarget);
	      value = $target.val();
	      value = $.payment.formatCardNumber(value);
	      return $target.val(value);
	    });
	  };
	
	  formatCardNumber = function(e) {
	    var $target, card, digit, length, re, upperLength, value;
	    digit = String.fromCharCode(e.which);
	    if (!/^\d+$/.test(digit)) {
	      return;
	    }
	    $target = $(e.currentTarget);
	    value = $target.val();
	    card = cardFromNumber(value + digit);
	    length = (value.replace(/\D/g, '') + digit).length;
	    upperLength = 16;
	    if (card) {
	      upperLength = card.length[card.length.length - 1];
	    }
	    if (length >= upperLength) {
	      return;
	    }
	    if (($target.prop('selectionStart') != null) && $target.prop('selectionStart') !== value.length) {
	      return;
	    }
	    if (card && card.type === 'amex') {
	      re = /^(\d{4}|\d{4}\s\d{6})$/;
	    } else {
	      re = /(?:^|\s)(\d{4})$/;
	    }
	    if (re.test(value)) {
	      e.preventDefault();
	      return setTimeout(function() {
	        return $target.val(value + ' ' + digit);
	      });
	    } else if (re.test(value + digit)) {
	      e.preventDefault();
	      return setTimeout(function() {
	        return $target.val(value + digit + ' ');
	      });
	    }
	  };
	
	  formatBackCardNumber = function(e) {
	    var $target, value;
	    $target = $(e.currentTarget);
	    value = $target.val();
	    if (e.which !== 8) {
	      return;
	    }
	    if (($target.prop('selectionStart') != null) && $target.prop('selectionStart') !== value.length) {
	      return;
	    }
	    if (/\d\s$/.test(value)) {
	      e.preventDefault();
	      return setTimeout(function() {
	        return $target.val(value.replace(/\d\s$/, ''));
	      });
	    } else if (/\s\d?$/.test(value)) {
	      e.preventDefault();
	      return setTimeout(function() {
	        return $target.val(value.replace(/\d$/, ''));
	      });
	    }
	  };
	
	  reFormatExpiry = function(e) {
	    return setTimeout(function() {
	      var $target, value;
	      $target = $(e.currentTarget);
	      value = $target.val();
	      value = $.payment.formatExpiry(value);
	      return $target.val(value);
	    });
	  };
	
	  formatExpiry = function(e) {
	    var $target, digit, val;
	    digit = String.fromCharCode(e.which);
	    if (!/^\d+$/.test(digit)) {
	      return;
	    }
	    $target = $(e.currentTarget);
	    val = $target.val() + digit;
	    if (/^\d$/.test(val) && (val !== '0' && val !== '1')) {
	      e.preventDefault();
	      return setTimeout(function() {
	        return $target.val("0" + val + " / ");
	      });
	    } else if (/^\d\d$/.test(val)) {
	      e.preventDefault();
	      return setTimeout(function() {
	        return $target.val("" + val + " / ");
	      });
	    }
	  };
	
	  formatForwardExpiry = function(e) {
	    var $target, digit, val;
	    digit = String.fromCharCode(e.which);
	    if (!/^\d+$/.test(digit)) {
	      return;
	    }
	    $target = $(e.currentTarget);
	    val = $target.val();
	    if (/^\d\d$/.test(val)) {
	      return $target.val("" + val + " / ");
	    }
	  };
	
	  formatForwardSlashAndSpace = function(e) {
	    var $target, val, which;
	    which = String.fromCharCode(e.which);
	    if (!(which === '/' || which === ' ')) {
	      return;
	    }
	    $target = $(e.currentTarget);
	    val = $target.val();
	    if (/^\d$/.test(val) && val !== '0') {
	      return $target.val("0" + val + " / ");
	    }
	  };
	
	  formatBackExpiry = function(e) {
	    var $target, value;
	    $target = $(e.currentTarget);
	    value = $target.val();
	    if (e.which !== 8) {
	      return;
	    }
	    if (($target.prop('selectionStart') != null) && $target.prop('selectionStart') !== value.length) {
	      return;
	    }
	    if (/\d\s\/\s$/.test(value)) {
	      e.preventDefault();
	      return setTimeout(function() {
	        return $target.val(value.replace(/\d\s\/\s$/, ''));
	      });
	    }
	  };
	
	  reFormatCVC = function(e) {
	    return setTimeout(function() {
	      var $target, value;
	      $target = $(e.currentTarget);
	      value = $target.val();
	      value = value.replace(/\D/g, '').slice(0, 4);
	      return $target.val(value);
	    });
	  };
	
	  restrictNumeric = function(e) {
	    var input;
	    if (e.metaKey || e.ctrlKey) {
	      return true;
	    }
	    if (e.which === 32) {
	      return false;
	    }
	    if (e.which === 0) {
	      return true;
	    }
	    if (e.which < 33) {
	      return true;
	    }
	    input = String.fromCharCode(e.which);
	    return !!/[\d\s]/.test(input);
	  };
	
	  restrictCardNumber = function(e) {
	    var $target, card, digit, value;
	    $target = $(e.currentTarget);
	    digit = String.fromCharCode(e.which);
	    if (!/^\d+$/.test(digit)) {
	      return;
	    }
	    if (hasTextSelected($target)) {
	      return;
	    }
	    value = ($target.val() + digit).replace(/\D/g, '');
	    card = cardFromNumber(value);
	    if (card) {
	      return value.length <= card.length[card.length.length - 1];
	    } else {
	      return value.length <= 16;
	    }
	  };
	
	  restrictExpiry = function(e) {
	    var $target, digit, value;
	    $target = $(e.currentTarget);
	    digit = String.fromCharCode(e.which);
	    if (!/^\d+$/.test(digit)) {
	      return;
	    }
	    if (hasTextSelected($target)) {
	      return;
	    }
	    value = $target.val() + digit;
	    value = value.replace(/\D/g, '');
	    if (value.length > 6) {
	      return false;
	    }
	  };
	
	  restrictCVC = function(e) {
	    var $target, digit, val;
	    $target = $(e.currentTarget);
	    digit = String.fromCharCode(e.which);
	    if (!/^\d+$/.test(digit)) {
	      return;
	    }
	    if (hasTextSelected($target)) {
	      return;
	    }
	    val = $target.val() + digit;
	    return val.length <= 4;
	  };
	
	  setCardType = function(e) {
	    var $target, allTypes, card, cardType, val;
	    $target = $(e.currentTarget);
	    val = $target.val();
	    cardType = $.payment.cardType(val) || 'unknown';
	    if (!$target.hasClass(cardType)) {
	      allTypes = (function() {
	        var _i, _len, _results;
	        _results = [];
	        for (_i = 0, _len = cards.length; _i < _len; _i++) {
	          card = cards[_i];
	          _results.push(card.type);
	        }
	        return _results;
	      })();
	      $target.removeClass('unknown');
	      $target.removeClass(allTypes.join(' '));
	      $target.addClass(cardType);
	      $target.toggleClass('identified', cardType !== 'unknown');
	      return $target.trigger('payment.cardType', cardType);
	    }
	  };
	
	  $.payment.fn.formatCardCVC = function() {
	    this.on('keypress', restrictNumeric);
	    this.on('keypress', restrictCVC);
	    this.on('paste', reFormatCVC);
	    this.on('change', reFormatCVC);
	    this.on('input', reFormatCVC);
	    return this;
	  };
	
	  $.payment.fn.formatCardExpiry = function() {
	    this.on('keypress', restrictNumeric);
	    this.on('keypress', restrictExpiry);
	    this.on('keypress', formatExpiry);
	    this.on('keypress', formatForwardSlashAndSpace);
	    this.on('keypress', formatForwardExpiry);
	    this.on('keydown', formatBackExpiry);
	    this.on('change', reFormatExpiry);
	    this.on('input', reFormatExpiry);
	    return this;
	  };
	
	  $.payment.fn.formatCardNumber = function() {
	    this.on('keypress', restrictNumeric);
	    this.on('keypress', restrictCardNumber);
	    this.on('keypress', formatCardNumber);
	    this.on('keydown', formatBackCardNumber);
	    this.on('keyup', setCardType);
	    this.on('paste', reFormatCardNumber);
	    this.on('change', reFormatCardNumber);
	    this.on('input', reFormatCardNumber);
	    this.on('input', setCardType);
	    return this;
	  };
	
	  $.payment.fn.restrictNumeric = function() {
	    this.on('keypress', restrictNumeric);
	    this.on('paste', reFormatNumeric);
	    this.on('change', reFormatNumeric);
	    this.on('input', reFormatNumeric);
	    return this;
	  };
	
	  $.payment.fn.cardExpiryVal = function() {
	    return $.payment.cardExpiryVal($(this).val());
	  };
	
	  $.payment.cardExpiryVal = function(value) {
	    var month, prefix, year, _ref;
	    value = value.replace(/\s/g, '');
	    _ref = value.split('/', 2), month = _ref[0], year = _ref[1];
	    if ((year != null ? year.length : void 0) === 2 && /^\d+$/.test(year)) {
	      prefix = (new Date).getFullYear();
	      prefix = prefix.toString().slice(0, 2);
	      year = prefix + year;
	    }
	    month = parseInt(month, 10);
	    year = parseInt(year, 10);
	    return {
	      month: month,
	      year: year
	    };
	  };
	
	  $.payment.validateCardNumber = function(num) {
	    var card, _ref;
	    num = (num + '').replace(/\s+|-/g, '');
	    if (!/^\d+$/.test(num)) {
	      return false;
	    }
	    card = cardFromNumber(num);
	    if (!card) {
	      return false;
	    }
	    return (_ref = num.length, __indexOf.call(card.length, _ref) >= 0) && (card.luhn === false || luhnCheck(num));
	  };
	
	  $.payment.validateCardExpiry = function(month, year) {
	    var currentTime, expiry, _ref;
	    if (typeof month === 'object' && 'month' in month) {
	      _ref = month, month = _ref.month, year = _ref.year;
	    }
	    if (!(month && year)) {
	      return false;
	    }
	    month = $.trim(month);
	    year = $.trim(year);
	    if (!/^\d+$/.test(month)) {
	      return false;
	    }
	    if (!/^\d+$/.test(year)) {
	      return false;
	    }
	    if (!((1 <= month && month <= 12))) {
	      return false;
	    }
	    if (year.length === 2) {
	      if (year < 70) {
	        year = "20" + year;
	      } else {
	        year = "19" + year;
	      }
	    }
	    if (year.length !== 4) {
	      return false;
	    }
	    expiry = new Date(year, month);
	    currentTime = new Date;
	    expiry.setMonth(expiry.getMonth() - 1);
	    expiry.setMonth(expiry.getMonth() + 1, 1);
	    return expiry > currentTime;
	  };
	
	  $.payment.validateCardCVC = function(cvc, type) {
	    var card, _ref;
	    cvc = $.trim(cvc);
	    if (!/^\d+$/.test(cvc)) {
	      return false;
	    }
	    card = cardFromType(type);
	    if (card != null) {
	      return _ref = cvc.length, __indexOf.call(card.cvcLength, _ref) >= 0;
	    } else {
	      return cvc.length >= 3 && cvc.length <= 4;
	    }
	  };
	
	  $.payment.cardType = function(num) {
	    var _ref;
	    if (!num) {
	      return null;
	    }
	    return ((_ref = cardFromNumber(num)) != null ? _ref.type : void 0) || null;
	  };
	
	  $.payment.formatCardNumber = function(num) {
	    var card, groups, upperLength, _ref;
	    num = num.replace(/\D/g, '');
	    card = cardFromNumber(num);
	    if (!card) {
	      return num;
	    }
	    upperLength = card.length[card.length.length - 1];
	    num = num.slice(0, upperLength);
	    if (card.format.global) {
	      return (_ref = num.match(card.format)) != null ? _ref.join(' ') : void 0;
	    } else {
	      groups = card.format.exec(num);
	      if (groups == null) {
	        return;
	      }
	      groups.shift();
	      groups = $.grep(groups, function(n) {
	        return n;
	      });
	      return groups.join(' ');
	    }
	  };
	
	  $.payment.formatExpiry = function(expiry) {
	    var mon, parts, sep, year;
	    parts = expiry.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/);
	    if (!parts) {
	      return '';
	    }
	    mon = parts[1] || '';
	    sep = parts[2] || '';
	    year = parts[3] || '';
	    if (year.length > 0) {
	      sep = ' / ';
	    } else if (sep === ' /') {
	      mon = mon.substring(0, 1);
	      sep = '';
	    } else if (mon.length === 2 || sep.length > 0) {
	      sep = ' / ';
	    } else if (mon.length === 1 && (mon !== '0' && mon !== '1')) {
	      mon = "0" + mon;
	      sep = ' / ';
	    }
	    return mon + sep + year;
	  };
	
	}).call(this);


/***/ },
/* 97 */
/***/ function(module, exports) {

	module.exports={"v":3,"t":[{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":["step header step3 ",{"t":4,"f":["active"],"n":50,"r":"step.active"}," ",{"t":4,"f":["completed"],"n":50,"r":"step.completed"}],"role":"tab"},"f":["Payment Details"]}," ",{"t":4,"f":[],"n":50,"x":{"r":["step.active","step.completed"],"s":"!_0&&_1"}},{"t":4,"n":51,"f":[{"t":4,"f":[{"t":7,"e":"form","a":{"action":"javascript:;","class":["ui form segment step3 ",{"t":4,"f":["error"],"n":50,"r":"step.errors"}," ",{"t":4,"f":[],"n":50,"r":"step.submitting"}]},"v":{"submit":{"m":"submit","a":{"r":[],"s":"[]"}}},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"payment_loader"},"f":[{"t":7,"e":"div","a":{"class":"ui active inverted dimmer"},"f":[{"t":7,"e":"div","a":{"class":"wait_text","style":"margin-top:90px !important;"},"f":["Please Wait"]}," ",{"t":7,"e":"div","a":{"class":"ui text loader loader_position"}}]}]}],"n":50,"r":"step.submitting"}," ",{"t":7,"e":"div","a":{"class":"ui basic segment"},"f":[{"t":7,"e":"div","a":{"class":"row one column"},"f":[{"t":7,"e":"div","a":{"class":"column"},"f":[{"t":7,"e":"span","a":{"class":"amtNotice"},"f":[{"t":4,"f":["A non-refundable Convenience Fee of ",{"t":4,"f":[{"t":3,"x":{"r":["money","booking.pcf_per_passenger","meta.display_currency"],"s":"_0(_1,_2)"}}," per passenger"],"n":50,"x":{"r":["booking.pcf_per_passenger"],"s":"_0>0"}},{"t":4,"n":51,"f":[{"t":3,"x":{"r":["money","booking.convenienceFee","meta.display_currency"],"s":"_0(_1,_2)"}}],"x":{"r":["booking.pcf_per_passenger"],"s":"_0>0"}}," is applicable on this booking."],"n":50,"x":{"r":["booking.convenienceFee"],"s":"_0>0"}},{"t":4,"n":51,"f":[""],"x":{"r":["booking.convenienceFee"],"s":"_0>0"}}]}]}]}," ",{"t":7,"e":"div","a":{"class":"pay_div_left"},"f":[{"t":7,"e":"div","a":{"class":"div_left_source"},"f":[{"t":7,"e":"ul","f":[{"t":7,"e":"li","m":[{"t":4,"f":["class=\"payment_highlight\""],"n":50,"x":{"r":["active"],"s":"1==_0"}}],"v":{"click":{"m":"set","a":{"r":[],"s":"[\"booking.payment.active\",1]"}}},"f":["CREDIT CARD"]}," ",{"t":7,"e":"li","m":[{"t":4,"f":["class=\"payment_highlight\""],"n":50,"x":{"r":["active"],"s":"2==_0"}}],"v":{"click":{"m":"set","a":{"r":[],"s":"[\"booking.payment.active\",2]"}}},"f":["DEBIT CARD"]}," ",{"t":7,"e":"li","m":[{"t":4,"f":["class=\"payment_highlight\""],"n":50,"x":{"r":["active"],"s":"3==_0"}}],"v":{"click":{"m":"set","a":{"r":[],"s":"[\"booking.payment.active\",3]"}}},"f":["NET BANKING"]}," ",{"t":7,"e":"li","m":[{"t":4,"f":["class=\"payment_highlight\""],"n":50,"x":{"r":["active"],"s":"4==_0"}}],"v":{"click":{"m":"set","a":{"r":[],"s":"[\"booking.payment.active\",4]"}}},"f":["WALLET"]}," ",{"t":4,"f":[{"t":7,"e":"li","m":[{"t":4,"f":["class=\"payment_highlight\""],"n":50,"x":{"r":["active"],"s":"5==_0"}}],"v":{"click":{"m":"set","a":{"r":[],"s":"[\"booking.payment.active\",5]"}}},"f":["EMI"]}],"n":50,"r":"emiPaymentReady"}," ",{"t":4,"f":[{"t":7,"e":"li","m":[{"t":4,"f":["class=\"payment_highlight\""],"n":50,"x":{"r":["active"],"s":"6==_0"}}],"v":{"click":{"m":"set","a":{"r":[],"s":"[\"booking.payment.active\",6]"}}},"f":["UPI"]}],"n":50,"r":"upiEnable"}]}]}]}," ",{"t":7,"e":"div","a":{"class":"pay_div_right"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"credit-card"},"f":[{"t":7,"e":"div","a":{"class":"ui two column grid"},"f":[{"t":7,"e":"div","a":{"class":"column ten wide"},"v":{"click":{"m":"resetCC","a":{"r":["event"],"s":"[_0]"}}},"f":[{"t":7,"e":"div","a":{"class":"number field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":[{"t":4,"f":["Credit"],"n":50,"x":{"r":["booking.payment.active"],"s":"1==_0"}},{"t":4,"n":51,"f":["Debit"],"x":{"r":["booking.payment.active"],"s":"1==_0"}}," Card Number ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-cc","a":{"disabled":[{"t":2,"r":"cc.id"}],"class":"card-number fluid","cardType":[{"t":2,"r":"active"}],"cctype":[{"t":2,"r":"cc.type"}],"value":[{"t":2,"r":"cc.number"}],"error":[{"t":2,"r":"step.errors.number"}]},"v":{"click":"reset-cc"}}]}," ",{"t":7,"e":"div","a":{"class":"three expiry fields"},"f":[{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Expiry Month ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-select","a":{"disabled":[{"t":2,"r":"cc.id"}],"class":"month","placeholder":"Month","options":[{"t":2,"r":"date.select.cardMonths"}],"value":[{"t":2,"r":"cc.exp_month"}],"error":[{"t":2,"r":"step.errors.exp_month"}]},"v":{"click":"reset-cc"}}]}," ",{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Expiry Year ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-select","a":{"disabled":[{"t":2,"r":"cc.id"}],"class":"year","placeholder":"Year","options":[{"t":2,"r":"date.select.cardYears"}],"value":[{"t":2,"r":"cc.exp_year"}],"error":[{"t":2,"r":"step.errors.exp_year"}]},"v":{"click":"reset-cc"}}]}," ",{"t":7,"e":"div","a":{"class":"field","style":"position: relative;"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["CVV No ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-cvv","a":{"class":"fluid cvv","cctype":[{"t":2,"r":"cc.type"}],"value":[{"t":2,"r":"cc.cvv"}],"error":[{"t":2,"r":"step.errors.cvv"}]},"v":{"click":"reset-cc"}}]}]}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"cvv-image"},"f":[{"t":4,"f":[{"t":7,"e":"div","f":["4 digit CVV Number"]}," ",{"t":7,"e":"div","a":{"class":"cvv4-img"},"f":[""]}],"n":50,"x":{"r":["cc.type"],"s":"\"amex\"==_0"}},{"t":4,"n":51,"f":[{"t":7,"e":"div","f":["3 digit CVV Number"]}," ",{"t":7,"e":"div","a":{"class":"cvv3-img"},"f":[""]}],"x":{"r":["cc.type"],"s":"\"amex\"==_0"}}]}],"n":50,"r":"cc.type"}," ",{"t":7,"e":"div","a":{"class":"number field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Card Holder's Name ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-input","a":{"disabled":[{"t":2,"r":"cc.id"}],"class":"fluid","value":[{"t":2,"r":"cc.name"}],"error":[{"t":2,"r":"step.errors.name"}]},"v":{"click":"reset-cc"}}]}," ",{"t":7,"e":"div","a":{"class":"store field"},"f":[{"t":7,"e":"label","f":[{"t":7,"e":"input","a":{"disabled":[{"t":2,"r":"cc.id"}],"type":"checkbox","checked":[{"t":2,"r":"cc.store"}]}}," Store card for future use."]}]}]}," ",{"t":7,"e":"div","a":{"class":"column six wide"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"ui segment field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Saved cards"]}," ",{"t":7,"e":"div","a":{"class":"ui list"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"item"},"f":[{"t":7,"e":"a","a":{"href":"javascript:;"},"v":{"click":{"m":"setCard","a":{"r":["."],"s":"[_0]"}}},"f":[{"t":2,"r":"number","s":true}]}]}],"n":52,"r":"cards"}]}]}],"n":50,"r":"cards"}]}]}]}],"n":50,"x":{"r":["active"],"s":"1==_0||2==_0"}},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["active"],"s":"_0==3"},"f":[{"t":7,"e":"div","a":{"class":"netbanking"},"f":[{"t":7,"e":"div","a":{"class":"Bank field step3netbanking"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Select Your Bank ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-select","a":{"class":"bank fluid","value":[{"t":2,"r":"netbanking.net_banking"}],"error":[{"t":2,"r":"step.errors.net_banking"}],"options":[{"t":2,"r":"banks"}]}}]}]}]},{"t":4,"n":50,"x":{"r":["active"],"s":"(!(_0==3))&&(_0==4)"},"f":[" ",{"t":7,"e":"div","a":{"class":"netbanking"},"f":[{"t":7,"e":"div","a":{"class":"mobi_content field step3wallet"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Select Your Wallet ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-select","a":{"class":"wallet fluid","value":[{"t":2,"r":"wallet.wallet_type"}],"error":[{"t":2,"r":"step.errors.wallet_type"}],"options":[{"t":2,"r":"wallets"}]},"f":[]}]}]}]},{"t":4,"n":50,"x":{"r":["active"],"s":"(!(_0==3))&&((!(_0==4))&&(_0==5))"},"f":[" ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"netbanking"},"f":[{"t":7,"e":"div","a":{"class":"mobi_content field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Pay Through: ",{"t":7,"e":"span","a":{"class":"required"},"f":["*",{"t":7,"e":"div","a":{"class":"emi_warning"},"f":["(Please note:EMI payment is applicable only for credit card.)"]}]}]}," ",{"t":7,"e":"select","a":{"name":"emi_banks","id":"emi_banks"},"v":{"change":{"m":"showEmiPlans","a":{"r":[],"s":"[]"}}},"f":[{"t":7,"e":"option","a":{"value":"","style":"display:none;"}}," ",{"t":4,"f":[{"t":7,"e":"option","a":{"value":[{"t":2,"r":".planId"}],"class":[{"t":2,"r":".BINs"}],"id":[{"t":2,"r":".subventionPaidBy"}],"data-value":[{"t":2,"r":".midProcesses"}]},"f":[{"t":2,"r":".gtwName"}]}],"r":"emi_banks"}]}]}," ",{"t":7,"e":"div","f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Select You Plan: ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"table","a":{"id":"planTable","border":"1","class":"emiTable"},"f":[{"t":7,"e":"tr","f":[{"t":7,"e":"th"}," ",{"t":7,"e":"th","f":["EMI Plans"]}," ",{"t":7,"e":"th","f":["Monthly Installments"]}," ",{"t":7,"e":"th","f":["Total Cost"]}]}," ",{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"tr","f":[{"t":7,"e":"td","f":[{"t":7,"e":"input","a":{"type":"radio","name":"emi_plan_radio","id":"emi_plan_radio","value":[{"t":2,"r":".tenureId"}],"class":"emi_plan_radio"},"v":{"click":{"m":"showCardFields","a":{"r":[],"s":"[]"}}}}]}," ",{"t":7,"e":"td","f":[{"t":2,"r":".tenureMonths"}," Months @ ",{"t":2,"r":".processingFeePercent"}," % p.a"]}," ",{"t":7,"e":"td","f":[{"t":2,"r":".currency"}," ",{"t":2,"r":".emiAmount"}]}," ",{"t":7,"e":"td","f":[{"t":2,"r":".currency"}," ",{"t":2,"r":".total"}]}]}],"n":50,"x":{"r":[".planId","selectedPlan"],"s":"_0==_1"}}],"r":"emi_plans"}]}],"n":50,"r":"showEmiPlans"}]}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"credit-card"},"f":[{"t":7,"e":"div","a":{"class":"number field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Credit Card Number ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-cc","a":{"disabled":[{"t":2,"r":"emi.id"}],"class":"card-number fluid","cardType":[{"t":2,"r":"active"}],"cctype":[{"t":2,"r":"emi.type"}],"value":[{"t":2,"r":"emi.card_number"}],"error":[{"t":2,"r":"step.errors.number"}]},"v":{"click":"reset-cc"}}]}," ",{"t":7,"e":"div","a":{"class":"store field"},"f":[{"t":7,"e":"label","f":[{"t":7,"e":"input","a":{"disabled":[{"t":2,"r":"emi.id"}],"type":"checkbox","checked":[{"t":2,"r":"emi.store"}]}}," Store card for future use."]}]}," ",{"t":7,"e":"div","a":{"class":"three expiry fields"},"f":[{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Expiry Month ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-select","a":{"disabled":[{"t":2,"r":"emi.id"}],"class":"month","placeholder":"Month","options":[{"t":2,"r":"date.select.cardMonths"}],"value":[{"t":2,"r":"emi.exp_month"}],"error":[{"t":2,"r":"step.errors.exp_month"}]},"v":{"click":"reset-cc"}}]}," ",{"t":7,"e":"div","a":{"class":"field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Expiry Year ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-select","a":{"disabled":[{"t":2,"r":"emi.id"}],"class":"year","placeholder":"Year","options":[{"t":2,"r":"date.select.cardYears"}],"value":[{"t":2,"r":"emi.exp_year"}],"error":[{"t":2,"r":"step.errors.exp_year"}]},"v":{"click":"reset-cc"}}]}," ",{"t":7,"e":"div","a":{"class":"field","style":"position: relative;"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["CVV No ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-cvv","a":{"class":"fluid cvv","cctype":[{"t":2,"r":"emi.card_type"}],"value":[{"t":2,"r":"emi.cvv"}],"error":[{"t":2,"r":"step.errors.cvv"}]},"v":{"click":"reset-cc"}}]}]}]}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"cvv-image"},"f":[{"t":4,"f":[{"t":7,"e":"div","f":["4 digit CVV Number"]}," ",{"t":7,"e":"div","a":{"class":"cvv4-img"},"f":[""]}],"n":50,"x":{"r":["emi.type"],"s":"\"amex\"==_0"}},{"t":4,"n":51,"f":[{"t":7,"e":"div","f":["3 digit CVV Number"]}," ",{"t":7,"e":"div","a":{"class":"cvv3-img"},"f":[""]}],"x":{"r":["emi.type"],"s":"\"amex\"==_0"}}]}],"n":50,"r":"emi.type"}," ",{"t":7,"e":"div","a":{"class":"number field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Card Holder's Name ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-input","a":{"disabled":[{"t":2,"r":"emi.id"}],"class":"fluid","value":[{"t":2,"r":"emi.name"}],"error":[{"t":2,"r":"step.errors.name"}]},"v":{"click":"reset-cc"}}]}," ",{"t":7,"e":"div","a":{"class":"mobi_content field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Issuing Bank: ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-input","a":{"value":[{"t":2,"r":"emi.issuing_bank"}],"placeholder":"Issuing Bank","id":"issuing_bank"}}]}],"n":50,"r":"readyCardFields"}]}],"n":50,"r":"emiPaymentReady"},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["emi_unavailable"],"s":"_0"},"f":[{"t":7,"e":"div","a":{"class":"ui small field negative message"},"f":[{"t":2,"r":"emi_unavailable"}]}]},{"t":4,"n":50,"x":{"r":["emi_unavailable"],"s":"!(_0)"},"f":[" ",{"t":7,"e":"div","a":{"class":"payment_loader"},"f":[{"t":7,"e":"div","a":{"class":"ui active inverted dimmer"},"f":[{"t":7,"e":"div","a":{"class":"wait_text"},"f":["Please Wait"]}," ",{"t":7,"e":"div","a":{"class":"ui text loader loader_position"}}]}]}]}],"r":"emiPaymentReady"}]},{"t":4,"n":50,"x":{"r":["active"],"s":"(!(_0==3))&&((!(_0==4))&&((!(_0==5))&&(_0==6)))"},"f":[" ",{"t":7,"e":"div","a":{"class":"mobi_content field"},"f":[{"t":7,"e":"div","a":{"class":"label"},"f":["Enter Your VPA ",{"t":7,"e":"span","a":{"class":"required"},"f":["*"]}]}," ",{"t":7,"e":"ui-input","a":{"value":[{"t":2,"r":"booking.payment.upi.virtual_address"}],"placeholder":"Enter Virtual Payment Address","id":"upi_cli_virtual_add"},"f":[]}]}]}],"x":{"r":["active"],"s":"1==_0||2==_0"}}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"ui error message"},"f":[{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"p","f":[{"t":2,"r":"."}]}],"n":50,"r":"."}],"n":52,"i":"i","r":"step.errors"}]}],"n":50,"r":"step.errors"}," ",{"t":7,"e":"div","a":{"class":"note"},"f":[{"t":7,"e":"span","f":["Please Note :"]}," The charge will appear on your credit card / Account statement as 'Airtickets India Pvt Ltd'"]}," ",{"t":7,"e":"div","a":{"class":"agreement field"},"f":[{"t":7,"e":"label","f":[{"t":7,"e":"input","a":{"type":"checkbox","checked":[{"t":2,"r":"accepted"}]}}," I have read and accepted the ",{"t":7,"e":"a","a":{"href":"/b2c/cms/termsofservices/2","target":"_blank"},"f":["Terms Of Service"]},"*"]}]}," ",{"t":7,"e":"div","a":{"class":"price"},"f":[{"t":7,"e":"div","a":{"class":"ui four column middle top aligned relaxed fitted grid","style":"position: relative"},"f":[{"t":7,"e":"div","a":{"class":"row"},"f":[{"t":7,"e":"div","a":{"class":"column four wide right aligned"},"f":[{"t":7,"e":"button","a":{"type":"submit","class":["book_flight ui wizard button massive ",{"t":4,"f":["green"],"n":50,"r":"accepted"},{"t":4,"n":51,"f":["red"],"r":"accepted"}]},"m":[{"t":4,"f":["disabled=\"disabled\""],"n":51,"r":"accepted"}],"f":["BOOK FLIGHT"]}," ",{"t":7,"e":"div","a":{"class":"loader_x"},"f":[{"t":7,"e":"div","a":{"class":"line_x"}}," ",{"t":7,"e":"div","a":{"class":"line_x"}}," ",{"t":7,"e":"div","a":{"class":"line_x"}}," ",{"t":7,"e":"div","a":{"class":"line_x"}}," ",{"t":7,"e":"div","a":{"class":"line_x"}}," ",{"t":7,"e":"div","a":{"class":"line_x"}}," ",{"t":7,"e":"div","a":{"class":"line_x"}}," ",{"t":7,"e":"div","a":{"class":"line_x"}}," ",{"t":7,"e":"div","a":{"class":"line_x"}}]}]}," ",{"t":7,"e":"div","a":{"class":"column two wide right aligned"},"f":[{"t":7,"e":"span","a":{"class":"amount"},"f":["TOTAL:"]}]}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"column five wide left aligned"},"f":[{"t":7,"e":"span","a":{"class":"amount"},"f":[{"t":3,"x":{"r":["money","booking.price","booking.convenienceFee","promovalue","meta.display_currency"],"s":"_0(_1+_2-_3,_4)"}}]}]}," ",{"t":7,"e":"div","a":{"class":"column five wide left aligned"},"f":[{"t":4,"f":[{"t":7,"e":"span","a":{"class":"amtNotice"},"f":["(",{"t":2,"r":"meta.display_currency"}," Price is indicative only. You will be charged equivalent in INR. ",{"t":3,"x":{"r":["formatPayMoney","booking.price","booking.convenienceFee","promovalue"],"s":"_0(_1+_2-_3)"}},")"]}],"n":50,"x":{"r":["booking.currency"],"s":"_0!=\"INR\""}},{"t":4,"n":51,"f":[{"t":7,"e":"span","a":{"class":"amtNotice"},"f":["(Payable Amount)"]}],"x":{"r":["booking.currency"],"s":"_0!=\"INR\""}}]}],"n":50,"x":{"r":["promovalue"],"s":"_0!=null"}},{"t":4,"n":51,"f":[{"t":7,"e":"div","a":{"class":"column five wide left aligned"},"f":[{"t":7,"e":"span","a":{"class":"amount"},"f":[{"t":3,"x":{"r":["money","booking.price","booking.convenienceFee","meta.display_currency"],"s":"_0(_1+_2,_3)"}}]}]}," ",{"t":7,"e":"div","a":{"class":"column five wide left aligned"},"f":[{"t":4,"f":[{"t":7,"e":"span","a":{"class":"amtNotice"},"f":["(",{"t":2,"r":"meta.display_currency"}," Price is indicative only. You will be charged equivalent in INR. ",{"t":3,"x":{"r":["formatPayMoney","booking.price","booking.convenienceFee"],"s":"_0(_1+_2)"}},")"]}],"n":50,"x":{"r":["booking.currency"],"s":"_0!=\"INR\""}},{"t":4,"n":51,"f":[{"t":7,"e":"span","a":{"class":"amtNotice"},"f":["(Payable Amount)"]}],"x":{"r":["booking.currency"],"s":"_0!=\"INR\""}}]}],"x":{"r":["promovalue"],"s":"_0!=null"}}]}]}]}," ",{"t":7,"e":"div","a":{"class":"pay_bottom"},"f":[{"t":7,"e":"img","a":{"src":"/themes/B2C/img/verified/vbv_250.gif"}}," ",{"t":7,"e":"img","a":{"src":"/themes/B2C/img/verified/mastercard_securecode.gif"}}," ",{"t":7,"e":"img","a":{"src":"/themes/B2C/img/verified/AMEX_SafeKey_180x99px.png"}}," ",{"t":7,"e":"img","a":{"src":"/themes/B2C/img/verified/pci-dss-compliant.jpg"}}," ",{"t":7,"e":"img","a":{"src":"/themes/B2C/img/verified/SSL-security-seal.png"}}]}]}]}]}],"n":50,"r":"step.active"}],"x":{"r":["step.active","step.completed"],"s":"!_0&&_1"}}],"n":51,"r":"step.completed"}],"x":{"r":["booking.steps.3","booking.payment.cc","booking.payment.netbanking","booking.payment.active","booking.payment.wallet","booking.payment.emi","booking.price"],"s":"{step:_0,cc:_1,netbanking:_2,active:_3,wallet:_4,emi:_5,upiEnable:(_6>=90000)?false:true}"}}]};

/***/ },
/* 98 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	__webpack_require__(99);
	
	var Input = __webpack_require__(37),
	    $ = __webpack_require__(33);
	
	module.exports = Input.extend({
	    template: __webpack_require__(100),
	
	    oncomplete: function() {
	        this._super();
	
	        $(this.find('input')).payment('formatCardNumber');
	
	        this.observe('value', function(value) {
	            this.set('cctype', $.payment.cardType(value));
	            var booking = this.parent.get('booking');
	            if(booking && typeof value !== 'undefined'){
	                var bin_digits = value.replace(' ','').slice(0,6);
	                if(value == '' || bin_digits.length < 6){
	                    booking.set('convenienceFee', 0);
	                    window.prevCCType = undefined;
	                    window.prevCardType = undefined;
	                } else if((this.get('cctype') != window.prevCCType || 
	                        this.get('cardType') != window.prevCardType) && 
	                        bin_digits.length >= 6) {
	                    var card_type = parseInt(this.get('cardType')) + 1;
	                        
	                        
	                    booking.pymtConvFee(card_type ,this.get('cctype'), bin_digits);
	
	                    window.prevCCType = this.get('cctype');
	                    window.prevCardType = this.get('cardType');
	                }
	            }
	            
	        }, {init: false});
	    },
	
	    onteadown: function() {
	        $(this.find('input')).payment('destroy');
	    }
	});

/***/ },
/* 99 */
/***/ function(module, exports) {

	// Generated by CoffeeScript 1.7.1
	(function() {
	    var cardFromNumber, cardFromType, cards, defaultFormat, formatBackCardNumber, formatBackExpiry, formatCardNumber, formatExpiry, formatForwardExpiry, formatForwardSlashAndSpace, hasTextSelected, luhnCheck, reFormatCVC, reFormatCardNumber, reFormatExpiry, reFormatNumeric, restrictCVC, restrictCardNumber, restrictExpiry, restrictNumeric, setCardType,
	        __slice = [].slice,
	        __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };
	
	    $.payment = {};
	
	    $.payment.fn = {};
	
	    $.fn.payment = function() {
	        var args, method;
	        method = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
	        return $.payment.fn[method].apply(this, args);
	    };
	
	    defaultFormat = /(\d{1,4})/g;
	
	    $.payment.cards = cards = [
	        {
	          type: 'rupay',
	          pattern:/^(508[5-9][0-9]{12})|(6069[8-9][0-9]{11})|(607[0-8][0-9]{12})|(6079[0-8][0-9]{11})|(608[0-5][0-9]{12})|(6521[5-9][0-9]{11})|(652[2-9][0-9]{12})|(6530[0-9]{12})|(6531[0-4][0-9]{11})/,
	          format: defaultFormat,
	          length: [16],
	          cvcLength: [3],
	          luhn: false
	        } ,        
	        {
	            type: 'visaelectron',
	            pattern: /^4(026|17500|405|508|844|91[37])/,
	            format: defaultFormat,
	            length: [16],
	            cvcLength: [3],
	            luhn: true
	        }, {
	            type: 'maestro',
	            pattern: /^(5(018|0[23]|[68])|6(39|7))/,
	            format: defaultFormat,
	            length: [12, 13, 14, 15, 16, 17, 18, 19],
	            cvcLength: [3],
	            luhn: true
	        }, {
	            type: 'forbrugsforeningen',
	            pattern: /^600/,
	            format: defaultFormat,
	            length: [16],
	            cvcLength: [3],
	            luhn: true
	        }, {
	            type: 'dankort',
	            pattern: /^5019/,
	            format: defaultFormat,
	            length: [16],
	            cvcLength: [3],
	            luhn: true
	        }, {
	            type: 'visa',
	            pattern: /^4/,
	            format: defaultFormat,
	            length: [13, 16],
	            cvcLength: [3],
	            luhn: true
	        }, {
	            type: 'mastercard',
	            pattern: /^5[0-5]/,
	            format: defaultFormat,
	            length: [16],
	            cvcLength: [3],
	            luhn: true
	        }, {
	            type: 'amex',
	            pattern: /^3[47]/,
	            format: /(\d{1,4})(\d{1,6})?(\d{1,5})?/,
	            length: [15],
	            cvcLength: [3, 4],
	            luhn: true
	        }, {
	            type: 'dinersclub',
	            pattern: /^3[0689]/,
	            format: defaultFormat,
	            length: [14],
	            cvcLength: [3],
	            luhn: true
	        }, {
	            type: 'discover',
	            pattern: /^6([045]|22)/,
	            format: defaultFormat,
	            length: [16],
	            cvcLength: [3],
	            luhn: true
	        }, {
	            type: 'unionpay',
	            pattern: /^(62|88)/,
	            format: defaultFormat,
	            length: [16, 17, 18, 19],
	            cvcLength: [3],
	            luhn: false
	        }, {
	            type: 'jcb',
	            pattern: /^35/,
	            format: defaultFormat,
	            length: [16],
	            cvcLength: [3],
	            luhn: true
	        }
	    ];
	
	    cardFromNumber = function(num) {
	        var card, _i, _len;
	        num = (num + '').replace(/\D/g, '');
	        for (_i = 0, _len = cards.length; _i < _len; _i++) {
	            
	            card = cards[_i];
	            if(card.type == 'rupay') {
	                var bin_digits = num.replace(' ','').slice(0,6);
	                if((bin_digits >= 508500 && bin_digits<=508999) ||
	                   (bin_digits >= 606985 && bin_digits<=607984) ||
	                   (bin_digits >= 608001 && bin_digits<=608500) ||
	                   (bin_digits >= 652150 && bin_digits<=653149)) {
	                    return card;
	                }
	            } else {
	                if (card.pattern.test(num)) {
	                    return card;
	                }
	            }
	        }
	    };
	
	    cardFromType = function(type) {
	        var card, _i, _len;
	        for (_i = 0, _len = cards.length; _i < _len; _i++) {
	            card = cards[_i];
	            if (card.type === type) {
	                return card;
	            }
	        }
	    };
	
	    luhnCheck = function(num) {
	        var digit, digits, odd, sum, _i, _len;
	        odd = true;
	        sum = 0;
	        digits = (num + '').split('').reverse();
	        for (_i = 0, _len = digits.length; _i < _len; _i++) {
	            digit = digits[_i];
	            digit = parseInt(digit, 10);
	            if ((odd = !odd)) {
	                digit *= 2;
	            }
	            if (digit > 9) {
	                digit -= 9;
	            }
	            sum += digit;
	        }
	        return sum % 10 === 0;
	    };
	
	    hasTextSelected = function($target) {
	        var _ref;
	        if (($target.prop('selectionStart') != null) && $target.prop('selectionStart') !== $target.prop('selectionEnd')) {
	            return true;
	        }
	        if ((typeof document !== "undefined" && document !== null ? (_ref = document.selection) != null ? _ref.createRange : void 0 : void 0) != null) {
	            if (document.selection.createRange().text) {
	                return true;
	            }
	        }
	        return false;
	    };
	
	    reFormatNumeric = function(e) {
	        return setTimeout(function() {
	            var $target, value;
	            $target = $(e.currentTarget);
	            value = $target.val();
	            value = value.replace(/\D/g, '');
	            return $target.val(value);
	        });
	    };
	
	    reFormatCardNumber = function(e) {
	        return setTimeout(function() {
	            var $target, value;
	            $target = $(e.currentTarget);
	            value = $target.val();
	            value = $.payment.formatCardNumber(value);
	            return $target.val(value);
	        });
	    };
	
	    formatCardNumber = function(e) {
	        var $target, card, digit, length, re, upperLength, value;
	        digit = String.fromCharCode(e.which);
	        if (!/^\d+$/.test(digit)) {
	            return;
	        }
	        $target = $(e.currentTarget);
	        value = $target.val();
	        card = cardFromNumber(value + digit);
	        length = (value.replace(/\D/g, '') + digit).length;
	        upperLength = 16;
	        if (card) {
	            upperLength = card.length[card.length.length - 1];
	        }
	        if (length >= upperLength) {
	            return;
	        }
	        if (($target.prop('selectionStart') != null) && $target.prop('selectionStart') !== value.length) {
	            return;
	        }
	        if (card && card.type === 'amex') {
	            re = /^(\d{4}|\d{4}\s\d{6})$/;
	        } else {
	            re = /(?:^|\s)(\d{4})$/;
	        }
	        if (re.test(value)) {
	            e.preventDefault();
	            return setTimeout(function() {
	                return $target.val(value + ' ' + digit);
	            });
	        } else if (re.test(value + digit)) {
	            e.preventDefault();
	            return setTimeout(function() {
	                return $target.val(value + digit + ' ');
	            });
	        }
	    };
	
	    formatBackCardNumber = function(e) {
	        var $target, value;
	        $target = $(e.currentTarget);
	        value = $target.val();
	        if (e.which !== 8) {
	            return;
	        }
	        if (($target.prop('selectionStart') != null) && $target.prop('selectionStart') !== value.length) {
	            return;
	        }
	        if (/\d\s$/.test(value)) {
	            e.preventDefault();
	            return setTimeout(function() {
	                return $target.val(value.replace(/\d\s$/, ''));
	            });
	        } else if (/\s\d?$/.test(value)) {
	            e.preventDefault();
	            return setTimeout(function() {
	                return $target.val(value.replace(/\d$/, ''));
	            });
	        }
	    };
	
	    reFormatExpiry = function(e) {
	        return setTimeout(function() {
	            var $target, value;
	            $target = $(e.currentTarget);
	            value = $target.val();
	            value = $.payment.formatExpiry(value);
	            return $target.val(value);
	        });
	    };
	
	    formatExpiry = function(e) {
	        var $target, digit, val;
	        digit = String.fromCharCode(e.which);
	        if (!/^\d+$/.test(digit)) {
	            return;
	        }
	        $target = $(e.currentTarget);
	        val = $target.val() + digit;
	        if (/^\d$/.test(val) && (val !== '0' && val !== '1')) {
	            e.preventDefault();
	            return setTimeout(function() {
	                return $target.val("0" + val + " / ");
	            });
	        } else if (/^\d\d$/.test(val)) {
	            e.preventDefault();
	            return setTimeout(function() {
	                return $target.val("" + val + " / ");
	            });
	        }
	    };
	
	    formatForwardExpiry = function(e) {
	        var $target, digit, val;
	        digit = String.fromCharCode(e.which);
	        if (!/^\d+$/.test(digit)) {
	            return;
	        }
	        $target = $(e.currentTarget);
	        val = $target.val();
	        if (/^\d\d$/.test(val)) {
	            return $target.val("" + val + " / ");
	        }
	    };
	
	    formatForwardSlashAndSpace = function(e) {
	        var $target, val, which;
	        which = String.fromCharCode(e.which);
	        if (!(which === '/' || which === ' ')) {
	            return;
	        }
	        $target = $(e.currentTarget);
	        val = $target.val();
	        if (/^\d$/.test(val) && val !== '0') {
	            return $target.val("0" + val + " / ");
	        }
	    };
	
	    formatBackExpiry = function(e) {
	        var $target, value;
	        $target = $(e.currentTarget);
	        value = $target.val();
	        if (e.which !== 8) {
	            return;
	        }
	        if (($target.prop('selectionStart') != null) && $target.prop('selectionStart') !== value.length) {
	            return;
	        }
	        if (/\d\s\/\s$/.test(value)) {
	            e.preventDefault();
	            return setTimeout(function() {
	                return $target.val(value.replace(/\d\s\/\s$/, ''));
	            });
	        }
	    };
	
	    reFormatCVC = function(e) {
	        return setTimeout(function() {
	            var $target, value;
	            $target = $(e.currentTarget);
	            value = $target.val();
	            value = value.replace(/\D/g, '').slice(0, 4);
	            return $target.val(value);
	        });
	    };
	
	    restrictNumeric = function(e) {
	        var input;
	        if (e.metaKey || e.ctrlKey) {
	            return true;
	        }
	        if (e.which === 32) {
	            return false;
	        }
	        if (e.which === 0) {
	            return true;
	        }
	        if (e.which < 33) {
	            return true;
	        }
	        input = String.fromCharCode(e.which);
	        return !!/[\d\s]/.test(input);
	    };
	
	    restrictCardNumber = function(e) {
	        var $target, card, digit, value;
	        $target = $(e.currentTarget);
	        digit = String.fromCharCode(e.which);
	        if (!/^\d+$/.test(digit)) {
	            return;
	        }
	        if (hasTextSelected($target)) {
	            return;
	        }
	        value = ($target.val() + digit).replace(/\D/g, '');
	        card = cardFromNumber(value);
	        if (card) {
	            return value.length <= card.length[card.length.length - 1];
	        } else {
	            return value.length <= 16;
	        }
	    };
	
	    restrictExpiry = function(e) {
	        var $target, digit, value;
	        $target = $(e.currentTarget);
	        digit = String.fromCharCode(e.which);
	        if (!/^\d+$/.test(digit)) {
	            return;
	        }
	        if (hasTextSelected($target)) {
	            return;
	        }
	        value = $target.val() + digit;
	        value = value.replace(/\D/g, '');
	        if (value.length > 6) {
	            return false;
	        }
	    };
	
	    restrictCVC = function(e) {
	        var $target, digit, val;
	        $target = $(e.currentTarget);
	        digit = String.fromCharCode(e.which);
	        if (!/^\d+$/.test(digit)) {
	            return;
	        }
	        if (hasTextSelected($target)) {
	            return;
	        }
	        val = $target.val() + digit;
	        return val.length <= 4;
	    };
	
	    setCardType = function(e) {
	        var $target, allTypes, card, cardType, val;
	        $target = $(e.currentTarget);
	        val = $target.val();
	        cardType = $.payment.cardType(val) || 'unknown';
	        if (!$target.hasClass(cardType)) {
	            allTypes = (function() {
	                var _i, _len, _results;
	                _results = [];
	                for (_i = 0, _len = cards.length; _i < _len; _i++) {
	                    card = cards[_i];
	                    _results.push(card.type);
	                }
	                return _results;
	            })();
	            $target.removeClass('unknown');
	            $target.removeClass(allTypes.join(' '));
	            $target.addClass(cardType);
	            $target.toggleClass('identified', cardType !== 'unknown');
	            return $target.trigger('payment.cardType', cardType);
	        }
	    };
	
	    $.payment.fn.formatCardCVC = function() {
	        this.on('keypress', restrictNumeric);
	        this.on('keypress', restrictCVC);
	        this.on('paste', reFormatCVC);
	        this.on('change', reFormatCVC);
	        this.on('input', reFormatCVC);
	        return this;
	    };
	
	    $.payment.fn.formatCardExpiry = function() {
	        this.on('keypress', restrictNumeric);
	        this.on('keypress', restrictExpiry);
	        this.on('keypress', formatExpiry);
	        this.on('keypress', formatForwardSlashAndSpace);
	        this.on('keypress', formatForwardExpiry);
	        this.on('keydown', formatBackExpiry);
	        this.on('change', reFormatExpiry);
	        this.on('input', reFormatExpiry);
	        return this;
	    };
	
	    $.payment.fn.formatCardNumber = function() {
	        this.on('keypress', restrictNumeric);
	        this.on('keypress', restrictCardNumber);
	        this.on('keypress', formatCardNumber);
	        this.on('keydown', formatBackCardNumber);
	        this.on('keyup', setCardType);
	        this.on('paste', reFormatCardNumber);
	        this.on('change', reFormatCardNumber);
	        this.on('input', reFormatCardNumber);
	        this.on('input', setCardType);
	        return this;
	    };
	
	    $.payment.fn.restrictNumeric = function() {
	        this.on('keypress', restrictNumeric);
	        this.on('paste', reFormatNumeric);
	        this.on('change', reFormatNumeric);
	        this.on('input', reFormatNumeric);
	        return this;
	    };
	
	    $.payment.fn.cardExpiryVal = function() {
	        return $.payment.cardExpiryVal($(this).val());
	    };
	
	    $.payment.cardExpiryVal = function(value) {
	        var month, prefix, year, _ref;
	        value = value.replace(/\s/g, '');
	        _ref = value.split('/', 2), month = _ref[0], year = _ref[1];
	        if ((year != null ? year.length : void 0) === 2 && /^\d+$/.test(year)) {
	            prefix = (new Date).getFullYear();
	            prefix = prefix.toString().slice(0, 2);
	            year = prefix + year;
	        }
	        month = parseInt(month, 10);
	        year = parseInt(year, 10);
	        return {
	            month: month,
	            year: year
	        };
	    };
	
	    $.payment.validateCardNumber = function(num) {
	        var card, _ref;
	        num = (num + '').replace(/\s+|-/g, '');
	        if (!/^\d+$/.test(num)) {
	            return false;
	        }
	        card = cardFromNumber(num);
	        if (!card) {
	            return false;
	        }
	        return (_ref = num.length, __indexOf.call(card.length, _ref) >= 0) && (card.luhn === false || luhnCheck(num));
	    };
	
	    $.payment.validateCardExpiry = function(month, year) {
	        var currentTime, expiry, _ref;
	        if (typeof month === 'object' && 'month' in month) {
	            _ref = month, month = _ref.month, year = _ref.year;
	        }
	        if (!(month && year)) {
	            return false;
	        }
	        month = $.trim(month);
	        year = $.trim(year);
	        if (!/^\d+$/.test(month)) {
	            return false;
	        }
	        if (!/^\d+$/.test(year)) {
	            return false;
	        }
	        if (!((1 <= month && month <= 12))) {
	            return false;
	        }
	        if (year.length === 2) {
	            if (year < 70) {
	                year = "20" + year;
	            } else {
	                year = "19" + year;
	            }
	        }
	        if (year.length !== 4) {
	            return false;
	        }
	        expiry = new Date(year, month);
	        currentTime = new Date;
	        expiry.setMonth(expiry.getMonth() - 1);
	        expiry.setMonth(expiry.getMonth() + 1, 1);
	        return expiry > currentTime;
	    };
	
	    $.payment.validateCardCVC = function(cvc, type) {
	        var card, _ref;
	        cvc = $.trim(cvc);
	        if (!/^\d+$/.test(cvc)) {
	            return false;
	        }
	        card = cardFromType(type);
	        if (card != null) {
	            return _ref = cvc.length, __indexOf.call(card.cvcLength, _ref) >= 0;
	        } else {
	            return cvc.length >= 3 && cvc.length <= 4;
	        }
	    };
	
	    $.payment.cardType = function(num) {
	        var _ref;
	        if (!num) {
	            return null;
	        }
	        return ((_ref = cardFromNumber(num)) != null ? _ref.type : void 0) || null;
	    };
	
	    $.payment.formatCardNumber = function(num) {
	        var card, groups, upperLength, _ref;
	        num = num.replace(/\D/g, '');
	        card = cardFromNumber(num);
	        if (!card) {
	            return num;
	        }
	        upperLength = card.length[card.length.length - 1];
	        num = num.slice(0, upperLength);
	        if (card.format.global) {
	            return (_ref = num.match(card.format)) != null ? _ref.join(' ') : void 0;
	        } else {
	            groups = card.format.exec(num);
	            if (groups == null) {
	                return;
	            }
	            groups.shift();
	            groups = $.grep(groups, function(n) {
	                return n;
	            });
	            return groups.join(' ');
	        }
	    };
	
	    $.payment.formatExpiry = function(expiry) {
	        var mon, parts, sep, year;
	        parts = expiry.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/);
	        if (!parts) {
	            return '';
	        }
	        mon = parts[1] || '';
	        sep = parts[2] || '';
	        year = parts[3] || '';
	        if (year.length > 0) {
	            sep = ' / ';
	        } else if (sep === ' /') {
	            mon = mon.substring(0, 1);
	            sep = '';
	        } else if (mon.length === 2 || sep.length > 0) {
	            sep = ' / ';
	        } else if (mon.length === 1 && (mon !== '0' && mon !== '1')) {
	            mon = "0" + mon;
	            sep = ' / ';
	        }
	        return mon + sep + year;
	    };
	
	}).call(this);


/***/ },
/* 100 */
/***/ function(module, exports) {

	module.exports={"v":3,"t":[{"t":7,"e":"div","a":{"class":["ui input ",{"t":2,"r":"class"}," ",{"t":4,"f":["error"],"n":50,"r":"error"}," ",{"t":2,"x":{"r":["classes","state","large","value"],"s":"_0(_1,_2,_3)"}}]},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"ui placeholder"},"f":[{"t":2,"r":"placeholder"}]}],"n":50,"r":"large"}," ",{"t":7,"e":"input","a":{"type":[{"t":4,"f":["text"],"n":50,"r":"disabled"},{"t":4,"n":51,"f":["tel"],"r":"disabled"}],"name":[{"t":2,"r":"name"}],"value":[{"t":2,"r":"value"}]},"m":[{"t":4,"f":["placeholder=\"",{"t":2,"r":"placeholder"},"\""],"n":51,"r":"large"},{"t":4,"f":["disabled"],"n":50,"r":"disabled"},{"t":4,"f":["disabled=\"disabled\""],"n":50,"x":{"r":["state.disabled","state.submitting"],"s":"_0||_1"}}]}," ",{"t":4,"f":[{"t":7,"e":"ul","a":{"class":"cardList clearFix fLeft"},"f":[{"t":7,"e":"li","a":{"class":["cardType ",{"t":2,"r":"cctype"}]},"f":[{"t":2,"r":"cctype"}]}]}],"n":50,"r":"cctype"},{"t":4,"n":51,"f":[{"t":7,"e":"ul","a":{"class":"cardList clearFix fLeft"},"f":[{"t":7,"e":"li","a":{"class":"cardType visa"},"f":["Visa"]}," ",{"t":7,"e":"li","a":{"class":"cardType master"},"f":["Mastercard"]}," ",{"t":4,"f":[{"t":7,"e":"li","a":{"class":"cardType rupay"},"f":["Rupay"]}],"n":50,"x":{"r":["cardType"],"s":"1!=_0&&5!=_0"}}," ",{"t":4,"f":[{"t":7,"e":"li","a":{"class":"cardType amex"},"f":["American Express"]}," ",{"t":7,"e":"li","a":{"class":"cardType diners"},"f":["Diners"]}],"n":50,"x":{"r":["cardType"],"s":"1==_0||5==_0"}}]}],"r":"cctype"}]}]};

/***/ },
/* 101 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	//require('jquery.payment');
	__webpack_require__(99);
	var Input = __webpack_require__(37),
	    $ = __webpack_require__(33);
	
	module.exports = Input.extend({
	    data: function() {
	        return {
	             type: 'tel'
	           // type: 'password'
	        };
	    },
	
	    oncomplete: function() {
	        this._super();
	        $(this.find('input')).payment('formatCardCVC');
	        
	    },
	
	    onteadown: function() {
	        $(this.find('input')).payment('destroy');
	    }
	});

/***/ },
/* 102 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	__webpack_require__(96);
	
	var Input = __webpack_require__(37),
	         _ = __webpack_require__(30),
	    $ = __webpack_require__(33);
	
	module.exports = Input.extend({
	    data: function() {
	        return {
	             type: 'tel'
	           // type: 'password'
	        };
	    },
	
	    oncomplete: function() {
	        this._super();
	        var view=this;
	        $(this.find('input')).payment('formatCardExpiry');
	        $(this.find('input')).keyup(function() {
	            var booking = view.get('booking');
	        
	        var cardexpiry=$(view.find('input')).val();
	     //   console.log(cardexpiry);
	        if(cardexpiry !=null && cardexpiry !=''){
	            cardexpiry.replace(/ /g,'');
	            var cardarr=cardexpiry.split('/');
	            if(cardarr[0]!= null){
	            booking.set('payment.cc.exp_month',_.parseInt(cardarr[0]));}
	        if(cardarr[1]!= null){
	            var len=cardarr[1].length;
	            var cardyear=_.parseInt(cardarr[1]);
	            if(cardyear<100){
	                cardyear=2000+cardyear;
	            }else if(cardyear<1000){
	                cardyear=2000+cardyear;
	            }
	        //    console.log(cardyear);
	            booking.set('payment.cc.exp_year',cardyear);}
	        }
	          });
	    },
	
	    onteadown: function() {
	        $(this.find('input')).payment('destroy');
	    }
	});

/***/ },
/* 103 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _ = __webpack_require__(30)
	    ;
	
	var Form = __webpack_require__(34),
	
	    h_money = __webpack_require__(69)(),
	    h_duration = __webpack_require__(81)(),
	    h_date = __webpack_require__(94)()
	    ;
	
	
	module.exports = Form.extend({
	    isolated: true,
	    template: __webpack_require__(104),
	    back: function() {
	        this.get('booking').activate(3);
	    },
	        
	   });

/***/ },
/* 104 */
/***/ function(module, exports) {

	module.exports={"v":3,"t":[{"t":4,"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"step header step4 active","role":"tab"},"f":["Booking"]}," ",{"t":7,"e":"form","a":{"action":"javascript:;","class":"ui form segment step4","style":"height: 400px; text-align: center;"},"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"booking-id"},"f":["Booking ID: ",{"t":2,"r":"booking.aircart_id"}]}," ",{"t":4,"f":[{"t":7,"e":"div","a":{"class":"message"},"f":["We have received your Payment and your Booking is in process, our customer support team will contact you shortly. Or Call our customer support team for more detail."]}," ",{"t":7,"e":"br"}," ",{"t":7,"e":"a","a":{"href":["/b2c/airCart/mybookings/",{"t":2,"r":"booking.aircart_id"}]},"f":["View your ticket"]}],"n":50,"x":{"r":["booking","booking.aircart_status"],"s":"_0.isNew(_1)"}},{"t":4,"n":51,"f":[{"t":4,"f":[{"t":7,"e":"div","a":{"class":"message"},"f":["Your Booking is Successful!"]}],"n":50,"x":{"r":["booking","booking.aircart_status"],"s":"_0.isBooked(_1)"}},{"t":4,"n":51,"f":[{"t":7,"e":"div","a":{"class":"message"},"f":["Your Booking is in process!"]}],"x":{"r":["booking","booking.aircart_status"],"s":"_0.isBooked(_1)"}}," ",{"t":7,"e":"br"}," ",{"t":7,"e":"a","a":{"href":["/b2c/airCart/mybookings/",{"t":2,"r":"booking.aircart_id"}]},"f":["View your ticket"]}],"x":{"r":["booking","booking.aircart_status"],"s":"_0.isNew(_1)"}}],"n":50,"r":"step.completed"},{"t":4,"n":51,"f":[{"t":7,"e":"div","a":{"class":"payment_loader"},"f":[{"t":7,"e":"div","a":{"class":"ui active inverted dimmer"},"f":[{"t":7,"e":"div","a":{"class":"wait_text","style":"margin-top:55px;"},"f":["Please Wait"]},{"t":7,"e":"br"}," ",{"t":7,"e":"div","a":{"style":"font-size:17px;"},"f":["Your booking is in progress."]},{"t":7,"e":"br"},{"t":7,"e":"br"}," ",{"t":7,"e":"div","a":{"class":"ui text loader loader_position"}}]}]}],"r":"step.completed"}]}],"n":50,"r":"step.active"}],"x":{"r":["booking.steps.4"],"s":"{step:_0}"}}]};

/***/ },
/* 105 */,
/* 106 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hcHAvd2ViL2Jvb2tpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vanMvY29tcG9uZW50cy9mbGlnaHRzL2Jvb2tpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vanMvc3RvcmVzL2ZsaWdodC9ib29raW5nLmpzIiwid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvZmxpZ2h0cy9ib29raW5nL2h0bWwyY2FudmFzLmpzIiwid2VicGFjazovLy8uL2pzL2NvcmUvdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zdG9yZXMvZmxpZ2h0L2luZGV4LmpzIiwid2VicGFjazovLy8uL2pzL3N0b3Jlcy9mbGlnaHQvc2VhcmNoLmpzIiwid2VicGFjazovLy8uL2pzL2FwcC9yb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vanMvc3RvcmVzL215cHJvZmlsZS9teXByb2ZpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vdmVuZG9yL3ZhbGlkYXRlL3ZhbGlkYXRlLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9hbWQtZGVmaW5lLmpzIiwid2VicGFjazovLy8uL2pzL3N0b3Jlcy9teWJvb2tpbmdzL215Ym9va2luZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vanMvc3RvcmVzL215dHJhdmVsbGVyL215dHJhdmVsbGVyLmpzIiwid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvZmxpZ2h0cy9ib29raW5nL2RpYWxvZy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9hcHAvd2ViL21vZHVsZS90ZW1wbGF0ZXMvZmxpZ2h0cy9ib29raW5nL2RpYWxvZy5odG1sIiwid2VicGFjazovLy8uL2pzL2hlbHBlcnMvbW9uZXkuanMiLCJ3ZWJwYWNrOi8vLy4vdmVuZG9yL2FjY291bnRpbmcuanMvYWNjb3VudGluZy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9hcHAvd2ViL21vZHVsZS90ZW1wbGF0ZXMvZmxpZ2h0cy9ib29raW5nL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vanMvY29tcG9uZW50cy9mbGlnaHRzL2Jvb2tpbmcvc3RlcDEuanMiLCJ3ZWJwYWNrOi8vLy4vanMvY29tcG9uZW50cy9hcHAvYXV0aC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9oZWxwZXJzL2R1cmF0aW9uLmpzIiwid2VicGFjazovLy8uL2pzL2FwcC93ZWIvbW9kdWxlL3RlbXBsYXRlcy9mbGlnaHRzL2Jvb2tpbmcvc3RlcDEuaHRtbCIsIndlYnBhY2s6Ly8vLi9qcy9jb21wb25lbnRzL2ZsaWdodHMvaXRpbmVyYXJ5LmpzIiwid2VicGFjazovLy8uL2pzL2FwcC93ZWIvbW9kdWxlL3RlbXBsYXRlcy9mbGlnaHRzL2l0aW5lcmFyeS5odG1sIiwid2VicGFjazovLy8uL2pzL2NvcmUvZm9ybS9jb2RlLmpzIiwid2VicGFjazovLy8uL2pzL2NvcmUvZm9ybS9lbWFpbC5qcyIsIndlYnBhY2s6Ly8vLi92ZW5kb3IvbWFpbGNoZWNrL3NyYy9tYWlsY2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vanMvY29tcG9uZW50cy9mbGlnaHRzL2Jvb2tpbmcvc3RlcDIuanMiLCJ3ZWJwYWNrOi8vLy4vanMvYXBwL3dlYi9tb2R1bGUvdGVtcGxhdGVzL2ZsaWdodHMvYm9va2luZy9zdGVwMi5odG1sIiwid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvcGFzc2VuZ2VyLmpzIiwid2VicGFjazovLy8uL2pzL2FwcC93ZWIvbW9kdWxlL3RlbXBsYXRlcy9wYXNzZW5nZXIuaHRtbCIsIndlYnBhY2s6Ly8vLi9qcy9jb3JlL2Zvcm0vbW9iaWxlc2VsZWN0LmpzIiwid2VicGFjazovLy8uL2pzL3RlbXBsYXRlcy9jb21wb25lbnRzL2Zvcm0vbW9iaWxlc2VsZWN0Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vanMvaGVscGVycy9kYXRlLmpzIiwid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvZmxpZ2h0cy9ib29raW5nL3N0ZXAzLmpzIiwid2VicGFjazovLy8uL3ZlbmRvci9qcXVlcnkucGF5bWVudC9saWIvanF1ZXJ5LnBheW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vanMvYXBwL3dlYi9tb2R1bGUvdGVtcGxhdGVzL2ZsaWdodHMvYm9va2luZy9zdGVwMy5odG1sIiwid2VicGFjazovLy8uL2pzL2NvcmUvZm9ybS9jYy9udW1iZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL2pzL2pxdWVyeS5wYXltZW50LmpzIiwid2VicGFjazovLy8uL2pzL3RlbXBsYXRlcy9jb21wb25lbnRzL2Zvcm0vY2MuaHRtbCIsIndlYnBhY2s6Ly8vLi9qcy9jb3JlL2Zvcm0vY2MvY3Z2LmpzIiwid2VicGFjazovLy8uL2pzL2NvcmUvZm9ybS9jYy9jYXJkZXhwaXJ5LmpzIiwid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvZmxpZ2h0cy9ib29raW5nL3N0ZXA0LmpzIiwid2VicGFjazovLy8uL2pzL2FwcC93ZWIvbW9kdWxlL3RlbXBsYXRlcy9mbGlnaHRzL2Jvb2tpbmcvc3RlcDQuaHRtbCIsIndlYnBhY2s6Ly8vLi9sZXNzL3dlYi9tb2R1bGVzL2Jvb2tpbmcubGVzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsRUFBQyxFOzs7Ozs7QUNURDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpRDtBQUNBLGNBQWE7QUFDYixNQUFLO0FBQ0w7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVM7O0FBRVQsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FB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O0FBRTlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFHO0FBQ0g7QUFDQTtBQUNBLElBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQSxhQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQSxnQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBcUQ7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQLE1BQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVc7QUFDWCxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXO0FBQ1gsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVc7QUFDWCxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXO0FBQ1g7QUFDQTs7QUFFQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUCxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUCxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0VBQXFFLHdCQUF3QiwwQkFBMEIsRUFBRTtBQUN6SCxxQ0FBb0Msd0JBQXdCLDBCQUEwQixFQUFFOztBQUV4Rjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUNBQWtDO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxJQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXdCLGdCQUFnQjs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBK0Q7QUFDL0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFvQjs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSx5Q0FBd0M7QUFDeEM7QUFDQSxzQ0FBcUM7QUFDckMsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBdUM7QUFDdkMsNENBQTJDLEdBQUcsTUFBTSxHQUFHO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFtRDtBQUNuRDtBQUNBLGlEQUFnRDtBQUNoRCxnQkFBZTtBQUNmO0FBQ0EsK0RBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGNBQWEsWUFBWTtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFnQixXQUFXO0FBQzNCLHNDQUFxQzs7QUFFckM7QUFDQTtBQUNBLGdEQUErQyxRQUFRLHdCQUF3QjtBQUMvRTtBQUNBLFVBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsOEJBQTZCLGtCQUFrQjtBQUMvQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLDhCQUE2QixrQkFBa0I7QUFDL0MsWUFBVztBQUNYLFVBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsUUFBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUErRCxVQUFVO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSxnREFBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTs7QUFFQTtBQUNBLEc7Ozs7OztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDhCQUE2QixPQUFPO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0dBQXFHLEVBQUU7QUFDdkc7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSTtBQUNKOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBRztBQUNIOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxJ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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1AsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQXlDLFdBQVc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVB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QUFDQTtBQUNBO0FBQ0EsMkNBQTBDLFdBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBdUIsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFO0FBQ3RDLFVBQVM7QUFDVCwrQkFBOEIsRUFBRTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWlELFdBQVc7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QU0sWUFBWSxxQkFBcUIsa0JBQWtCLDhLQUE4SyxNQUFNLGVBQWUsTUFBTSxtQkFBbUIsb0NBQW9DLCtCQUErQixFQUFFLDBCQUEwQixjQUFjLDZEQUE2RCxFQUFFLG1CQUFtQixZQUFZLHFCQUFxQixrQkFBa0IscUNBQXFDLGNBQWMsZ0VBQWdFLEVBQUUsbUJBQW1CLHFCQUFxQixrQkFBa0IscUNBQXFDLE9BQU8sZ0VBQWdFLE1BQU0sZUFBZSxNQUFNLG1CQUFtQixvQ0FBb0MsK0JBQStCLEVBQUUsMEJBQTBCLE9BQU8sNkRBQTZELDhCQUE4QixFQUFFLG1CQUFtQixxQkFBcUIseUJBQXlCLE9BQU8scUJBQXFCLG9DQUFvQyxPQUFPLHFCQUFxQiw2Q0FBNkMsRUFBRSxxQkFBcUIsRUFBRSxlQUFlLE1BQU0scUJBQXFCLHdCQUF3QixFQUFFLHNDQUFzQyxFQUFFLGVBQWUsRUFBRSxlQUFlLE1BQU0scUJBQXFCLDBDQUEwQyxFQUFFLEVBQUUsdUJBQXVCLEVBQUUsMkJBQTJCLE9BQU8sOEJBQThCLFFBQVEsR0FBRyxHOzs7Ozs7O0FDQTk2RCwwQyIsImZpbGUiOiJqcy9ib29raW5nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQm9va2luZyA9IHJlcXVpcmUoJ2NvbXBvbmVudHMvZmxpZ2h0cy9ib29raW5nJylcbiAgICA7XG5cbnJlcXVpcmUoJ3dlYi9tb2R1bGVzL2Jvb2tpbmcubGVzcycpO1xuXG4kKGZ1bmN0aW9uKCkge1xuICAgIChuZXcgQm9va2luZygpKS5yZW5kZXIoJyNhcHAnKTtcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvYXBwL3dlYi9ib29raW5nLmpzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBRID0gcmVxdWlyZSgncScpLFxuICAgIF8gPSByZXF1aXJlKCdsb2Rhc2gnKSxcbiAgICBwYWdlID0gcmVxdWlyZSgncGFnZS5qcycpLFxuICAgICQgPSByZXF1aXJlKCdqcXVlcnknKVxuICAgIDtcblxudmFyIEZvcm0gPSByZXF1aXJlKCdjb3JlL2Zvcm0nKSxcbiAgICBCb29raW5nID0gcmVxdWlyZSgnc3RvcmVzL2ZsaWdodC9ib29raW5nJyksXG4gICAgTWV0YSA9IHJlcXVpcmUoJ3N0b3Jlcy9mbGlnaHQvbWV0YScpXG4gICAgO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZvcm0uZXh0ZW5kKHtcbiAgICBpc29sYXRlZDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgndGVtcGxhdGVzL2ZsaWdodHMvYm9va2luZy9pbmRleC5odG1sJyksXG5cbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIGxheW91dDogcmVxdWlyZSgnY29tcG9uZW50cy9hcHAvbGF5b3V0JyksXG4gICAgICAgIHN0ZXAxOiByZXF1aXJlKCcuL3N0ZXAxJyksXG4gICAgICAgIHN0ZXAyOiByZXF1aXJlKCcuL3N0ZXAyJyksXG4gICAgICAgIHN0ZXAzOiByZXF1aXJlKCcuL3N0ZXAzJyksXG4gICAgICAgIHN0ZXA0OiByZXF1aXJlKCcuL3N0ZXA0JylcbiAgICB9LFxuXG4gICAgcGFydGlhbHM6IHtcbiAgICAgICAgJ2Jhc2UtcGFuZWwnOiByZXF1aXJlKCd0ZW1wbGF0ZXMvYXBwL2xheW91dC9wYW5lbC5odG1sJylcbiAgICB9LFxuXG4gICAgZGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRhOiBNZXRhLm9iamVjdFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uY29uZmlnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIEJvb2tpbmcuZmV0Y2godGhpcy5nZXQoJ2lkJykpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYm9va2luZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0KCdib29raW5nJywgYm9va2luZyk7IFxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuICAgIG9uY29tcGxldGU6ZnVuY3Rpb24oKXtcbiAgICAgICAgJCgnLnVpLmRyb3Bkb3duLmN1cnJlbmN5JykuaGlkZSgpO1xuICAgICAgIHRoaXMub2JzZXJ2ZSgnYm9va2luZy5jdXJyZW5jeScsIGZ1bmN0aW9uKGN1cikge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgY3VyPXRoaXMuZ2V0KCdib29raW5nLmN1cnJlbmN5Jyk7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhjdXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdib29raW5nLmN1cnJlbmN5JyxjdXIgKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnbWV0YS5kaXNwbGF5X2N1cnJlbmN5JyxjdXIgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgnbWV0YScpO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIHRoaXMuZ2V0KCdtZXRhJykpO1xuICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgICBcbiAgICB9LFxuICAgIG9udGVhcmRvd246IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnNob3dQYW5lbCgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGJhY2s6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIGZvcmNlID0gZm9yY2UgfHwgZmFsc2U7XG4gICAgICAgIGlmKE1PQklMRSAmJiB0aGlzLmdldCgnYm9va2luZycpICYmIHRoaXMuZ2V0KCdib29raW5nLmN1cnJlbnRzdGVwJykpe1xuICAgICAgICAgICAgdGhpcy5nZXQoJ2Jvb2tpbmcnKS5hY3RpdmF0ZShwYXJzZUludCh0aGlzLmdldCgnYm9va2luZy5jdXJyZW50c3RlcCcpKSAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVybCA9ICcvYjJjL2ZsaWdodHMnLFxuICAgICAgICAgICAgY3MgPSB0aGlzLmdldCgnYm9va2luZy5jbGllbnRTb3VyY2VJZCcpLFxuICAgICAgICAgICAgYnVybCA9IHRoaXMuZ2V0KCdib29raW5nLnNlYXJjaHVybCcpLFxuICAgICAgICAgICAgcGFyYW1zID0gW107XG4gICAgICAgIFxuICAgICAgICBpZihidXJsKSB7XG4gICAgICAgICAgICB1cmwgPSB1cmwgKyBidXJsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjcyAmJiBjcyA+IDEpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKCdjcz0nICsgY3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvcmNlKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaCgnZm9yY2U9MScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHVybCArPSAnPycgKyBwYXJhbXMuam9pbignJicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFnZSh1cmwpO1xuICAgIH0sXG5cbiAgICBiYWNrMjogZnVuY3Rpb24oKSB7IHRoaXMuYmFjayh0cnVlKTsgfSxcbiAgICBzZXRDdXJyZW5jeUJvb2tpbmc6IGZ1bmN0aW9uKCkgeyBcbiAgICAgICAgXG4gICAgICAgIHZhciBjb2RlPSQoJyNjdXJyZW5jeTEnKS52YWwoKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhjb2RlKTtcbiAgICAgICAgdGhpcy5zZXQoJ2Jvb2tpbmcuY3VycmVuY3knLCBjb2RlKTtcbiAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmdldCgnYm9va2luZy5jdXJyZW5jeScpKTtcbiAgICAgICAgdGhpcy51cGRhdGUoJ2Jvb2tpbmcuY3VycmVuY3knKTtcbiAgICAgICAgfSxcbiAgICBtb2JpbGVCYWNrOiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICBmb3JjZSA9IGZvcmNlIHx8IGZhbHNlO1xuXG4gICAgICAgIHZhciB1cmwgPSAnL2IyYy9mbGlnaHRzJyxcbiAgICAgICAgICAgIGNzID0gdGhpcy5nZXQoJ2Jvb2tpbmcuY2xpZW50U291cmNlSWQnKSxcbiAgICAgICAgICAgIGJ1cmwgPSB0aGlzLmdldCgnYm9va2luZy5zZWFyY2h1cmwnKSxcbiAgICAgICAgICAgIHBhcmFtcyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgaWYoYnVybCkge1xuICAgICAgICAgICAgdXJsID0gdXJsICsgYnVybDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3MgJiYgY3MgPiAxKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaCgnY3M9JyArIGNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3JjZSkge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goJ2ZvcmNlPTEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB1cmwgKz0gJz8nICsgcGFyYW1zLmpvaW4oJyYnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2UodXJsKTtcbiAgICB9XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbXBvbmVudHMvZmxpZ2h0cy9ib29raW5nL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSIsIid1c2Ugc3RyaWN0JztcblxudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKSxcbiAgICAgICAgUSA9IHJlcXVpcmUoJ3EnKSxcbiAgICAgICAgJCA9IHJlcXVpcmUoJ2pxdWVyeScpLFxuICAgICAgICBwYWdlID0gcmVxdWlyZSgncGFnZScpLFxuICAgICAgICBzY3JlZW5TaG90ID0gcmVxdWlyZSgnY29tcG9uZW50cy9mbGlnaHRzL2Jvb2tpbmcvaHRtbDJjYW52YXMnKVxuICAgICAgICA7XG5cbnZhciBWaWV3ID0gcmVxdWlyZSgnY29yZS92aWV3JyksXG4gICAgICAgIEZsaWdodCA9IHJlcXVpcmUoJ3N0b3Jlcy9mbGlnaHQnKSxcbiAgICAgICAgRGlhbG9nID0gcmVxdWlyZSgnY29tcG9uZW50cy9mbGlnaHRzL2Jvb2tpbmcvZGlhbG9nJyksXG4gICAgICAgIE1ldGEgPSByZXF1aXJlKCdzdG9yZXMvZmxpZ2h0L21ldGEnKVxuICAgICAgICA7XG5cbnZhciBtb25leSA9IHJlcXVpcmUoJ2hlbHBlcnMvbW9uZXknKTtcblxuXG52YXIgc3RlcCA9IHtcbiAgICBzdWJtaXQ6IGZ1bmN0aW9uICh2aWV3LCBpKSB7XG4gICAgICAgIHZpZXcuc2V0KCdzdGVwcy4nICsgaSArICcuc3VibWl0dGluZycsIHRydWUpO1xuICAgICAgICB2aWV3LnNldCgnc3RlcHMuJyArIGkgKyAnLmVycm9ycycsIHt9KTtcbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAodmlldywgaSkge1xuICAgICAgICB2aWV3LnNldCgnc3RlcHMuJyArIGkgKyAnLnN1Ym1pdHRpbmcnLCBmYWxzZSk7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKHZpZXcsIGksIHhocikge1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuXG4gICAgICAgICAgICBpZiAoMyA9PSByZXNwb25zZS5jb2RlKSB7XG4gICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Vycm9yJywgcmVzcG9uc2UubWVzc2FnZSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICg0ID09IHJlc3BvbnNlLmNvZGUpIHtcbiAgICAgICAgICAgICAgICBEaWFsb2cub3Blbih7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcjogJ1BheW1lbnQgRmFpbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydUcnkgQWdhaW4nLCBmdW5jdGlvbiAoKSB7IH1dXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LCAxKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKDUgPT0gcmVzcG9uc2UuY29kZSkge1xuICAgICAgICAgICAgICAgIERpYWxvZy5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiAnUHJpY2UgQ2hhbmdlIEFsZXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXJcIj5Tb3JyeSEgVGhlIHByaWNlIGZvciB5b3VyIGJvb2tpbmcgaGFzIGluY3JlYXNlZCBieSA8YnI+JyArIG1vbmV5KHJlc3BvbnNlLmVycm9ycy5wcmljZURpZmYsIG1ldGEuZ2V0KCdkaXNwbGF5X2N1cnJlbmN5JykgKyAnPC9kaXY+JyksXG4gICAgICAgICAgICAgICAgICAgIC8vIG1lc3NhZ2U6ICc8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyXCI+U29ycnkhIFRoZSBwcmljZSBmb3IgeW91ciBib29raW5nIGhhcyBpbmNyZWFzZWQgITxicj4gTmV3IHByaWNlIGlzICcgKyBtb25leShyZXNwb25zZS5lcnJvcnMucHJpY2UsIG1ldGEuZ2V0KCdkaXNwbGF5X2N1cnJlbmN5JykgKyAnPC9kaXY+JyksXG5cbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydCYWNrIHRvIFNlYXJjaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2IyYy9mbGlnaHRzJyArIHZpZXcuZ2V0KCdzZWFyY2h1cmwnKSArICc/Zm9yY2U9MSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ0NvbnRpbnVlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYjJjL2Jvb2tpbmcvJyArIHZpZXcuZ2V0KCdpZCcpICsgJz9fPScgKyBfLm5vdygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VCdXR0b246IGZhbHNlXG4gICAgICAgICAgICAgICAgfSwgMik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgICB2aWV3LnNldCgnc3RlcHMuJyArIGkgKyAnLmVycm9ycycsIHJlc3BvbnNlLmVycm9ycyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdzdGVwcy4nICsgaSArICcuZXJyb3JzJywgW3Jlc3BvbnNlLm1lc3NhZ2VdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB2aWV3LnNldCgnc3RlcHMuJyArIGkgKyAnLmVycm9ycycsIFsnU2VydmVyIHJldHVybmVkIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyJ10pO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGRvUGF5ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZm9ybTtcbiAgICBmb3JtID0gJCgnPGZvcm0gLz4nLCB7XG4gICAgICAgIGlkOiAndG1wRm9ybScsXG4gICAgICAgIGFjdGlvbjogZGF0YS51cmwsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBzdHlsZTogJ2Rpc3BsYXk6IG5vbmU7J1xuICAgIH0pO1xuICAgIHZhciBpbnB1dCA9IGRhdGEuZGF0YTtcblxuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICd1bmRlZmluZWQnICYmIGlucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICQuZWFjaChpbnB1dCwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAkKCc8aW5wdXQgLz4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KS5hcHBlbmRUbyhmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9ybS5hcHBlbmRUbygnYm9keScpLnN1Ym1pdCgpO1xufTtcblxudmFyIGNoZWNrVXBpU3RhdHVzID0gZnVuY3Rpb24gKGRhdGEsIHZpZXcpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBkYXRhLmRhdGE7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAnU1VDQ0VTUycgJiYgcmVzcG9uc2Uub3JkZXJJZCkge1xuICAgICAgICB2YXIgdGltZXIgPSAwO1xuICAgICAgICB2YXIgdGltZXJJRCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aW1lciA9PSAoNjAgKiAxMDAwICogMTEpKSB7XG4gICAgICAgICAgICAgICAgc3RlcC5jb21wbGV0ZSh2aWV3LCAzKTtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySUQpO1xuICAgICAgICAgICAgICAgICQoJyNtZXNzYWdlJykuaHRtbCgnVHJhbnNhY3Rpb24gdGltZWQgb3V0LlBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIC8vdGltZW91dDogNjAwMDAsXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogJy9iMmMvYm9va2luZy9oZGZjVVBJJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7J29yZGVySWQnOiByZXNwb25zZS5vcmRlcklkfSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgIT0gJ1BFTkRJTkcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3BheUdhdGUvdXBpVmlldy9vcmRlcklkLycgKyByZXNwb25zZS5kYXRhLm9yZGVySWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gXG5cbiAgICAgICAgICAgICAgICAgICAgdGltZXIgKz0gMTAwMDA7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySUQpO1xuICAgICAgICAgICAgICAgICAgICBzdGVwLmNvbXBsZXRlKHZpZXcsIDMpO1xuICAgICAgICAgICAgICAgICAgICBzdGVwLmVycm9yKHZpZXcsIDMsIHhocik7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sIDEwMDAwKTtcbiAgICB9XG59O1xuXG52YXIgdXBpUGF5bWVudFJlc3BvbnNlID0gZnVuY3Rpb24gKGRhdGEsIHZpZXcpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBkYXRhLmRhdGE7XG5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09ICdGQUlMRUQnKSB7XG4gICAgICAgIHN0ZXAuY29tcGxldGUodmlldywgMyk7XG4gICAgICAgIERpYWxvZy5vcGVuKHtcbiAgICAgICAgICAgIGhlYWRlcjogJ1RyYW5zYWN0aW9uIEFsZXJ0JyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyXCI+JyArIHJlc3BvbnNlLm1lc3NhZ2UgKyAnPC9kaXY+JyxcblxuICAgICAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgICAgICAgIFsnQmFjayB0byBTZWFyY2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYjJjL2ZsaWdodHMnICsgdmlldy5nZXQoJ3NlYXJjaHVybCcpICsgJz9mb3JjZT0xJztcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbjogZmFsc2VcbiAgICAgICAgfSwgMik7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09ICdTVUNDRVNTJykge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiPGRpdiBzdHlsZT0nZm9udC1zaXplOjE2cHg7Jz5XZSBoYXZlIHNlbnQgcGF5bWVudCBub3RpZmljYXRpb24gdG8geW91ciBtb2JpbGUgZGV2aWNlLjxici8+UGxlYXNlIGNvbXBsZXRlIHRoZSB0cmFuc2FjdGlvbiB1c2luZyB5b3VyIG1vYmlsZS48L2Rpdj5cIjtcbiAgICAgICAgJCgnLndhaXRfdGV4dCcpLmh0bWwobWVzc2FnZSk7XG4gICAgICAgIGNoZWNrVXBpU3RhdHVzKGRhdGEsIHZpZXcpO1xuICAgIH1cbn07XG52YXIgbWV0YSA9IG51bGw7XG52YXIgQm9va2luZyA9IFZpZXcuZXh0ZW5kKHtcbiAgICBjYW52YXM6IG51bGwsXG4gICAgZGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNCb29rZWQ6IGZ1bmN0aW9uIChicykge1xuICAgICAgICAgICAgICAgIHJldHVybiBicyA9PSA4IHx8IGJzID09IDkgfHwgYnMgPT0gMTAgfHwgYnMgPT0gMTE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5Qcm9jZXNzOiBmdW5jdGlvbiAoYnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShicyA9PSA4IHx8IGJzID09IDkgfHwgYnMgPT0gMTAgfHwgYnMgPT0gMTEpICYmICEoYnMgPT0gMSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNOZXc6IGZ1bmN0aW9uIChicykge1xuICAgICAgICAgICAgICAgIHJldHVybiAxID09IGJzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgcHJpY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfLnJlZHVjZSh0aGlzLmdldCgnZmxpZ2h0cycpLCBmdW5jdGlvbiAocmVzdWx0LCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCArIGkuZ2V0KCdwcmljZScpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uY29uZmlnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdldCgnc3RlcHMuNC5hY3RpdmUnKSAmJiAhdGhpcy5nZXQoJ2Jvb2tpbmcuYWlyY2FydF9pZCcpKSB7XG4gICAgICAgICAgICB0aGlzLnN0ZXA0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5nZXQoJ3BheW1lbnQuZXJyb3InKSkge1xuICAgICAgICAgICAgRGlhbG9nLm9wZW4oe1xuICAgICAgICAgICAgICAgIGhlYWRlcjogJ1BheW1lbnQgRmFpbGVkJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLmdldCgncGF5bWVudC5lcnJvcicpLFxuICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgWydUcnkgQWdhaW4nLCBmdW5jdGlvbiAoKSB7IH1dXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBNZXRhLmluc3RhbmNlKCkudGhlbihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgbWV0YSA9IGk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYWN0aXZhdGU6IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHRoaXMuc2V0KCdzdGVwcy4qLmFjdGl2ZScsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXQoJ3N0ZXBzLicgKyBpICsgJy5hY3RpdmUnLCB0cnVlKTtcblxuICAgICAgICB0aGlzLnJlc2V0UGF5bWVudCgpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGVwcy4nICsgaSArICcuYWN0aXZlJyk7XG4gICAgfSxcbiAgICByZXNldFBheW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXQoJ2NvbnZmZWVmbGFnJywgZmFsc2UpO1xuICAgICAgICB0aGlzLnNldCgncGF5bWVudC5jYycsIHt9KTtcbiAgICAgICAgdGhpcy5zZXQoJ3BheW1lbnQubmV0YmFua2luZycsIHt9KTtcbiAgICAgICAgdGhpcy5zZXQoJ3BheW1lbnQud2FsbGV0Jywge30pO1xuICAgICAgICB0aGlzLnNldCgnY29udmVuaWVuY2VGZWUnLCAwKTtcbiAgICAgICAgd2luZG93LnByZXZDQ1R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHdpbmRvdy5wcmV2Q2FyZFR5cGUgPSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBjYXB0dXJlU2NyZWVuU2hvdDogZnVuY3Rpb24gKHZpZXcsIGksIGNhbGxiYWNrKSB7XG4gICAgICAgIGh0bWwyY2FudmFzKCQoJ2JvZHknKSwge1xuICAgICAgICAgICAgb25yZW5kZXJlZDogZnVuY3Rpb24gKF9jYW52YXMpIHtcbiAgICAgICAgICAgICAgICB2aWV3LmNhbnZhcyA9IF9jYW52YXM7XG4gICAgICAgICAgICAgICAgc3RlcC5zdWJtaXQodmlldywgaSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRDYXB0dXJlZEltYWdlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YVVSTCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGF0YVVSTCA9IHRoaXMuY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YVVSTDtcbiAgICB9LFxuICAgIHN0ZXAxOiBmdW5jdGlvbiAoc3RlcHZpZXcpIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGRlZmVycmVkID0gUS5kZWZlcigpO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiA2MDAwMCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYy9ib29raW5nL3N0ZXAxJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7aWQ6IHZpZXcuZ2V0KCdpZCcpLCB1c2VyOiB2aWV3LmdldCgndXNlcicpLCBpbWdEYXRhOiB2aWV3LmdldENhcHR1cmVkSW1hZ2VEYXRhKCl9LFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcC5jb21wbGV0ZSh2aWV3LCAxKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCd1c2VyLmlkJywgZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgndXNlci5sb2dnZWRfaW4nLCBkYXRhLmxvZ2dlZF9pbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvbnZlbmllbmNlRmVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2NvbnZlbmllbmNlRmVlJywgZGF0YS5jb252ZW5pZW5jZUZlZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ3N0ZXBzLjEuY29tcGxldGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmFjdGl2YXRlKDIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wcm9tb19yZW1vdmUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwdmlldy5zZXQoJ3Byb21vZXJyb3InLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwdmlldy5zZXQoJ3Byb21vY29kZScsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXB2aWV3LnNldCgncHJvbW92YWx1ZScsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXB2aWV3LnNldCgnYm9va2luZy5wcm9tb192YWx1ZScsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXB2aWV3LnNldCgnYm9va2luZy5wcm9tb19jb2RlJywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAuZXJyb3IodmlldywgMSwgeGhyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZpZXcuY2FwdHVyZVNjcmVlblNob3QodmlldywgMSwgY2FsbGJhY2spO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0sXG4gICAgc3RlcDI6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBkZWZlcnJlZCA9IFEuZGVmZXIoKTtcblxuICAgICAgICB2YXIgY2FsbGJhY2sgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiA2MDAwMCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYy9ib29raW5nL3N0ZXAyJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7aWQ6IHZpZXcuZ2V0KCdpZCcpLCBjaGVjazogbyAmJiBvLmNoZWNrID8gMSA6IDAsIHBhc3NlbmdlcnM6IHZpZXcuZ2V0KCdwYXNzZW5nZXJzJyksICdzY2VuYXJpbyc6IHZpZXcuZ2V0KCdwYXNzZW5nZXJWYWxpZGF0b24nKSwgaW1nRGF0YTogdmlldy5nZXRDYXB0dXJlZEltYWdlRGF0YSgpfSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAuY29tcGxldGUodmlldywgMik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobyAmJiBvLmNoZWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2goZGF0YSwgZnVuY3Rpb24gKGlkLCBrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ3Bhc3NlbmdlcnMuJyArIGsgKyAnLnRyYXZlbGVyLmlkJywgaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdzdGVwcy4yLmNvbXBsZXRlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5hY3RpdmF0ZSgzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2aWV3LmdldCgnbW9iaWxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdzdGVwcy4yLmNvbXBsZXRlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5hY3RpdmF0ZSgzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHZpZXcuZ2V0KCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcC5lcnJvcih2aWV3LCAyLCB4aHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgICB2aWV3LmNhcHR1cmVTY3JlZW5TaG90KHZpZXcsIDIsIGNhbGxiYWNrKTtcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9LFxuICAgIHN0ZXAzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBkZWZlcnJlZCA9IFEuZGVmZXIoKSxcbiAgICAgICAgICAgICAgICBkYXRhID0ge2lkOiB0aGlzLmdldCgnaWQnKX0sXG4gICAgICAgICAgICAgICAgcGF5bWVudCA9IHRoaXMuZ2V0KCdwYXltZW50Jyk7XG5cbiAgICAgICAgaWYgKDMgPT0gcGF5bWVudC5hY3RpdmUpIHtcbiAgICAgICAgICAgIGRhdGEubmV0YmFua2luZyA9IHRoaXMuZ2V0KCdwYXltZW50Lm5ldGJhbmtpbmcnKTtcbiAgICAgICAgICAgIGRhdGEubmV0YmFua2luZy5jYXRlZ29yeSA9ICduZXRiYW5raW5nJztcbiAgICAgICAgfSBlbHNlIGlmICg0ID09IHBheW1lbnQuYWN0aXZlKSB7XG4gICAgICAgICAgICBkYXRhLndhbGxldCA9IHRoaXMuZ2V0KCdwYXltZW50LndhbGxldCcpO1xuICAgICAgICB9IGVsc2UgaWYgKDUgPT0gcGF5bWVudC5hY3RpdmUpIHtcbiAgICAgICAgICAgIGRhdGEuQ0NBdmVudWVFbWkgPSB0aGlzLmdldCgncGF5bWVudC5lbWknKTtcbiAgICAgICAgICAgIGRhdGEuQ0NBdmVudWVFbWkuY2F0ZWdvcnkgPSAnRU1JJztcbiAgICAgICAgfSBlbHNlIGlmICg2ID09IHBheW1lbnQuYWN0aXZlKSB7XG4gICAgICAgICAgICBkYXRhLlVQSSA9IHBheW1lbnQudXBpO1xuICAgICAgICAgICAgZGF0YS5jYXRlZ29yeSA9ICd1cGknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YS5jYyA9IHRoaXMuZ2V0KCdwYXltZW50LmNjJyk7XG4gICAgICAgICAgICBkYXRhLmNjLnN0b3JlID0gZGF0YS5jYy5zdG9yZSA/IDEgOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNhbGxiYWNrID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRhdGEuaW1nRGF0YSA9IHZpZXcuZ2V0Q2FwdHVyZWRJbWFnZURhdGEoKTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdGltZW91dDogNjAwMDAsXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogJy9iMmMvYm9va2luZy9zdGVwMycsXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9QYXkoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGlQYXltZW50UmVzcG9uc2UoZGF0YSwgdmlldyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAuY29tcGxldGUodmlldywgMyk7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAuZXJyb3IodmlldywgMywgeGhyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZpZXcuY2FwdHVyZVNjcmVlblNob3QodmlldywgMywgY2FsbGJhY2spO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0sXG4gICAgc3RlcDQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGRlZmVycmVkID0gUS5kZWZlcigpLFxuICAgICAgICAgICAgICAgIGRhdGEgPSB7aWQ6IHRoaXMuZ2V0KCdpZCcpfTtcblxuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAvLyB0aW1lb3V0OiAyMDAwMCxcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogJy9iMmMvYm9va2luZy9zdGVwNCcsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy9zdGVwLmNvbXBsZXRlKHZpZXcsIDQpOyAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmlldy5zZXQoJ2FpcmNhcnRfaWQnLCBkYXRhLmFpcmNhcnRfaWQpO1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdhaXJjYXJ0X3N0YXR1cycsIGRhdGEuYWlyY2FydF9zdGF0dXMpO1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdzdGVwcy40LmNvbXBsZXRlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNhbGxiYWNrX3VybCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLmNhbGxiYWNrX3VybDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9iMmMvYWlyQ2FydC9teWJvb2tpbmdzLycgKyB2aWV3LmdldCgnYWlyY2FydF9pZCcpO1xuICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgICAgICAgIHN0ZXAuZXJyb3IodmlldywgNCwgeGhyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9LFxuICAgIGlzQm9va2VkOiBmdW5jdGlvbiAoYnMpIHtcbiAgICAgICAgcmV0dXJuIGJzID09IDggfHwgYnMgPT0gOSB8fCBicyA9PSAxMCB8fCBicyA9PSAxMTtcbiAgICB9LFxuICAgIGluUHJvY2VzczogZnVuY3Rpb24gKGJyKSB7XG4gICAgICAgIHJldHVybiAhKGJzID09IDggfHwgYnMgPT0gOSB8fCBicyA9PSAxMCB8fCBicyA9PSAxMSkgJiYgIShicyA9PSAxKTtcbiAgICB9LFxuICAgIGlzTmV3OiBmdW5jdGlvbiAoYnIpIHtcbiAgICAgICAgcmV0dXJuIDEgPT0gYnM7XG4gICAgfSxcbiAgICBweW10Q29udkZlZTogZnVuY3Rpb24gKGNhdCwgc3ViX2NhdCwgYmluX2RpZ2l0cykge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdmlldy5zZXQoJ2NvbnZmZWVmbGFnJywgZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogJy9iMmMvYm9va2luZy9weW10Q29udkZlZScsXG4gICAgICAgICAgICBkYXRhOiB7aWQ6IHZpZXcuZ2V0KCdpZCcpLCBjczogdmlldy5nZXQoJ2NsaWVudFNvdXJjZUlkJyksIHB5bXRfY2F0OiBjYXQsIHB5bXRfc3ViX2NhdDogc3ViX2NhdCwgYmluX2luZm86IGJpbl9kaWdpdHN9LFxuICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKXtcbiAgICAgICAgICAgICAgICBpZighJCgnLmJvb2tfZmxpZ2h0JykuaXMoXCI6ZGlzYWJsZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkKCcuYm9va19mbGlnaHQnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX3gnKS5jc3MoXCJhbmltYXRpb24tcGxheS1zdGF0ZVwiLCBcInJ1bm5pbmdcIik7XG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl94Jykuc2hvdygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmlldy5zZXQoJ2NvbnZlbmllbmNlRmVlJywgZGF0YS5weW10Q29udkZlZSk7XG4gICAgICAgICAgICAgICAgdmlldy5zZXQoJ3BjZl9wZXJfcGFzc2VuZ2VyJywgZGF0YS5wZXJfcGFzc2VuZ2VyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmlldy5zZXQoJ2NvbnZmZWVmbGFnJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl94JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfeCcpLmNzcyhcImFuaW1hdGlvbi1wbGF5LXN0YXRlXCIsIFwicGF1c2VkXCIpO1xuICAgICAgICAgICAgICAgIGlmKGRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5ib29rX2ZsaWdodCcpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNldEN1cnJlbnRTdGVwRm9yTW9iaWxlOiBmdW5jdGlvbiAoc3RlcCkge1xuICAgICAgICBpZiAoTU9CSUxFKSB7XG4gICAgICAgICAgICB0aGlzLnNldCgnY3VycmVudHN0ZXAnLCBzdGVwKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5Cb29raW5nLnBhcnNlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgYWN0aXZlID0gMTtcblxuICAgIGlmIChNT0JJTEUpIHtcbiAgICAgICAgLy9pZiAoZGF0YS51c2VyLm1vYmlsZSkge1xuICAgICAgICAvLyAgICBkYXRhLnVzZXIubW9iaWxlID0gZGF0YS51c2VyLmNvdW50cnkgKyBkYXRhLnVzZXIubW9iaWxlO1xuICAgICAgICAvL31cblxuICAgICAgICBkYXRhLnBheW1lbnQuYWN0aXZlID0gLTE7XG5cbiAgICAgICAgaWYgKCFkYXRhLnVzZXIuZW1haWwgJiYgd2luZG93LmxvY2FsU3RvcmFnZSAmJiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Jvb2tpbmdfZW1haWwnKSkge1xuICAgICAgICAgICAgZGF0YS51c2VyLmVtYWlsID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdib29raW5nX2VtYWlsJyk7XG4gICAgICAgICAgICBkYXRhLnVzZXIuY291bnRyeSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYm9va2luZ19jb3VudHJ5Jyk7XG4gICAgICAgICAgICBkYXRhLnVzZXIubW9iaWxlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdib29raW5nX21vYmlsZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGF0YS5mbGlnaHRzID0gXy5tYXAoZGF0YS5mbGlnaHRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gRmxpZ2h0LnBhcnNlKGkpO1xuICAgIH0pO1xuXG4gICAgaWYgKGRhdGEudXNlciAmJiBkYXRhLnVzZXIuaWQpIHtcbiAgICAgICAgZGF0YS5zdGVwc1sxXS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBkYXRhLnN0ZXBzWzFdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmUgPSAyO1xuICAgIH1cblxuICAgIGlmIChkYXRhLnBhc3NlbmdlcnNbMF0udHJhdmVsZXIuaWQpIHtcbiAgICAgICAgZGF0YS5zdGVwc1syXS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBkYXRhLnN0ZXBzWzJdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmUgPSAzO1xuICAgIH1cblxuICAgIGlmIChkYXRhLnBheW1lbnQucGF5bWVudF9pZCkge1xuICAgICAgICBkYXRhLnN0ZXBzWzNdLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGRhdGEuc3RlcHNbM10uYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZSA9IDQ7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEuYWlyY2FydF9pZCkge1xuICAgICAgICBkYXRhLnN0ZXBzWzRdLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGFjdGl2ZSA9IDQ7XG4gICAgfVxuXG4gICAgZGF0YS5zdGVwc1thY3RpdmVdLmFjdGl2ZSA9IHRydWU7XG4gICAgLy9jb25zb2xlLmxvZygnYm9va2luZyBkYXRhJyk7XG4gICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcbiAgICByZXR1cm4gbmV3IEJvb2tpbmcoe2RhdGE6IGRhdGF9KTtcblxufTtcblxuQm9va2luZy5mZXRjaCA9IGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiBRLlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAkLmdldEpTT04oJy9iMmMvYm9va2luZy8nICsgXy5wYXJzZUludChpZCkpXG4gICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShCb29raW5nLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuQm9va2luZy5jcmVhdGUgPSBmdW5jdGlvbiAoZmxpZ2h0cywgb3B0aW9ucykge1xuICAgIHJldHVybiBRLlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiAnL2IyYy9ib29raW5nJyxcbiAgICAgICAgICAgIGRhdGE6IF8uZXh0ZW5kKHtmbGlnaHRzOiBmbGlnaHRzfSwgb3B0aW9ucyB8fCB7fSksXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoQm9va2luZy5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIGlmICg3ID09PSByZXNwb25zZS5jb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIERpYWxvZy5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogJ0ludmFsaWQgU2VhcmNoIFJlc3VsdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiPlNvcnJ5ISAnICsgcmVzcG9uc2UubWVzc2FnZSArICc8L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnQmFjayB0byBTZWFyY2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IG9wdGlvbnMudXJsICsgJz9mb3JjZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5Cb29raW5nLm9wZW4gPSBmdW5jdGlvbiAoZmxpZ2h0cywgb3B0aW9ucykge1xuICAgIEJvb2tpbmcuY3JlYXRlKGZsaWdodHMsIG9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYm9va2luZykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9iMmMvYm9va2luZy8nICsgYm9va2luZy5nZXQoJ2lkJyk7XG4gICAgICAgICAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQm9va2luZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvc3RvcmVzL2ZsaWdodC9ib29raW5nLmpzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSIsIi8qXG4gIGh0bWwyY2FudmFzIDAuNC4xIDxodHRwOi8vaHRtbDJjYW52YXMuaGVydHplbi5jb20+XG4gIENvcHlyaWdodCAoYykgMjAxMyBOaWtsYXMgdm9uIEhlcnR6ZW5cblxuICBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZVxuKi9cblxuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCl7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX2h0bWwyY2FudmFzID0ge30sXG5wcmV2aW91c0VsZW1lbnQsXG5jb21wdXRlZENTUyxcbmh0bWwyY2FudmFzO1xuXG5faHRtbDJjYW52YXMuVXRpbCA9IHt9O1xuXG5faHRtbDJjYW52YXMuVXRpbC5sb2cgPSBmdW5jdGlvbihhKSB7XG4gIGlmIChfaHRtbDJjYW52YXMubG9nZ2luZyAmJiB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cpIHtcbiAgICB3aW5kb3cuY29uc29sZS5sb2coYSk7XG4gIH1cbn07XG5cbl9odG1sMmNhbnZhcy5VdGlsLnRyaW1UZXh0ID0gKGZ1bmN0aW9uKGlzTmF0aXZlKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzTmF0aXZlID8gaXNOYXRpdmUuYXBwbHkoaW5wdXQpIDogKChpbnB1dCB8fCAnJykgKyAnJykucmVwbGFjZSggL15cXHMrfFxccyskL2cgLCAnJyApO1xuICB9O1xufSkoU3RyaW5nLnByb3RvdHlwZS50cmltKTtcblxuX2h0bWwyY2FudmFzLlV0aWwuYXNGbG9hdCA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuIHBhcnNlRmxvYXQodik7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gIC8vIFRPRE86IHN1cHBvcnQgYWxsIHBvc3NpYmxlIGxlbmd0aCB2YWx1ZXNcbiAgdmFyIFRFWFRfU0hBRE9XX1BST1BFUlRZID0gLygocmdiYXxyZ2IpXFwoW15cXCldK1xcKShcXHMtP1xcZCtweCl7MCx9KS9nO1xuICB2YXIgVEVYVF9TSEFET1dfVkFMVUVTID0gLygtP1xcZCtweCl8KCMuKyl8KHJnYlxcKC4rXFwpKXwocmdiYVxcKC4rXFwpKS9nO1xuICBfaHRtbDJjYW52YXMuVXRpbC5wYXJzZVRleHRTaGFkb3dzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJ25vbmUnKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLy8gZmluZCBtdWx0aXBsZSBzaGFkb3cgZGVjbGFyYXRpb25zXG4gICAgdmFyIHNoYWRvd3MgPSB2YWx1ZS5tYXRjaChURVhUX1NIQURPV19QUk9QRVJUWSksXG4gICAgICByZXN1bHRzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IHNoYWRvd3MgJiYgKGkgPCBzaGFkb3dzLmxlbmd0aCk7IGkrKykge1xuICAgICAgdmFyIHMgPSBzaGFkb3dzW2ldLm1hdGNoKFRFWFRfU0hBRE9XX1ZBTFVFUyk7XG4gICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICBjb2xvcjogc1swXSxcbiAgICAgICAgb2Zmc2V0WDogc1sxXSA/IHNbMV0ucmVwbGFjZSgncHgnLCAnJykgOiAwLFxuICAgICAgICBvZmZzZXRZOiBzWzJdID8gc1syXS5yZXBsYWNlKCdweCcsICcnKSA6IDAsXG4gICAgICAgIGJsdXI6IHNbM10gPyBzWzNdLnJlcGxhY2UoJ3B4JywgJycpIDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xufSkoKTtcblxuXG5faHRtbDJjYW52YXMuVXRpbC5wYXJzZUJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciB3aGl0ZXNwYWNlID0gJyBcXHJcXG5cXHQnLFxuICAgICAgICBtZXRob2QsIGRlZmluaXRpb24sIHByZWZpeCwgcHJlZml4X2ksIGJsb2NrLCByZXN1bHRzID0gW10sXG4gICAgICAgIGMsIG1vZGUgPSAwLCBudW1QYXJlbiA9IDAsIHF1b3RlLCBhcmdzO1xuXG4gICAgdmFyIGFwcGVuZFJlc3VsdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKG1ldGhvZCkge1xuICAgICAgICAgICAgaWYoZGVmaW5pdGlvbi5zdWJzdHIoIDAsIDEgKSA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb24gPSBkZWZpbml0aW9uLnN1YnN0ciggMSwgZGVmaW5pdGlvbi5sZW5ndGggLSAyICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihkZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGRlZmluaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYobWV0aG9kLnN1YnN0ciggMCwgMSApID09PSAnLScgJiZcbiAgICAgICAgICAgICAgICAgICAgKHByZWZpeF9pID0gbWV0aG9kLmluZGV4T2YoICctJywgMSApICsgMSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gbWV0aG9kLnN1YnN0ciggMCwgcHJlZml4X2kpO1xuICAgICAgICAgICAgICAgIG1ldGhvZCA9IG1ldGhvZC5zdWJzdHIoIHByZWZpeF9pICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHByZWZpeDogcHJlZml4LFxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGJsb2NrLFxuICAgICAgICAgICAgICAgIGFyZ3M6IGFyZ3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGFyZ3MgPSBbXTsgLy9mb3Igc29tZSBvZGQgcmVhc29uLCBzZXR0aW5nIC5sZW5ndGggPSAwIGRpZG4ndCB3b3JrIGluIHNhZmFyaVxuICAgICAgICBtZXRob2QgPVxuICAgICAgICAgICAgcHJlZml4ID1cbiAgICAgICAgICAgIGRlZmluaXRpb24gPVxuICAgICAgICAgICAgYmxvY2sgPSAnJztcbiAgICB9O1xuXG4gICAgYXBwZW5kUmVzdWx0KCk7XG4gICAgZm9yKHZhciBpID0gMCwgaWkgPSB2YWx1ZS5sZW5ndGg7IGk8aWk7IGkrKykge1xuICAgICAgICBjID0gdmFsdWVbaV07XG4gICAgICAgIGlmKG1vZGUgPT09IDAgJiYgd2hpdGVzcGFjZS5pbmRleE9mKCBjICkgPiAtMSl7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2goYykge1xuICAgICAgICAgICAgY2FzZSAnXCInOlxuICAgICAgICAgICAgICAgIGlmKCFxdW90ZSkge1xuICAgICAgICAgICAgICAgICAgICBxdW90ZSA9IGM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYocXVvdGUgPT09IGMpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVvdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnKCc6XG4gICAgICAgICAgICAgICAgaWYocXVvdGUpIHsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKG1vZGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrICs9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG51bVBhcmVuKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICcpJzpcbiAgICAgICAgICAgICAgICBpZihxdW90ZSkgeyBicmVhazsgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYobW9kZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZihudW1QYXJlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jayArPSBjO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kUmVzdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bVBhcmVuLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJywnOlxuICAgICAgICAgICAgICAgIGlmKHF1b3RlKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihtb2RlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFJlc3VsdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZihudW1QYXJlbiA9PT0gMCAmJiAhbWV0aG9kLm1hdGNoKC9edXJsJC9pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGRlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbiA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgKz0gYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxvY2sgKz0gYztcbiAgICAgICAgaWYobW9kZSA9PT0gMCkgeyBtZXRob2QgKz0gYzsgfVxuICAgICAgICBlbHNlIHsgZGVmaW5pdGlvbiArPSBjOyB9XG4gICAgfVxuICAgIGFwcGVuZFJlc3VsdCgpO1xuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG5faHRtbDJjYW52YXMuVXRpbC5Cb3VuZHMgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICB2YXIgY2xpZW50UmVjdCwgYm91bmRzID0ge307XG5cbiAgaWYgKGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXtcbiAgICBjbGllbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIC8vIFRPRE8gYWRkIHNjcm9sbCBwb3NpdGlvbiB0byBib3VuZHMsIHNvIG5vIHNjcm9sbGluZyBvZiB3aW5kb3cgbmVjZXNzYXJ5XG4gICAgYm91bmRzLnRvcCA9IGNsaWVudFJlY3QudG9wO1xuICAgIGJvdW5kcy5ib3R0b20gPSBjbGllbnRSZWN0LmJvdHRvbSB8fCAoY2xpZW50UmVjdC50b3AgKyBjbGllbnRSZWN0LmhlaWdodCk7XG4gICAgYm91bmRzLmxlZnQgPSBjbGllbnRSZWN0LmxlZnQ7XG5cbiAgICBib3VuZHMud2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIGJvdW5kcy5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgfVxuXG4gIHJldHVybiBib3VuZHM7XG59O1xuXG4vLyBUT0RPIGlkZWFsbHksIHdlJ2Qgd2FudCBldmVyeXRoaW5nIHRvIGdvIHRocm91Z2ggdGhpcyBmdW5jdGlvbiBpbnN0ZWFkIG9mIFV0aWwuQm91bmRzLFxuLy8gYnV0IHdvdWxkIHJlcXVpcmUgZnVydGhlciB3b3JrIHRvIGNhbGN1bGF0ZSB0aGUgY29ycmVjdCBwb3NpdGlvbnMgZm9yIGVsZW1lbnRzIHdpdGggb2Zmc2V0UGFyZW50c1xuX2h0bWwyY2FudmFzLlV0aWwuT2Zmc2V0Qm91bmRzID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgdmFyIHBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50ID8gX2h0bWwyY2FudmFzLlV0aWwuT2Zmc2V0Qm91bmRzKGVsZW1lbnQub2Zmc2V0UGFyZW50KSA6IHt0b3A6IDAsIGxlZnQ6IDB9O1xuXG4gIHJldHVybiB7XG4gICAgdG9wOiBlbGVtZW50Lm9mZnNldFRvcCArIHBhcmVudC50b3AsXG4gICAgYm90dG9tOiBlbGVtZW50Lm9mZnNldFRvcCArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgcGFyZW50LnRvcCxcbiAgICBsZWZ0OiBlbGVtZW50Lm9mZnNldExlZnQgKyBwYXJlbnQubGVmdCxcbiAgICB3aWR0aDogZWxlbWVudC5vZmZzZXRXaWR0aCxcbiAgICBoZWlnaHQ6IGVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gIH07XG59O1xuXG5mdW5jdGlvbiB0b1BYKGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUgKSB7XG4gICAgdmFyIHJzTGVmdCA9IGVsZW1lbnQucnVudGltZVN0eWxlICYmIGVsZW1lbnQucnVudGltZVN0eWxlW2F0dHJpYnV0ZV0sXG4gICAgICAgIGxlZnQsXG4gICAgICAgIHN0eWxlID0gZWxlbWVudC5zdHlsZTtcblxuICAgIC8vIENoZWNrIGlmIHdlIGFyZSBub3QgZGVhbGluZyB3aXRoIHBpeGVscywgKE9wZXJhIGhhcyBpc3N1ZXMgd2l0aCB0aGlzKVxuICAgIC8vIFBvcnRlZCBmcm9tIGpRdWVyeSBjc3MuanNcbiAgICAvLyBGcm9tIHRoZSBhd2Vzb21lIGhhY2sgYnkgRGVhbiBFZHdhcmRzXG4gICAgLy8gaHR0cDovL2VyaWsuZWFlLm5ldC9hcmNoaXZlcy8yMDA3LzA3LzI3LzE4LjU0LjE1LyNjb21tZW50LTEwMjI5MVxuXG4gICAgLy8gSWYgd2UncmUgbm90IGRlYWxpbmcgd2l0aCBhIHJlZ3VsYXIgcGl4ZWwgbnVtYmVyXG4gICAgLy8gYnV0IGEgbnVtYmVyIHRoYXQgaGFzIGEgd2VpcmQgZW5kaW5nLCB3ZSBuZWVkIHRvIGNvbnZlcnQgaXQgdG8gcGl4ZWxzXG5cbiAgICBpZiAoICEvXi0/WzAtOV0rXFwuP1swLTldKig/OnB4KT8kL2kudGVzdCggdmFsdWUgKSAmJiAvXi0/XFxkLy50ZXN0KHZhbHVlKSApIHtcbiAgICAgICAgLy8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlc1xuICAgICAgICBsZWZ0ID0gc3R5bGUubGVmdDtcblxuICAgICAgICAvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG4gICAgICAgIGlmIChyc0xlZnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucnVudGltZVN0eWxlLmxlZnQgPSBlbGVtZW50LmN1cnJlbnRTdHlsZS5sZWZ0O1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlLmxlZnQgPSBhdHRyaWJ1dGUgPT09IFwiZm9udFNpemVcIiA/IFwiMWVtXCIgOiAodmFsdWUgfHwgMCk7XG4gICAgICAgIHZhbHVlID0gc3R5bGUucGl4ZWxMZWZ0ICsgXCJweFwiO1xuXG4gICAgICAgIC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcbiAgICAgICAgc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgICAgIGlmIChyc0xlZnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucnVudGltZVN0eWxlLmxlZnQgPSByc0xlZnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIS9eKHRoaW58bWVkaXVtfHRoaWNrKSQvaS50ZXN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHZhbHVlKSkgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBhc0ludCh2YWwpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQmFja2dyb3VuZFNpemVQb3NpdGlvbih2YWx1ZSwgZWxlbWVudCwgYXR0cmlidXRlLCBpbmRleCkge1xuICAgIHZhbHVlID0gKHZhbHVlIHx8ICcnKS5zcGxpdCgnLCcpO1xuICAgIHZhbHVlID0gdmFsdWVbaW5kZXggfHwgMF0gfHwgdmFsdWVbMF0gfHwgJ2F1dG8nO1xuICAgIHZhbHVlID0gX2h0bWwyY2FudmFzLlV0aWwudHJpbVRleHQodmFsdWUpLnNwbGl0KCcgJyk7XG5cbiAgICBpZihhdHRyaWJ1dGUgPT09ICdiYWNrZ3JvdW5kU2l6ZScgJiYgKCF2YWx1ZVswXSB8fCB2YWx1ZVswXS5tYXRjaCgvY292ZXJ8Y29udGFpbnxhdXRvLykpKSB7XG4gICAgICAgIC8vdGhlc2UgdmFsdWVzIHdpbGwgYmUgaGFuZGxlZCBpbiB0aGUgcGFyZW50IGZ1bmN0aW9uXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVbMF0gPSAodmFsdWVbMF0uaW5kZXhPZiggXCIlXCIgKSA9PT0gLTEpID8gdG9QWChlbGVtZW50LCBhdHRyaWJ1dGUgKyBcIlhcIiwgdmFsdWVbMF0pIDogdmFsdWVbMF07XG4gICAgICAgIGlmKHZhbHVlWzFdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmKGF0dHJpYnV0ZSA9PT0gJ2JhY2tncm91bmRTaXplJykge1xuICAgICAgICAgICAgICAgIHZhbHVlWzFdID0gJ2F1dG8nO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSUUgOSBkb2Vzbid0IHJldHVybiBkb3VibGUgZGlnaXQgYWx3YXlzXG4gICAgICAgICAgICAgICAgdmFsdWVbMV0gPSB2YWx1ZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWx1ZVsxXSA9ICh2YWx1ZVsxXS5pbmRleE9mKFwiJVwiKSA9PT0gLTEpID8gdG9QWChlbGVtZW50LCBhdHRyaWJ1dGUgKyBcIllcIiwgdmFsdWVbMV0pIDogdmFsdWVbMV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuX2h0bWwyY2FudmFzLlV0aWwuZ2V0Q1NTID0gZnVuY3Rpb24gKGVsZW1lbnQsIGF0dHJpYnV0ZSwgaW5kZXgpIHtcbiAgICBpZiAocHJldmlvdXNFbGVtZW50ICE9PSBlbGVtZW50KSB7XG4gICAgICBjb21wdXRlZENTUyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gY29tcHV0ZWRDU1NbYXR0cmlidXRlXTtcblxuICAgIGlmICgvXmJhY2tncm91bmQoU2l6ZXxQb3NpdGlvbikkLy50ZXN0KGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlQmFja2dyb3VuZFNpemVQb3NpdGlvbih2YWx1ZSwgZWxlbWVudCwgYXR0cmlidXRlLCBpbmRleCk7XG4gICAgfSBlbHNlIGlmICgvYm9yZGVyKFRvcHxCb3R0b20pKExlZnR8UmlnaHQpUmFkaXVzLy50ZXN0KGF0dHJpYnV0ZSkpIHtcbiAgICAgIHZhciBhcnIgPSB2YWx1ZS5zcGxpdChcIiBcIik7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgYXJyWzFdID0gYXJyWzBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFyci5tYXAoYXNJbnQpO1xuICAgIH1cblxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5faHRtbDJjYW52YXMuVXRpbC5yZXNpemVCb3VuZHMgPSBmdW5jdGlvbiggY3VycmVudF93aWR0aCwgY3VycmVudF9oZWlnaHQsIHRhcmdldF93aWR0aCwgdGFyZ2V0X2hlaWdodCwgc3RyZXRjaF9tb2RlICl7XG4gIHZhciB0YXJnZXRfcmF0aW8gPSB0YXJnZXRfd2lkdGggLyB0YXJnZXRfaGVpZ2h0LFxuICAgIGN1cnJlbnRfcmF0aW8gPSBjdXJyZW50X3dpZHRoIC8gY3VycmVudF9oZWlnaHQsXG4gICAgb3V0cHV0X3dpZHRoLCBvdXRwdXRfaGVpZ2h0O1xuXG4gIGlmKCFzdHJldGNoX21vZGUgfHwgc3RyZXRjaF9tb2RlID09PSAnYXV0bycpIHtcbiAgICBvdXRwdXRfd2lkdGggPSB0YXJnZXRfd2lkdGg7XG4gICAgb3V0cHV0X2hlaWdodCA9IHRhcmdldF9oZWlnaHQ7XG4gIH0gZWxzZSBpZih0YXJnZXRfcmF0aW8gPCBjdXJyZW50X3JhdGlvIF4gc3RyZXRjaF9tb2RlID09PSAnY29udGFpbicpIHtcbiAgICBvdXRwdXRfaGVpZ2h0ID0gdGFyZ2V0X2hlaWdodDtcbiAgICBvdXRwdXRfd2lkdGggPSB0YXJnZXRfaGVpZ2h0ICogY3VycmVudF9yYXRpbztcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXRfd2lkdGggPSB0YXJnZXRfd2lkdGg7XG4gICAgb3V0cHV0X2hlaWdodCA9IHRhcmdldF93aWR0aCAvIGN1cnJlbnRfcmF0aW87XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiBvdXRwdXRfd2lkdGgsXG4gICAgaGVpZ2h0OiBvdXRwdXRfaGVpZ2h0XG4gIH07XG59O1xuXG5mdW5jdGlvbiBiYWNrZ3JvdW5kQm91bmRzRmFjdG9yeSggcHJvcCwgZWwsIGJvdW5kcywgaW1hZ2UsIGltYWdlSW5kZXgsIGJhY2tncm91bmRTaXplICkge1xuICAgIHZhciBiZ3Bvc2l0aW9uID0gIF9odG1sMmNhbnZhcy5VdGlsLmdldENTUyggZWwsIHByb3AsIGltYWdlSW5kZXggKSAsXG4gICAgdG9wUG9zLFxuICAgIGxlZnQsXG4gICAgcGVyY2VudGFnZSxcbiAgICB2YWw7XG5cbiAgICBpZiAoYmdwb3NpdGlvbi5sZW5ndGggPT09IDEpe1xuICAgICAgdmFsID0gYmdwb3NpdGlvblswXTtcblxuICAgICAgYmdwb3NpdGlvbiA9IFtdO1xuXG4gICAgICBiZ3Bvc2l0aW9uWzBdID0gdmFsO1xuICAgICAgYmdwb3NpdGlvblsxXSA9IHZhbDtcbiAgICB9XG5cbiAgICBpZiAoYmdwb3NpdGlvblswXS50b1N0cmluZygpLmluZGV4T2YoXCIlXCIpICE9PSAtMSl7XG4gICAgICBwZXJjZW50YWdlID0gKHBhcnNlRmxvYXQoYmdwb3NpdGlvblswXSkvMTAwKTtcbiAgICAgIGxlZnQgPSBib3VuZHMud2lkdGggKiBwZXJjZW50YWdlO1xuICAgICAgaWYocHJvcCAhPT0gJ2JhY2tncm91bmRTaXplJykge1xuICAgICAgICBsZWZ0IC09IChiYWNrZ3JvdW5kU2l6ZSB8fCBpbWFnZSkud2lkdGgqcGVyY2VudGFnZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYocHJvcCA9PT0gJ2JhY2tncm91bmRTaXplJykge1xuICAgICAgICBpZihiZ3Bvc2l0aW9uWzBdID09PSAnYXV0bycpIHtcbiAgICAgICAgICBsZWZ0ID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKC9jb250YWlufGNvdmVyLy50ZXN0KGJncG9zaXRpb25bMF0pKSB7XG4gICAgICAgICAgICB2YXIgcmVzaXplZCA9IF9odG1sMmNhbnZhcy5VdGlsLnJlc2l6ZUJvdW5kcyhpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0LCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQsIGJncG9zaXRpb25bMF0pO1xuICAgICAgICAgICAgbGVmdCA9IHJlc2l6ZWQud2lkdGg7XG4gICAgICAgICAgICB0b3BQb3MgPSByZXNpemVkLmhlaWdodDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVmdCA9IHBhcnNlSW50KGJncG9zaXRpb25bMF0sIDEwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlZnQgPSBwYXJzZUludCggYmdwb3NpdGlvblswXSwgMTApO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgaWYoYmdwb3NpdGlvblsxXSA9PT0gJ2F1dG8nKSB7XG4gICAgICB0b3BQb3MgPSBsZWZ0IC8gaW1hZ2Uud2lkdGggKiBpbWFnZS5oZWlnaHQ7XG4gICAgfSBlbHNlIGlmIChiZ3Bvc2l0aW9uWzFdLnRvU3RyaW5nKCkuaW5kZXhPZihcIiVcIikgIT09IC0xKXtcbiAgICAgIHBlcmNlbnRhZ2UgPSAocGFyc2VGbG9hdChiZ3Bvc2l0aW9uWzFdKS8xMDApO1xuICAgICAgdG9wUG9zID0gIGJvdW5kcy5oZWlnaHQgKiBwZXJjZW50YWdlO1xuICAgICAgaWYocHJvcCAhPT0gJ2JhY2tncm91bmRTaXplJykge1xuICAgICAgICB0b3BQb3MgLT0gKGJhY2tncm91bmRTaXplIHx8IGltYWdlKS5oZWlnaHQgKiBwZXJjZW50YWdlO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIHRvcFBvcyA9IHBhcnNlSW50KGJncG9zaXRpb25bMV0sMTApO1xuICAgIH1cblxuICAgIHJldHVybiBbbGVmdCwgdG9wUG9zXTtcbn1cblxuX2h0bWwyY2FudmFzLlV0aWwuQmFja2dyb3VuZFBvc2l0aW9uID0gZnVuY3Rpb24oIGVsLCBib3VuZHMsIGltYWdlLCBpbWFnZUluZGV4LCBiYWNrZ3JvdW5kU2l6ZSApIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFja2dyb3VuZEJvdW5kc0ZhY3RvcnkoICdiYWNrZ3JvdW5kUG9zaXRpb24nLCBlbCwgYm91bmRzLCBpbWFnZSwgaW1hZ2VJbmRleCwgYmFja2dyb3VuZFNpemUgKTtcbiAgICByZXR1cm4geyBsZWZ0OiByZXN1bHRbMF0sIHRvcDogcmVzdWx0WzFdIH07XG59O1xuXG5faHRtbDJjYW52YXMuVXRpbC5CYWNrZ3JvdW5kU2l6ZSA9IGZ1bmN0aW9uKCBlbCwgYm91bmRzLCBpbWFnZSwgaW1hZ2VJbmRleCApIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFja2dyb3VuZEJvdW5kc0ZhY3RvcnkoICdiYWNrZ3JvdW5kU2l6ZScsIGVsLCBib3VuZHMsIGltYWdlLCBpbWFnZUluZGV4ICk7XG4gICAgcmV0dXJuIHsgd2lkdGg6IHJlc3VsdFswXSwgaGVpZ2h0OiByZXN1bHRbMV0gfTtcbn07XG5cbl9odG1sMmNhbnZhcy5VdGlsLkV4dGVuZCA9IGZ1bmN0aW9uIChvcHRpb25zLCBkZWZhdWx0cykge1xuICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGRlZmF1bHRzW2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWZhdWx0cztcbn07XG5cblxuLypcbiAqIERlcml2ZWQgZnJvbSBqUXVlcnkuY29udGVudHMoKVxuICogQ29weXJpZ2h0IDIwMTAsIEpvaG4gUmVzaWdcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5faHRtbDJjYW52YXMuVXRpbC5DaGlsZHJlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB2YXIgY2hpbGRyZW47XG4gIHRyeSB7XG4gICAgY2hpbGRyZW4gPSAoZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiSUZSQU1FXCIpID8gZWxlbS5jb250ZW50RG9jdW1lbnQgfHwgZWxlbS5jb250ZW50V2luZG93LmRvY3VtZW50IDogKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICB2YXIgcmV0ID0gW107XG4gICAgICBpZiAoYXJyYXkgIT09IG51bGwpIHtcbiAgICAgICAgKGZ1bmN0aW9uKGZpcnN0LCBzZWNvbmQgKSB7XG4gICAgICAgICAgdmFyIGkgPSBmaXJzdC5sZW5ndGgsXG4gICAgICAgICAgaiA9IDA7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHNlY29uZC5sZW5ndGggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGwgPSBzZWNvbmQubGVuZ3RoOyBqIDwgbDsgaisrKSB7XG4gICAgICAgICAgICAgIGZpcnN0W2krK10gPSBzZWNvbmRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdoaWxlIChzZWNvbmRbal0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBmaXJzdFtpKytdID0gc2Vjb25kW2orK107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZmlyc3QubGVuZ3RoID0gaTtcblxuICAgICAgICAgIHJldHVybiBmaXJzdDtcbiAgICAgICAgfSkocmV0LCBhcnJheSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0pKGVsZW0uY2hpbGROb2Rlcyk7XG5cbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBfaHRtbDJjYW52YXMuVXRpbC5sb2coXCJodG1sMmNhbnZhcy5VdGlsLkNoaWxkcmVuIGZhaWxlZCB3aXRoIGV4Y2VwdGlvbjogXCIgKyBleC5tZXNzYWdlKTtcbiAgICBjaGlsZHJlbiA9IFtdO1xuICB9XG4gIHJldHVybiBjaGlsZHJlbjtcbn07XG5cbl9odG1sMmNhbnZhcy5VdGlsLmlzVHJhbnNwYXJlbnQgPSBmdW5jdGlvbihiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgcmV0dXJuIChiYWNrZ3JvdW5kQ29sb3IgPT09IFwidHJhbnNwYXJlbnRcIiB8fCBiYWNrZ3JvdW5kQ29sb3IgPT09IFwicmdiYSgwLCAwLCAwLCAwKVwiKTtcbn07XG5faHRtbDJjYW52YXMuVXRpbC5Gb250ID0gKGZ1bmN0aW9uICgpIHtcblxuICB2YXIgZm9udERhdGEgPSB7fTtcblxuICByZXR1cm4gZnVuY3Rpb24oZm9udCwgZm9udFNpemUsIGRvYykge1xuICAgIGlmIChmb250RGF0YVtmb250ICsgXCItXCIgKyBmb250U2l6ZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZvbnREYXRhW2ZvbnQgKyBcIi1cIiArIGZvbnRTaXplXTtcbiAgICB9XG5cbiAgICB2YXIgY29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIGltZyA9IGRvYy5jcmVhdGVFbGVtZW50KCdpbWcnKSxcbiAgICBzcGFuID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSxcbiAgICBzYW1wbGVUZXh0ID0gJ0hpZGRlbiBUZXh0JyxcbiAgICBiYXNlbGluZSxcbiAgICBtaWRkbGUsXG4gICAgbWV0cmljc09iajtcblxuICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICBjb250YWluZXIuc3R5bGUuZm9udEZhbWlseSA9IGZvbnQ7XG4gICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemU7XG4gICAgY29udGFpbmVyLnN0eWxlLm1hcmdpbiA9IDA7XG4gICAgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAwO1xuXG4gICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgIC8vIGh0dHA6Ly9wcm9iYWJseXByb2dyYW1taW5nLmNvbS8yMDA5LzAzLzE1L3RoZS10aW5pZXN0LWdpZi1ldmVyIChoYW5kdGlueXdoaXRlLmdpZilcbiAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQkFQLy8vd0FBQUN3QUFBQUFBUUFCQUFBQ0FrUUJBRHM9XCI7XG4gICAgaW1nLndpZHRoID0gMTtcbiAgICBpbWcuaGVpZ2h0ID0gMTtcblxuICAgIGltZy5zdHlsZS5tYXJnaW4gPSAwO1xuICAgIGltZy5zdHlsZS5wYWRkaW5nID0gMDtcbiAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9IFwiYmFzZWxpbmVcIjtcblxuICAgIHNwYW4uc3R5bGUuZm9udEZhbWlseSA9IGZvbnQ7XG4gICAgc3Bhbi5zdHlsZS5mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgIHNwYW4uc3R5bGUubWFyZ2luID0gMDtcbiAgICBzcGFuLnN0eWxlLnBhZGRpbmcgPSAwO1xuXG4gICAgc3Bhbi5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoc2FtcGxlVGV4dCkpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICBiYXNlbGluZSA9IChpbWcub2Zmc2V0VG9wIC0gc3Bhbi5vZmZzZXRUb3ApICsgMTtcblxuICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChzcGFuKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKHNhbXBsZVRleHQpKTtcblxuICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gXCJub3JtYWxcIjtcbiAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9IFwic3VwZXJcIjtcblxuICAgIG1pZGRsZSA9IChpbWcub2Zmc2V0VG9wLWNvbnRhaW5lci5vZmZzZXRUb3ApICsgMTtcbiAgICBtZXRyaWNzT2JqID0ge1xuICAgICAgYmFzZWxpbmU6IGJhc2VsaW5lLFxuICAgICAgbGluZVdpZHRoOiAxLFxuICAgICAgbWlkZGxlOiBtaWRkbGVcbiAgICB9O1xuXG4gICAgZm9udERhdGFbZm9udCArIFwiLVwiICsgZm9udFNpemVdID0gbWV0cmljc09iajtcblxuICAgIGRvYy5ib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gbWV0cmljc09iajtcbiAgfTtcbn0pKCk7XG5cbihmdW5jdGlvbigpe1xuICB2YXIgVXRpbCA9IF9odG1sMmNhbnZhcy5VdGlsLFxuICAgIEdlbmVyYXRlID0ge307XG5cbiAgX2h0bWwyY2FudmFzLkdlbmVyYXRlID0gR2VuZXJhdGU7XG5cbiAgdmFyIHJlR3JhZGllbnRzID0gW1xuICAvXigtd2Via2l0LWxpbmVhci1ncmFkaWVudClcXCgoW2Etelxcc10rKShbXFx3XFxkXFwuXFxzLCVcXChcXCldKylcXCkkLyxcbiAgL14oLW8tbGluZWFyLWdyYWRpZW50KVxcKChbYS16XFxzXSspKFtcXHdcXGRcXC5cXHMsJVxcKFxcKV0rKVxcKSQvLFxuICAvXigtd2Via2l0LWdyYWRpZW50KVxcKChsaW5lYXJ8cmFkaWFsKSxcXHMoKD86XFxkezEsM30lPylcXHMoPzpcXGR7MSwzfSU/KSxcXHMoPzpcXGR7MSwzfSU/KVxccyg/OlxcZHsxLDN9JT8pKShbXFx3XFxkXFwuXFxzLCVcXChcXClcXC1dKylcXCkkLyxcbiAgL14oLW1vei1saW5lYXItZ3JhZGllbnQpXFwoKCg/OlxcZHsxLDN9JT8pXFxzKD86XFxkezEsM30lPykpKFtcXHdcXGRcXC5cXHMsJVxcKFxcKV0rKVxcKSQvLFxuICAvXigtd2Via2l0LXJhZGlhbC1ncmFkaWVudClcXCgoKD86XFxkezEsM30lPylcXHMoPzpcXGR7MSwzfSU/KSksXFxzKFxcdyspXFxzKFthLXpcXC1dKykoW1xcd1xcZFxcLlxccywlXFwoXFwpXSspXFwpJC8sXG4gIC9eKC1tb3otcmFkaWFsLWdyYWRpZW50KVxcKCgoPzpcXGR7MSwzfSU/KVxccyg/OlxcZHsxLDN9JT8pKSxcXHMoXFx3KylcXHM/KFthLXpcXC1dKikoW1xcd1xcZFxcLlxccywlXFwoXFwpXSspXFwpJC8sXG4gIC9eKC1vLXJhZGlhbC1ncmFkaWVudClcXCgoKD86XFxkezEsM30lPylcXHMoPzpcXGR7MSwzfSU/KSksXFxzKFxcdyspXFxzKFthLXpcXC1dKykoW1xcd1xcZFxcLlxccywlXFwoXFwpXSspXFwpJC9cbiAgXTtcblxuICAvKlxuICogVE9ETzogQWRkIElFMTAgdmVuZG9yIHByZWZpeCAoLW1zKSBzdXBwb3J0XG4gKiBUT0RPOiBBZGQgVzNDIGdyYWRpZW50IChsaW5lYXItZ3JhZGllbnQpIHN1cHBvcnRcbiAqIFRPRE86IEFkZCBvbGQgV2Via2l0IC13ZWJraXQtZ3JhZGllbnQocmFkaWFsLCAuLi4pIHN1cHBvcnRcbiAqIFRPRE86IE1heWJlIHNvbWUgUmVnRXhwIG9wdGltaXphdGlvbnMgYXJlIHBvc3NpYmxlIDtvKVxuICovXG4gIEdlbmVyYXRlLnBhcnNlR3JhZGllbnQgPSBmdW5jdGlvbihjc3MsIGJvdW5kcykge1xuICAgIHZhciBncmFkaWVudCwgaSwgbGVuID0gcmVHcmFkaWVudHMubGVuZ3RoLCBtMSwgc3RvcCwgbTIsIG0yTGVuLCBzdGVwLCBtMywgdGwsdHIsYnIsYmw7XG5cbiAgICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrPTEpe1xuICAgICAgbTEgPSBjc3MubWF0Y2gocmVHcmFkaWVudHNbaV0pO1xuICAgICAgaWYobTEpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYobTEpIHtcbiAgICAgIHN3aXRjaChtMVsxXSkge1xuICAgICAgICBjYXNlICctd2Via2l0LWxpbmVhci1ncmFkaWVudCc6XG4gICAgICAgIGNhc2UgJy1vLWxpbmVhci1ncmFkaWVudCc6XG5cbiAgICAgICAgICBncmFkaWVudCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAgICAgICAgeDA6IG51bGwsXG4gICAgICAgICAgICB5MDogbnVsbCxcbiAgICAgICAgICAgIHgxOiBudWxsLFxuICAgICAgICAgICAgeTE6IG51bGwsXG4gICAgICAgICAgICBjb2xvclN0b3BzOiBbXVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBnZXQgY29vcmRpbmF0ZXNcbiAgICAgICAgICBtMiA9IG0xWzJdLm1hdGNoKC9cXHcrL2cpO1xuICAgICAgICAgIGlmKG0yKXtcbiAgICAgICAgICAgIG0yTGVuID0gbTIubGVuZ3RoO1xuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgbTJMZW47IGkrPTEpe1xuICAgICAgICAgICAgICBzd2l0Y2gobTJbaV0pIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgZ3JhZGllbnQueTAgPSAwO1xuICAgICAgICAgICAgICAgICAgZ3JhZGllbnQueTEgPSBib3VuZHMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICBncmFkaWVudC54MCA9IGJvdW5kcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgIGdyYWRpZW50LngxID0gMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgIGdyYWRpZW50LnkwID0gYm91bmRzLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgIGdyYWRpZW50LnkxID0gMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICBncmFkaWVudC54MCA9IDA7XG4gICAgICAgICAgICAgICAgICBncmFkaWVudC54MSA9IGJvdW5kcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGdyYWRpZW50LngwID09PSBudWxsICYmIGdyYWRpZW50LngxID09PSBudWxsKXsgLy8gY2VudGVyXG4gICAgICAgICAgICBncmFkaWVudC54MCA9IGdyYWRpZW50LngxID0gYm91bmRzLndpZHRoIC8gMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoZ3JhZGllbnQueTAgPT09IG51bGwgJiYgZ3JhZGllbnQueTEgPT09IG51bGwpeyAvLyBjZW50ZXJcbiAgICAgICAgICAgIGdyYWRpZW50LnkwID0gZ3JhZGllbnQueTEgPSBib3VuZHMuaGVpZ2h0IC8gMjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBnZXQgY29sb3JzIGFuZCBzdG9wc1xuICAgICAgICAgIG0yID0gbTFbM10ubWF0Y2goLygoPzpyZ2J8cmdiYSlcXChcXGR7MSwzfSxcXHNcXGR7MSwzfSxcXHNcXGR7MSwzfSg/OixcXHNbMC05XFwuXSspP1xcKSg/Olxcc1xcZHsxLDN9KD86JXxweCkpPykrL2cpO1xuICAgICAgICAgIGlmKG0yKXtcbiAgICAgICAgICAgIG0yTGVuID0gbTIubGVuZ3RoO1xuICAgICAgICAgICAgc3RlcCA9IDEgLyBNYXRoLm1heChtMkxlbiAtIDEsIDEpO1xuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgbTJMZW47IGkrPTEpe1xuICAgICAgICAgICAgICBtMyA9IG0yW2ldLm1hdGNoKC8oKD86cmdifHJnYmEpXFwoXFxkezEsM30sXFxzXFxkezEsM30sXFxzXFxkezEsM30oPzosXFxzWzAtOVxcLl0rKT9cXCkpXFxzKihcXGR7MSwzfSk/KCV8cHgpPy8pO1xuICAgICAgICAgICAgICBpZihtM1syXSl7XG4gICAgICAgICAgICAgICAgc3RvcCA9IHBhcnNlRmxvYXQobTNbMl0pO1xuICAgICAgICAgICAgICAgIGlmKG0zWzNdID09PSAnJScpe1xuICAgICAgICAgICAgICAgICAgc3RvcCAvPSAxMDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gcHggLSBzdHVwaWQgb3BlcmFcbiAgICAgICAgICAgICAgICAgIHN0b3AgLz0gYm91bmRzLndpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gaSAqIHN0ZXA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZ3JhZGllbnQuY29sb3JTdG9wcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogbTNbMV0sXG4gICAgICAgICAgICAgICAgc3RvcDogc3RvcFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnLXdlYmtpdC1ncmFkaWVudCc6XG5cbiAgICAgICAgICBncmFkaWVudCA9IHtcbiAgICAgICAgICAgIHR5cGU6IG0xWzJdID09PSAncmFkaWFsJyA/ICdjaXJjbGUnIDogbTFbMl0sIC8vIFRPRE86IEFkZCByYWRpYWwgZ3JhZGllbnQgc3VwcG9ydCBmb3Igb2xkZXIgbW96aWxsYSBkZWZpbml0aW9uc1xuICAgICAgICAgICAgeDA6IDAsXG4gICAgICAgICAgICB5MDogMCxcbiAgICAgICAgICAgIHgxOiAwLFxuICAgICAgICAgICAgeTE6IDAsXG4gICAgICAgICAgICBjb2xvclN0b3BzOiBbXVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBnZXQgY29vcmRpbmF0ZXNcbiAgICAgICAgICBtMiA9IG0xWzNdLm1hdGNoKC8oXFxkezEsM30pJT9cXHMoXFxkezEsM30pJT8sXFxzKFxcZHsxLDN9KSU/XFxzKFxcZHsxLDN9KSU/Lyk7XG4gICAgICAgICAgaWYobTIpe1xuICAgICAgICAgICAgZ3JhZGllbnQueDAgPSAobTJbMV0gKiBib3VuZHMud2lkdGgpIC8gMTAwO1xuICAgICAgICAgICAgZ3JhZGllbnQueTAgPSAobTJbMl0gKiBib3VuZHMuaGVpZ2h0KSAvIDEwMDtcbiAgICAgICAgICAgIGdyYWRpZW50LngxID0gKG0yWzNdICogYm91bmRzLndpZHRoKSAvIDEwMDtcbiAgICAgICAgICAgIGdyYWRpZW50LnkxID0gKG0yWzRdICogYm91bmRzLmhlaWdodCkgLyAxMDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZ2V0IGNvbG9ycyBhbmQgc3RvcHNcbiAgICAgICAgICBtMiA9IG0xWzRdLm1hdGNoKC8oKD86ZnJvbXx0b3xjb2xvci1zdG9wKVxcKCg/OlswLTlcXC5dKyxcXHMpPyg/OnJnYnxyZ2JhKVxcKFxcZHsxLDN9LFxcc1xcZHsxLDN9LFxcc1xcZHsxLDN9KD86LFxcc1swLTlcXC5dKyk/XFwpXFwpKSsvZyk7XG4gICAgICAgICAgaWYobTIpe1xuICAgICAgICAgICAgbTJMZW4gPSBtMi5sZW5ndGg7XG4gICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBtMkxlbjsgaSs9MSl7XG4gICAgICAgICAgICAgIG0zID0gbTJbaV0ubWF0Y2goLyhmcm9tfHRvfGNvbG9yLXN0b3ApXFwoKFswLTlcXC5dKyk/KD86LFxccyk/KCg/OnJnYnxyZ2JhKVxcKFxcZHsxLDN9LFxcc1xcZHsxLDN9LFxcc1xcZHsxLDN9KD86LFxcc1swLTlcXC5dKyk/XFwpKVxcKS8pO1xuICAgICAgICAgICAgICBzdG9wID0gcGFyc2VGbG9hdChtM1syXSk7XG4gICAgICAgICAgICAgIGlmKG0zWzFdID09PSAnZnJvbScpIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gMC4wO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmKG0zWzFdID09PSAndG8nKSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IDEuMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBncmFkaWVudC5jb2xvclN0b3BzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvbG9yOiBtM1szXSxcbiAgICAgICAgICAgICAgICBzdG9wOiBzdG9wXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICctbW96LWxpbmVhci1ncmFkaWVudCc6XG5cbiAgICAgICAgICBncmFkaWVudCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAgICAgICAgeDA6IDAsXG4gICAgICAgICAgICB5MDogMCxcbiAgICAgICAgICAgIHgxOiAwLFxuICAgICAgICAgICAgeTE6IDAsXG4gICAgICAgICAgICBjb2xvclN0b3BzOiBbXVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBnZXQgY29vcmRpbmF0ZXNcbiAgICAgICAgICBtMiA9IG0xWzJdLm1hdGNoKC8oXFxkezEsM30pJT9cXHMoXFxkezEsM30pJT8vKTtcblxuICAgICAgICAgIC8vIG0yWzFdID09IDAlICAgLT4gbGVmdFxuICAgICAgICAgIC8vIG0yWzFdID09IDUwJSAgLT4gY2VudGVyXG4gICAgICAgICAgLy8gbTJbMV0gPT0gMTAwJSAtPiByaWdodFxuXG4gICAgICAgICAgLy8gbTJbMl0gPT0gMCUgICAtPiB0b3BcbiAgICAgICAgICAvLyBtMlsyXSA9PSA1MCUgIC0+IGNlbnRlclxuICAgICAgICAgIC8vIG0yWzJdID09IDEwMCUgLT4gYm90dG9tXG5cbiAgICAgICAgICBpZihtMil7XG4gICAgICAgICAgICBncmFkaWVudC54MCA9IChtMlsxXSAqIGJvdW5kcy53aWR0aCkgLyAxMDA7XG4gICAgICAgICAgICBncmFkaWVudC55MCA9IChtMlsyXSAqIGJvdW5kcy5oZWlnaHQpIC8gMTAwO1xuICAgICAgICAgICAgZ3JhZGllbnQueDEgPSBib3VuZHMud2lkdGggLSBncmFkaWVudC54MDtcbiAgICAgICAgICAgIGdyYWRpZW50LnkxID0gYm91bmRzLmhlaWdodCAtIGdyYWRpZW50LnkwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGdldCBjb2xvcnMgYW5kIHN0b3BzXG4gICAgICAgICAgbTIgPSBtMVszXS5tYXRjaCgvKCg/OnJnYnxyZ2JhKVxcKFxcZHsxLDN9LFxcc1xcZHsxLDN9LFxcc1xcZHsxLDN9KD86LFxcc1swLTlcXC5dKyk/XFwpKD86XFxzXFxkezEsM30lKT8pKy9nKTtcbiAgICAgICAgICBpZihtMil7XG4gICAgICAgICAgICBtMkxlbiA9IG0yLmxlbmd0aDtcbiAgICAgICAgICAgIHN0ZXAgPSAxIC8gTWF0aC5tYXgobTJMZW4gLSAxLCAxKTtcbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IG0yTGVuOyBpKz0xKXtcbiAgICAgICAgICAgICAgbTMgPSBtMltpXS5tYXRjaCgvKCg/OnJnYnxyZ2JhKVxcKFxcZHsxLDN9LFxcc1xcZHsxLDN9LFxcc1xcZHsxLDN9KD86LFxcc1swLTlcXC5dKyk/XFwpKVxccyooXFxkezEsM30pPyglKT8vKTtcbiAgICAgICAgICAgICAgaWYobTNbMl0pe1xuICAgICAgICAgICAgICAgIHN0b3AgPSBwYXJzZUZsb2F0KG0zWzJdKTtcbiAgICAgICAgICAgICAgICBpZihtM1szXSl7IC8vIHBlcmNlbnRhZ2VcbiAgICAgICAgICAgICAgICAgIHN0b3AgLz0gMTAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gaSAqIHN0ZXA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZ3JhZGllbnQuY29sb3JTdG9wcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogbTNbMV0sXG4gICAgICAgICAgICAgICAgc3RvcDogc3RvcFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnLXdlYmtpdC1yYWRpYWwtZ3JhZGllbnQnOlxuICAgICAgICBjYXNlICctbW96LXJhZGlhbC1ncmFkaWVudCc6XG4gICAgICAgIGNhc2UgJy1vLXJhZGlhbC1ncmFkaWVudCc6XG5cbiAgICAgICAgICBncmFkaWVudCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdjaXJjbGUnLFxuICAgICAgICAgICAgeDA6IDAsXG4gICAgICAgICAgICB5MDogMCxcbiAgICAgICAgICAgIHgxOiBib3VuZHMud2lkdGgsXG4gICAgICAgICAgICB5MTogYm91bmRzLmhlaWdodCxcbiAgICAgICAgICAgIGN4OiAwLFxuICAgICAgICAgICAgY3k6IDAsXG4gICAgICAgICAgICByeDogMCxcbiAgICAgICAgICAgIHJ5OiAwLFxuICAgICAgICAgICAgY29sb3JTdG9wczogW11cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gY2VudGVyXG4gICAgICAgICAgbTIgPSBtMVsyXS5tYXRjaCgvKFxcZHsxLDN9KSU/XFxzKFxcZHsxLDN9KSU/Lyk7XG4gICAgICAgICAgaWYobTIpe1xuICAgICAgICAgICAgZ3JhZGllbnQuY3ggPSAobTJbMV0gKiBib3VuZHMud2lkdGgpIC8gMTAwO1xuICAgICAgICAgICAgZ3JhZGllbnQuY3kgPSAobTJbMl0gKiBib3VuZHMuaGVpZ2h0KSAvIDEwMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzaXplXG4gICAgICAgICAgbTIgPSBtMVszXS5tYXRjaCgvXFx3Ky8pO1xuICAgICAgICAgIG0zID0gbTFbNF0ubWF0Y2goL1thLXpcXC1dKi8pO1xuICAgICAgICAgIGlmKG0yICYmIG0zKXtcbiAgICAgICAgICAgIHN3aXRjaChtM1swXSl7XG4gICAgICAgICAgICAgIGNhc2UgJ2ZhcnRoZXN0LWNvcm5lcic6XG4gICAgICAgICAgICAgIGNhc2UgJ2NvdmVyJzogLy8gaXMgZXF1aXZhbGVudCB0byBmYXJ0aGVzdC1jb3JuZXJcbiAgICAgICAgICAgICAgY2FzZSAnJzogLy8gbW96aWxsYSByZW1vdmVzIFwiY292ZXJcIiBmcm9tIGRlZmluaXRpb24gOihcbiAgICAgICAgICAgICAgICB0bCA9IE1hdGguc3FydChNYXRoLnBvdyhncmFkaWVudC5jeCwgMikgKyBNYXRoLnBvdyhncmFkaWVudC5jeSwgMikpO1xuICAgICAgICAgICAgICAgIHRyID0gTWF0aC5zcXJ0KE1hdGgucG93KGdyYWRpZW50LmN4LCAyKSArIE1hdGgucG93KGdyYWRpZW50LnkxIC0gZ3JhZGllbnQuY3ksIDIpKTtcbiAgICAgICAgICAgICAgICBiciA9IE1hdGguc3FydChNYXRoLnBvdyhncmFkaWVudC54MSAtIGdyYWRpZW50LmN4LCAyKSArIE1hdGgucG93KGdyYWRpZW50LnkxIC0gZ3JhZGllbnQuY3ksIDIpKTtcbiAgICAgICAgICAgICAgICBibCA9IE1hdGguc3FydChNYXRoLnBvdyhncmFkaWVudC54MSAtIGdyYWRpZW50LmN4LCAyKSArIE1hdGgucG93KGdyYWRpZW50LmN5LCAyKSk7XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQucnggPSBncmFkaWVudC5yeSA9IE1hdGgubWF4KHRsLCB0ciwgYnIsIGJsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnY2xvc2VzdC1jb3JuZXInOlxuICAgICAgICAgICAgICAgIHRsID0gTWF0aC5zcXJ0KE1hdGgucG93KGdyYWRpZW50LmN4LCAyKSArIE1hdGgucG93KGdyYWRpZW50LmN5LCAyKSk7XG4gICAgICAgICAgICAgICAgdHIgPSBNYXRoLnNxcnQoTWF0aC5wb3coZ3JhZGllbnQuY3gsIDIpICsgTWF0aC5wb3coZ3JhZGllbnQueTEgLSBncmFkaWVudC5jeSwgMikpO1xuICAgICAgICAgICAgICAgIGJyID0gTWF0aC5zcXJ0KE1hdGgucG93KGdyYWRpZW50LngxIC0gZ3JhZGllbnQuY3gsIDIpICsgTWF0aC5wb3coZ3JhZGllbnQueTEgLSBncmFkaWVudC5jeSwgMikpO1xuICAgICAgICAgICAgICAgIGJsID0gTWF0aC5zcXJ0KE1hdGgucG93KGdyYWRpZW50LngxIC0gZ3JhZGllbnQuY3gsIDIpICsgTWF0aC5wb3coZ3JhZGllbnQuY3ksIDIpKTtcbiAgICAgICAgICAgICAgICBncmFkaWVudC5yeCA9IGdyYWRpZW50LnJ5ID0gTWF0aC5taW4odGwsIHRyLCBiciwgYmwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdmYXJ0aGVzdC1zaWRlJzpcbiAgICAgICAgICAgICAgICBpZihtMlswXSA9PT0gJ2NpcmNsZScpe1xuICAgICAgICAgICAgICAgICAgZ3JhZGllbnQucnggPSBncmFkaWVudC5yeSA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5jeCxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQuY3ksXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LngxIC0gZ3JhZGllbnQuY3gsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LnkxIC0gZ3JhZGllbnQuY3lcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBlbGxpcHNlXG5cbiAgICAgICAgICAgICAgICAgIGdyYWRpZW50LnR5cGUgPSBtMlswXTtcblxuICAgICAgICAgICAgICAgICAgZ3JhZGllbnQucnggPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQuY3gsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LngxIC0gZ3JhZGllbnQuY3hcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGdyYWRpZW50LnJ5ID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmN5LFxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC55MSAtIGdyYWRpZW50LmN5XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdjbG9zZXN0LXNpZGUnOlxuICAgICAgICAgICAgICBjYXNlICdjb250YWluJzogLy8gaXMgZXF1aXZhbGVudCB0byBjbG9zZXN0LXNpZGVcbiAgICAgICAgICAgICAgICBpZihtMlswXSA9PT0gJ2NpcmNsZScpe1xuICAgICAgICAgICAgICAgICAgZ3JhZGllbnQucnggPSBncmFkaWVudC5yeSA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5jeCxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQuY3ksXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LngxIC0gZ3JhZGllbnQuY3gsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LnkxIC0gZ3JhZGllbnQuY3lcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBlbGxpcHNlXG5cbiAgICAgICAgICAgICAgICAgIGdyYWRpZW50LnR5cGUgPSBtMlswXTtcblxuICAgICAgICAgICAgICAgICAgZ3JhZGllbnQucnggPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQuY3gsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LngxIC0gZ3JhZGllbnQuY3hcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGdyYWRpZW50LnJ5ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmN5LFxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC55MSAtIGdyYWRpZW50LmN5XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3IgXCIzMHB4IDQwcHhcIiBzaXplcyAod2Via2l0IG9ubHkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gY29sb3Igc3RvcHNcbiAgICAgICAgICBtMiA9IG0xWzVdLm1hdGNoKC8oKD86cmdifHJnYmEpXFwoXFxkezEsM30sXFxzXFxkezEsM30sXFxzXFxkezEsM30oPzosXFxzWzAtOVxcLl0rKT9cXCkoPzpcXHNcXGR7MSwzfSg/OiV8cHgpKT8pKy9nKTtcbiAgICAgICAgICBpZihtMil7XG4gICAgICAgICAgICBtMkxlbiA9IG0yLmxlbmd0aDtcbiAgICAgICAgICAgIHN0ZXAgPSAxIC8gTWF0aC5tYXgobTJMZW4gLSAxLCAxKTtcbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IG0yTGVuOyBpKz0xKXtcbiAgICAgICAgICAgICAgbTMgPSBtMltpXS5tYXRjaCgvKCg/OnJnYnxyZ2JhKVxcKFxcZHsxLDN9LFxcc1xcZHsxLDN9LFxcc1xcZHsxLDN9KD86LFxcc1swLTlcXC5dKyk/XFwpKVxccyooXFxkezEsM30pPyglfHB4KT8vKTtcbiAgICAgICAgICAgICAgaWYobTNbMl0pe1xuICAgICAgICAgICAgICAgIHN0b3AgPSBwYXJzZUZsb2F0KG0zWzJdKTtcbiAgICAgICAgICAgICAgICBpZihtM1szXSA9PT0gJyUnKXtcbiAgICAgICAgICAgICAgICAgIHN0b3AgLz0gMTAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHB4IC0gc3R1cGlkIG9wZXJhXG4gICAgICAgICAgICAgICAgICBzdG9wIC89IGJvdW5kcy53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGkgKiBzdGVwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGdyYWRpZW50LmNvbG9yU3RvcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29sb3I6IG0zWzFdLFxuICAgICAgICAgICAgICAgIHN0b3A6IHN0b3BcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBncmFkaWVudDtcbiAgfTtcblxuICBmdW5jdGlvbiBhZGRTY3JvbGxTdG9wcyhncmFkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNvbG9yU3RvcCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoY29sb3JTdG9wLnN0b3AsIGNvbG9yU3RvcC5jb2xvcik7XG4gICAgICB9XG4gICAgICBjYXRjaChlKSB7XG4gICAgICAgIFV0aWwubG9nKFsnZmFpbGVkIHRvIGFkZCBjb2xvciBzdG9wOiAnLCBlLCAnOyB0cmllZCB0byBhZGQ6ICcsIGNvbG9yU3RvcF0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBHZW5lcmF0ZS5HcmFkaWVudCA9IGZ1bmN0aW9uKHNyYywgYm91bmRzKSB7XG4gICAgaWYoYm91bmRzLndpZHRoID09PSAwIHx8IGJvdW5kcy5oZWlnaHQgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyksXG4gICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyksXG4gICAgZ3JhZGllbnQsIGdyYWQ7XG5cbiAgICBjYW52YXMud2lkdGggPSBib3VuZHMud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGJvdW5kcy5oZWlnaHQ7XG5cbiAgICAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3IgbXVsdGkgZGVmaW5lZCBiYWNrZ3JvdW5kIGdyYWRpZW50c1xuICAgIGdyYWRpZW50ID0gX2h0bWwyY2FudmFzLkdlbmVyYXRlLnBhcnNlR3JhZGllbnQoc3JjLCBib3VuZHMpO1xuXG4gICAgaWYoZ3JhZGllbnQpIHtcbiAgICAgIHN3aXRjaChncmFkaWVudC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2xpbmVhcic6XG4gICAgICAgICAgZ3JhZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChncmFkaWVudC54MCwgZ3JhZGllbnQueTAsIGdyYWRpZW50LngxLCBncmFkaWVudC55MSk7XG4gICAgICAgICAgZ3JhZGllbnQuY29sb3JTdG9wcy5mb3JFYWNoKGFkZFNjcm9sbFN0b3BzKGdyYWQpKTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZDtcbiAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdjaXJjbGUnOlxuICAgICAgICAgIGdyYWQgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoZ3JhZGllbnQuY3gsIGdyYWRpZW50LmN5LCAwLCBncmFkaWVudC5jeCwgZ3JhZGllbnQuY3ksIGdyYWRpZW50LnJ4KTtcbiAgICAgICAgICBncmFkaWVudC5jb2xvclN0b3BzLmZvckVhY2goYWRkU2Nyb2xsU3RvcHMoZ3JhZCkpO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkO1xuICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2VsbGlwc2UnOlxuICAgICAgICAgIHZhciBjYW52YXNSYWRpYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSxcbiAgICAgICAgICAgIGN0eFJhZGlhbCA9IGNhbnZhc1JhZGlhbC5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgICAgICAgcmkgPSBNYXRoLm1heChncmFkaWVudC5yeCwgZ3JhZGllbnQucnkpLFxuICAgICAgICAgICAgZGkgPSByaSAqIDI7XG5cbiAgICAgICAgICBjYW52YXNSYWRpYWwud2lkdGggPSBjYW52YXNSYWRpYWwuaGVpZ2h0ID0gZGk7XG5cbiAgICAgICAgICBncmFkID0gY3R4UmFkaWFsLmNyZWF0ZVJhZGlhbEdyYWRpZW50KGdyYWRpZW50LnJ4LCBncmFkaWVudC5yeSwgMCwgZ3JhZGllbnQucngsIGdyYWRpZW50LnJ5LCByaSk7XG4gICAgICAgICAgZ3JhZGllbnQuY29sb3JTdG9wcy5mb3JFYWNoKGFkZFNjcm9sbFN0b3BzKGdyYWQpKTtcblxuICAgICAgICAgIGN0eFJhZGlhbC5maWxsU3R5bGUgPSBncmFkO1xuICAgICAgICAgIGN0eFJhZGlhbC5maWxsUmVjdCgwLCAwLCBkaSwgZGkpO1xuXG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50LmNvbG9yU3RvcHNbZ3JhZGllbnQuY29sb3JTdG9wcy5sZW5ndGggLSAxXS5jb2xvcjtcbiAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBjdHguZHJhd0ltYWdlKGNhbnZhc1JhZGlhbCwgZ3JhZGllbnQuY3ggLSBncmFkaWVudC5yeCwgZ3JhZGllbnQuY3kgLSBncmFkaWVudC5yeSwgMiAqIGdyYWRpZW50LnJ4LCAyICogZ3JhZGllbnQucnkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjYW52YXM7XG4gIH07XG5cbiAgR2VuZXJhdGUuTGlzdEFscGhhID0gZnVuY3Rpb24obnVtYmVyKSB7XG4gICAgdmFyIHRtcCA9IFwiXCIsXG4gICAgbW9kdWx1cztcblxuICAgIGRvIHtcbiAgICAgIG1vZHVsdXMgPSBudW1iZXIgJSAyNjtcbiAgICAgIHRtcCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKG1vZHVsdXMpICsgNjQpICsgdG1wO1xuICAgICAgbnVtYmVyID0gbnVtYmVyIC8gMjY7XG4gICAgfXdoaWxlKChudW1iZXIqMjYpID4gMjYpO1xuXG4gICAgcmV0dXJuIHRtcDtcbiAgfTtcblxuICBHZW5lcmF0ZS5MaXN0Um9tYW4gPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgICB2YXIgcm9tYW5BcnJheSA9IFtcIk1cIiwgXCJDTVwiLCBcIkRcIiwgXCJDRFwiLCBcIkNcIiwgXCJYQ1wiLCBcIkxcIiwgXCJYTFwiLCBcIlhcIiwgXCJJWFwiLCBcIlZcIiwgXCJJVlwiLCBcIklcIl0sXG4gICAgZGVjaW1hbCA9IFsxMDAwLCA5MDAsIDUwMCwgNDAwLCAxMDAsIDkwLCA1MCwgNDAsIDEwLCA5LCA1LCA0LCAxXSxcbiAgICByb21hbiA9IFwiXCIsXG4gICAgdixcbiAgICBsZW4gPSByb21hbkFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChudW1iZXIgPD0gMCB8fCBudW1iZXIgPj0gNDAwMCkge1xuICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICB9XG5cbiAgICBmb3IgKHY9MDsgdiA8IGxlbjsgdis9MSkge1xuICAgICAgd2hpbGUgKG51bWJlciA+PSBkZWNpbWFsW3ZdKSB7XG4gICAgICAgIG51bWJlciAtPSBkZWNpbWFsW3ZdO1xuICAgICAgICByb21hbiArPSByb21hbkFycmF5W3ZdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByb21hbjtcbiAgfTtcbn0pKCk7XG5mdW5jdGlvbiBoMmNSZW5kZXJDb250ZXh0KHdpZHRoLCBoZWlnaHQpIHtcbiAgdmFyIHN0b3JhZ2UgPSBbXTtcbiAgcmV0dXJuIHtcbiAgICBzdG9yYWdlOiBzdG9yYWdlLFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICBjbGlwOiBmdW5jdGlvbigpIHtcbiAgICAgIHN0b3JhZ2UucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgbmFtZTogXCJjbGlwXCIsXG4gICAgICAgICdhcmd1bWVudHMnOiBhcmd1bWVudHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdHJhbnNsYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHN0b3JhZ2UucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgbmFtZTogXCJ0cmFuc2xhdGVcIixcbiAgICAgICAgJ2FyZ3VtZW50cyc6IGFyZ3VtZW50c1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBmaWxsOiBmdW5jdGlvbigpIHtcbiAgICAgIHN0b3JhZ2UucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgbmFtZTogXCJmaWxsXCIsXG4gICAgICAgICdhcmd1bWVudHMnOiBhcmd1bWVudHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgICBzdG9yYWdlLnB1c2goe1xuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgIG5hbWU6IFwic2F2ZVwiLFxuICAgICAgICAnYXJndW1lbnRzJzogYXJndW1lbnRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHJlc3RvcmU6IGZ1bmN0aW9uKCkge1xuICAgICAgc3RvcmFnZS5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICBuYW1lOiBcInJlc3RvcmVcIixcbiAgICAgICAgJ2FyZ3VtZW50cyc6IGFyZ3VtZW50c1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBmaWxsUmVjdDogZnVuY3Rpb24gKCkge1xuICAgICAgc3RvcmFnZS5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICBuYW1lOiBcImZpbGxSZWN0XCIsXG4gICAgICAgICdhcmd1bWVudHMnOiBhcmd1bWVudHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY3JlYXRlUGF0dGVybjogZnVuY3Rpb24oKSB7XG4gICAgICBzdG9yYWdlLnB1c2goe1xuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgIG5hbWU6IFwiY3JlYXRlUGF0dGVyblwiLFxuICAgICAgICAnYXJndW1lbnRzJzogYXJndW1lbnRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRyYXdTaGFwZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBzaGFwZSA9IFtdO1xuXG4gICAgICBzdG9yYWdlLnB1c2goe1xuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgIG5hbWU6IFwiZHJhd1NoYXBlXCIsXG4gICAgICAgICdhcmd1bWVudHMnOiBzaGFwZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1vdmVUbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2hhcGUucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBcIm1vdmVUb1wiLFxuICAgICAgICAgICAgJ2FyZ3VtZW50cyc6IGFyZ3VtZW50c1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBsaW5lVG86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNoYXBlLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJsaW5lVG9cIixcbiAgICAgICAgICAgICdhcmd1bWVudHMnOiBhcmd1bWVudHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYXJjVG86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNoYXBlLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJhcmNUb1wiLFxuICAgICAgICAgICAgJ2FyZ3VtZW50cyc6IGFyZ3VtZW50c1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBiZXppZXJDdXJ2ZVRvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzaGFwZS5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiYmV6aWVyQ3VydmVUb1wiLFxuICAgICAgICAgICAgJ2FyZ3VtZW50cyc6IGFyZ3VtZW50c1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBxdWFkcmF0aWNDdXJ2ZVRvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzaGFwZS5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwicXVhZHJhdGljQ3VydmVUb1wiLFxuICAgICAgICAgICAgJ2FyZ3VtZW50cyc6IGFyZ3VtZW50c1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgfSxcbiAgICBkcmF3SW1hZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHN0b3JhZ2UucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgbmFtZTogXCJkcmF3SW1hZ2VcIixcbiAgICAgICAgJ2FyZ3VtZW50cyc6IGFyZ3VtZW50c1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBmaWxsVGV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgc3RvcmFnZS5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICBuYW1lOiBcImZpbGxUZXh0XCIsXG4gICAgICAgICdhcmd1bWVudHMnOiBhcmd1bWVudHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc2V0VmFyaWFibGU6IGZ1bmN0aW9uICh2YXJpYWJsZSwgdmFsdWUpIHtcbiAgICAgIHN0b3JhZ2UucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidmFyaWFibGVcIixcbiAgICAgICAgbmFtZTogdmFyaWFibGUsXG4gICAgICAgICdhcmd1bWVudHMnOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9O1xufVxuX2h0bWwyY2FudmFzLlBhcnNlID0gZnVuY3Rpb24gKGltYWdlcywgb3B0aW9ucykge1xuICB3aW5kb3cuc2Nyb2xsKDAsMCk7XG5cbiAgdmFyIGVsZW1lbnQgPSAoKCBvcHRpb25zLmVsZW1lbnRzID09PSB1bmRlZmluZWQgKSA/IGRvY3VtZW50LmJvZHkgOiBvcHRpb25zLmVsZW1lbnRzWzBdKSwgLy8gc2VsZWN0IGJvZHkgYnkgZGVmYXVsdFxuICBudW1EcmF3cyA9IDAsXG4gIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCxcbiAgVXRpbCA9IF9odG1sMmNhbnZhcy5VdGlsLFxuICBzdXBwb3J0ID0gVXRpbC5TdXBwb3J0KG9wdGlvbnMsIGRvYyksXG4gIGlnbm9yZUVsZW1lbnRzUmVnRXhwID0gbmV3IFJlZ0V4cChcIihcIiArIG9wdGlvbnMuaWdub3JlRWxlbWVudHMgKyBcIilcIiksXG4gIGJvZHkgPSBkb2MuYm9keSxcbiAgZ2V0Q1NTID0gVXRpbC5nZXRDU1MsXG4gIHBzZXVkb0hpZGUgPSBcIl9fX2h0bWwyY2FudmFzX19fcHNldWRvZWxlbWVudFwiLFxuICBoaWRlUHNldWRvRWxlbWVudHMgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICBoaWRlUHNldWRvRWxlbWVudHMuaW5uZXJIVE1MID0gJy4nICsgcHNldWRvSGlkZSArICctYmVmb3JlOmJlZm9yZSB7IGNvbnRlbnQ6IFwiXCIgIWltcG9ydGFudDsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JyArXG4gICcuJyArIHBzZXVkb0hpZGUgKyAnLWFmdGVyOmFmdGVyIHsgY29udGVudDogXCJcIiAhaW1wb3J0YW50OyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nO1xuXG4gIGJvZHkuYXBwZW5kQ2hpbGQoaGlkZVBzZXVkb0VsZW1lbnRzKTtcblxuICBpbWFnZXMgPSBpbWFnZXMgfHwge307XG5cbiAgZnVuY3Rpb24gZG9jdW1lbnRXaWR0aCAoKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgTWF0aC5tYXgoZG9jLmJvZHkuc2Nyb2xsV2lkdGgsIGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgpLFxuICAgICAgTWF0aC5tYXgoZG9jLmJvZHkub2Zmc2V0V2lkdGgsIGRvYy5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgpLFxuICAgICAgTWF0aC5tYXgoZG9jLmJvZHkuY2xpZW50V2lkdGgsIGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpXG4gICAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9jdW1lbnRIZWlnaHQgKCkge1xuICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgIE1hdGgubWF4KGRvYy5ib2R5LnNjcm9sbEhlaWdodCwgZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpLFxuICAgICAgTWF0aC5tYXgoZG9jLmJvZHkub2Zmc2V0SGVpZ2h0LCBkb2MuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCksXG4gICAgICBNYXRoLm1heChkb2MuYm9keS5jbGllbnRIZWlnaHQsIGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KVxuICAgICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENTU0ludChlbGVtZW50LCBhdHRyaWJ1dGUpIHtcbiAgICB2YXIgdmFsID0gcGFyc2VJbnQoZ2V0Q1NTKGVsZW1lbnQsIGF0dHJpYnV0ZSksIDEwKTtcbiAgICByZXR1cm4gKGlzTmFOKHZhbCkpID8gMCA6IHZhbDsgLy8gYm9yZGVycyBpbiBvbGQgSUUgYXJlIHRocm93aW5nICdtZWRpdW0nIGZvciBkZW1vLmh0bWxcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlclJlY3QgKGN0eCwgeCwgeSwgdywgaCwgYmdjb2xvcikge1xuICAgIGlmIChiZ2NvbG9yICE9PSBcInRyYW5zcGFyZW50XCIpe1xuICAgICAgY3R4LnNldFZhcmlhYmxlKFwiZmlsbFN0eWxlXCIsIGJnY29sb3IpO1xuICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHcsIGgpO1xuICAgICAgbnVtRHJhd3MrPTE7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2FwaXRhbGl6ZShtLCBwMSwgcDIpIHtcbiAgICBpZiAobS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gcDEgKyBwMi50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRleHRUcmFuc2Zvcm0gKHRleHQsIHRyYW5zZm9ybSkge1xuICAgIHN3aXRjaCh0cmFuc2Zvcm0pe1xuICAgICAgY2FzZSBcImxvd2VyY2FzZVwiOlxuICAgICAgICByZXR1cm4gdGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgY2FzZSBcImNhcGl0YWxpemVcIjpcbiAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSggLyhefFxcc3w6fC18XFwofFxcKSkoW2Etel0pL2csIGNhcGl0YWxpemUpO1xuICAgICAgY2FzZSBcInVwcGVyY2FzZVwiOlxuICAgICAgICByZXR1cm4gdGV4dC50b1VwcGVyQ2FzZSgpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbm9MZXR0ZXJTcGFjaW5nKGxldHRlcl9zcGFjaW5nKSB7XG4gICAgcmV0dXJuICgvXihub3JtYWx8bm9uZXwwcHgpJC8udGVzdChsZXR0ZXJfc3BhY2luZykpO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd1RleHQoY3VycmVudFRleHQsIHgsIHksIGN0eCl7XG4gICAgaWYgKGN1cnJlbnRUZXh0ICE9PSBudWxsICYmIFV0aWwudHJpbVRleHQoY3VycmVudFRleHQpLmxlbmd0aCA+IDApIHtcbiAgICAgIGN0eC5maWxsVGV4dChjdXJyZW50VGV4dCwgeCwgeSk7XG4gICAgICBudW1EcmF3cys9MTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRUZXh0VmFyaWFibGVzKGN0eCwgZWwsIHRleHRfZGVjb3JhdGlvbiwgY29sb3IpIHtcbiAgICB2YXIgYWxpZ24gPSBmYWxzZSxcbiAgICBib2xkID0gZ2V0Q1NTKGVsLCBcImZvbnRXZWlnaHRcIiksXG4gICAgZmFtaWx5ID0gZ2V0Q1NTKGVsLCBcImZvbnRGYW1pbHlcIiksXG4gICAgc2l6ZSA9IGdldENTUyhlbCwgXCJmb250U2l6ZVwiKSxcbiAgICBzaGFkb3dzID0gVXRpbC5wYXJzZVRleHRTaGFkb3dzKGdldENTUyhlbCwgXCJ0ZXh0U2hhZG93XCIpKTtcblxuICAgIHN3aXRjaChwYXJzZUludChib2xkLCAxMCkpe1xuICAgICAgY2FzZSA0MDE6XG4gICAgICAgIGJvbGQgPSBcImJvbGRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDQwMDpcbiAgICAgICAgYm9sZCA9IFwibm9ybWFsXCI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGN0eC5zZXRWYXJpYWJsZShcImZpbGxTdHlsZVwiLCBjb2xvcik7XG4gICAgY3R4LnNldFZhcmlhYmxlKFwiZm9udFwiLCBbZ2V0Q1NTKGVsLCBcImZvbnRTdHlsZVwiKSwgZ2V0Q1NTKGVsLCBcImZvbnRWYXJpYW50XCIpLCBib2xkLCBzaXplLCBmYW1pbHldLmpvaW4oXCIgXCIpKTtcbiAgICBjdHguc2V0VmFyaWFibGUoXCJ0ZXh0QWxpZ25cIiwgKGFsaWduKSA/IFwicmlnaHRcIiA6IFwibGVmdFwiKTtcblxuICAgIGlmIChzaGFkb3dzLmxlbmd0aCkge1xuICAgICAgLy8gVE9ETzogc3VwcG9ydCBtdWx0aXBsZSB0ZXh0IHNoYWRvd3NcbiAgICAgIC8vIGFwcGx5IHRoZSBmaXJzdCB0ZXh0IHNoYWRvd1xuICAgICAgY3R4LnNldFZhcmlhYmxlKFwic2hhZG93Q29sb3JcIiwgc2hhZG93c1swXS5jb2xvcik7XG4gICAgICBjdHguc2V0VmFyaWFibGUoXCJzaGFkb3dPZmZzZXRYXCIsIHNoYWRvd3NbMF0ub2Zmc2V0WCk7XG4gICAgICBjdHguc2V0VmFyaWFibGUoXCJzaGFkb3dPZmZzZXRZXCIsIHNoYWRvd3NbMF0ub2Zmc2V0WSk7XG4gICAgICBjdHguc2V0VmFyaWFibGUoXCJzaGFkb3dCbHVyXCIsIHNoYWRvd3NbMF0uYmx1cik7XG4gICAgfVxuXG4gICAgaWYgKHRleHRfZGVjb3JhdGlvbiAhPT0gXCJub25lXCIpe1xuICAgICAgcmV0dXJuIFV0aWwuRm9udChmYW1pbHksIHNpemUsIGRvYyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyVGV4dERlY29yYXRpb24oY3R4LCB0ZXh0X2RlY29yYXRpb24sIGJvdW5kcywgbWV0cmljcywgY29sb3IpIHtcbiAgICBzd2l0Y2godGV4dF9kZWNvcmF0aW9uKSB7XG4gICAgICBjYXNlIFwidW5kZXJsaW5lXCI6XG4gICAgICAgIC8vIERyYXdzIGEgbGluZSBhdCB0aGUgYmFzZWxpbmUgb2YgdGhlIGZvbnRcbiAgICAgICAgLy8gVE9ETyBBcyBzb21lIGJyb3dzZXJzIGRpc3BsYXkgdGhlIGxpbmUgYXMgbW9yZSB0aGFuIDFweCBpZiB0aGUgZm9udC1zaXplIGlzIGJpZywgbmVlZCB0byB0YWtlIHRoYXQgaW50byBhY2NvdW50IGJvdGggaW4gcG9zaXRpb24gYW5kIHNpemVcbiAgICAgICAgcmVuZGVyUmVjdChjdHgsIGJvdW5kcy5sZWZ0LCBNYXRoLnJvdW5kKGJvdW5kcy50b3AgKyBtZXRyaWNzLmJhc2VsaW5lICsgbWV0cmljcy5saW5lV2lkdGgpLCBib3VuZHMud2lkdGgsIDEsIGNvbG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwib3ZlcmxpbmVcIjpcbiAgICAgICAgcmVuZGVyUmVjdChjdHgsIGJvdW5kcy5sZWZ0LCBNYXRoLnJvdW5kKGJvdW5kcy50b3ApLCBib3VuZHMud2lkdGgsIDEsIGNvbG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGluZS10aHJvdWdoXCI6XG4gICAgICAgIC8vIFRPRE8gdHJ5IGFuZCBmaW5kIGV4YWN0IHBvc2l0aW9uIGZvciBsaW5lLXRocm91Z2hcbiAgICAgICAgcmVuZGVyUmVjdChjdHgsIGJvdW5kcy5sZWZ0LCBNYXRoLmNlaWwoYm91bmRzLnRvcCArIG1ldHJpY3MubWlkZGxlICsgbWV0cmljcy5saW5lV2lkdGgpLCBib3VuZHMud2lkdGgsIDEsIGNvbG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGV4dEJvdW5kcyhzdGF0ZSwgdGV4dCwgdGV4dERlY29yYXRpb24sIGlzTGFzdCwgdHJhbnNmb3JtKSB7XG4gICAgdmFyIGJvdW5kcztcbiAgICBpZiAoc3VwcG9ydC5yYW5nZUJvdW5kcyAmJiAhdHJhbnNmb3JtKSB7XG4gICAgICBpZiAodGV4dERlY29yYXRpb24gIT09IFwibm9uZVwiIHx8IFV0aWwudHJpbVRleHQodGV4dCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGJvdW5kcyA9IHRleHRSYW5nZUJvdW5kcyh0ZXh0LCBzdGF0ZS5ub2RlLCBzdGF0ZS50ZXh0T2Zmc2V0KTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLnRleHRPZmZzZXQgKz0gdGV4dC5sZW5ndGg7XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5ub2RlICYmIHR5cGVvZiBzdGF0ZS5ub2RlLm5vZGVWYWx1ZSA9PT0gXCJzdHJpbmdcIiApe1xuICAgICAgdmFyIG5ld1RleHROb2RlID0gKGlzTGFzdCkgPyBzdGF0ZS5ub2RlLnNwbGl0VGV4dCh0ZXh0Lmxlbmd0aCkgOiBudWxsO1xuICAgICAgYm91bmRzID0gdGV4dFdyYXBwZXJCb3VuZHMoc3RhdGUubm9kZSwgdHJhbnNmb3JtKTtcbiAgICAgIHN0YXRlLm5vZGUgPSBuZXdUZXh0Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGJvdW5kcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHRleHRSYW5nZUJvdW5kcyh0ZXh0LCB0ZXh0Tm9kZSwgdGV4dE9mZnNldCkge1xuICAgIHZhciByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHRleHROb2RlLCB0ZXh0T2Zmc2V0KTtcbiAgICByYW5nZS5zZXRFbmQodGV4dE5vZGUsIHRleHRPZmZzZXQgKyB0ZXh0Lmxlbmd0aCk7XG4gICAgcmV0dXJuIHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGV4dFdyYXBwZXJCb3VuZHMob2xkVGV4dE5vZGUsIHRyYW5zZm9ybSkge1xuICAgIHZhciBwYXJlbnQgPSBvbGRUZXh0Tm9kZS5wYXJlbnROb2RlLFxuICAgIHdyYXBFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3dyYXBwZXInKSxcbiAgICBiYWNrdXBUZXh0ID0gb2xkVGV4dE5vZGUuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgd3JhcEVsZW1lbnQuYXBwZW5kQ2hpbGQob2xkVGV4dE5vZGUuY2xvbmVOb2RlKHRydWUpKTtcbiAgICBwYXJlbnQucmVwbGFjZUNoaWxkKHdyYXBFbGVtZW50LCBvbGRUZXh0Tm9kZSk7XG5cbiAgICB2YXIgYm91bmRzID0gdHJhbnNmb3JtID8gVXRpbC5PZmZzZXRCb3VuZHMod3JhcEVsZW1lbnQpIDogVXRpbC5Cb3VuZHMod3JhcEVsZW1lbnQpO1xuICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQoYmFja3VwVGV4dCwgd3JhcEVsZW1lbnQpO1xuICAgIHJldHVybiBib3VuZHM7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJUZXh0KGVsLCB0ZXh0Tm9kZSwgc3RhY2spIHtcbiAgICB2YXIgY3R4ID0gc3RhY2suY3R4LFxuICAgIGNvbG9yID0gZ2V0Q1NTKGVsLCBcImNvbG9yXCIpLFxuICAgIHRleHREZWNvcmF0aW9uID0gZ2V0Q1NTKGVsLCBcInRleHREZWNvcmF0aW9uXCIpLFxuICAgIHRleHRBbGlnbiA9IGdldENTUyhlbCwgXCJ0ZXh0QWxpZ25cIiksXG4gICAgbWV0cmljcyxcbiAgICB0ZXh0TGlzdCxcbiAgICBzdGF0ZSA9IHtcbiAgICAgIG5vZGU6IHRleHROb2RlLFxuICAgICAgdGV4dE9mZnNldDogMFxuICAgIH07XG5cbiAgICBpZiAoVXRpbC50cmltVGV4dCh0ZXh0Tm9kZS5ub2RlVmFsdWUpLmxlbmd0aCA+IDApIHtcbiAgICAgIHRleHROb2RlLm5vZGVWYWx1ZSA9IHRleHRUcmFuc2Zvcm0odGV4dE5vZGUubm9kZVZhbHVlLCBnZXRDU1MoZWwsIFwidGV4dFRyYW5zZm9ybVwiKSk7XG4gICAgICB0ZXh0QWxpZ24gPSB0ZXh0QWxpZ24ucmVwbGFjZShbXCItd2Via2l0LWF1dG9cIl0sW1wiYXV0b1wiXSk7XG5cbiAgICAgIHRleHRMaXN0ID0gKCFvcHRpb25zLmxldHRlclJlbmRlcmluZyAmJiAvXihsZWZ0fHJpZ2h0fGp1c3RpZnl8YXV0bykkLy50ZXN0KHRleHRBbGlnbikgJiYgbm9MZXR0ZXJTcGFjaW5nKGdldENTUyhlbCwgXCJsZXR0ZXJTcGFjaW5nXCIpKSkgP1xuICAgICAgdGV4dE5vZGUubm9kZVZhbHVlLnNwbGl0KC8oXFxifCApLylcbiAgICAgIDogdGV4dE5vZGUubm9kZVZhbHVlLnNwbGl0KFwiXCIpO1xuXG4gICAgICBtZXRyaWNzID0gc2V0VGV4dFZhcmlhYmxlcyhjdHgsIGVsLCB0ZXh0RGVjb3JhdGlvbiwgY29sb3IpO1xuXG4gICAgICBpZiAob3B0aW9ucy5jaGluZXNlKSB7XG4gICAgICAgIHRleHRMaXN0LmZvckVhY2goZnVuY3Rpb24od29yZCwgaW5kZXgpIHtcbiAgICAgICAgICBpZiAoLy4qW1xcdTRFMDAtXFx1OUZBNV0uKiQvLnRlc3Qod29yZCkpIHtcbiAgICAgICAgICAgIHdvcmQgPSB3b3JkLnNwbGl0KFwiXCIpO1xuICAgICAgICAgICAgd29yZC51bnNoaWZ0KGluZGV4LCAxKTtcbiAgICAgICAgICAgIHRleHRMaXN0LnNwbGljZS5hcHBseSh0ZXh0TGlzdCwgd29yZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGV4dExpc3QuZm9yRWFjaChmdW5jdGlvbih0ZXh0LCBpbmRleCkge1xuICAgICAgICB2YXIgYm91bmRzID0gZ2V0VGV4dEJvdW5kcyhzdGF0ZSwgdGV4dCwgdGV4dERlY29yYXRpb24sIChpbmRleCA8IHRleHRMaXN0Lmxlbmd0aCAtIDEpLCBzdGFjay50cmFuc2Zvcm0ubWF0cml4KTtcbiAgICAgICAgaWYgKGJvdW5kcykge1xuICAgICAgICAgIGRyYXdUZXh0KHRleHQsIGJvdW5kcy5sZWZ0LCBib3VuZHMuYm90dG9tLCBjdHgpO1xuICAgICAgICAgIHJlbmRlclRleHREZWNvcmF0aW9uKGN0eCwgdGV4dERlY29yYXRpb24sIGJvdW5kcywgbWV0cmljcywgY29sb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0UG9zaXRpb24gKGVsZW1lbnQsIHZhbCkge1xuICAgIHZhciBib3VuZEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCggXCJib3VuZGVsZW1lbnRcIiApLFxuICAgIG9yaWdpbmFsVHlwZSxcbiAgICBib3VuZHM7XG5cbiAgICBib3VuZEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XG5cbiAgICBvcmlnaW5hbFR5cGUgPSBlbGVtZW50LnN0eWxlLmxpc3RTdHlsZVR5cGU7XG4gICAgZWxlbWVudC5zdHlsZS5saXN0U3R5bGVUeXBlID0gXCJub25lXCI7XG5cbiAgICBib3VuZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKHZhbCkpO1xuXG4gICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoYm91bmRFbGVtZW50LCBlbGVtZW50LmZpcnN0Q2hpbGQpO1xuXG4gICAgYm91bmRzID0gVXRpbC5Cb3VuZHMoYm91bmRFbGVtZW50KTtcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGJvdW5kRWxlbWVudCk7XG4gICAgZWxlbWVudC5zdHlsZS5saXN0U3R5bGVUeXBlID0gb3JpZ2luYWxUeXBlO1xuICAgIHJldHVybiBib3VuZHM7XG4gIH1cblxuICBmdW5jdGlvbiBlbGVtZW50SW5kZXgoZWwpIHtcbiAgICB2YXIgaSA9IC0xLFxuICAgIGNvdW50ID0gMSxcbiAgICBjaGlsZHMgPSBlbC5wYXJlbnROb2RlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoZWwucGFyZW50Tm9kZSkge1xuICAgICAgd2hpbGUoY2hpbGRzWysraV0gIT09IGVsKSB7XG4gICAgICAgIGlmIChjaGlsZHNbaV0ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0SXRlbVRleHQoZWxlbWVudCwgdHlwZSkge1xuICAgIHZhciBjdXJyZW50SW5kZXggPSBlbGVtZW50SW5kZXgoZWxlbWVudCksIHRleHQ7XG4gICAgc3dpdGNoKHR5cGUpe1xuICAgICAgY2FzZSBcImRlY2ltYWxcIjpcbiAgICAgICAgdGV4dCA9IGN1cnJlbnRJbmRleDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVjaW1hbC1sZWFkaW5nLXplcm9cIjpcbiAgICAgICAgdGV4dCA9IChjdXJyZW50SW5kZXgudG9TdHJpbmcoKS5sZW5ndGggPT09IDEpID8gY3VycmVudEluZGV4ID0gXCIwXCIgKyBjdXJyZW50SW5kZXgudG9TdHJpbmcoKSA6IGN1cnJlbnRJbmRleC50b1N0cmluZygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1cHBlci1yb21hblwiOlxuICAgICAgICB0ZXh0ID0gX2h0bWwyY2FudmFzLkdlbmVyYXRlLkxpc3RSb21hbiggY3VycmVudEluZGV4ICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxvd2VyLXJvbWFuXCI6XG4gICAgICAgIHRleHQgPSBfaHRtbDJjYW52YXMuR2VuZXJhdGUuTGlzdFJvbWFuKCBjdXJyZW50SW5kZXggKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsb3dlci1hbHBoYVwiOlxuICAgICAgICB0ZXh0ID0gX2h0bWwyY2FudmFzLkdlbmVyYXRlLkxpc3RBbHBoYSggY3VycmVudEluZGV4ICkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidXBwZXItYWxwaGFcIjpcbiAgICAgICAgdGV4dCA9IF9odG1sMmNhbnZhcy5HZW5lcmF0ZS5MaXN0QWxwaGEoIGN1cnJlbnRJbmRleCApO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gdGV4dCArIFwiLiBcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckxpc3RJdGVtKGVsZW1lbnQsIHN0YWNrLCBlbEJvdW5kcykge1xuICAgIHZhciB4LFxuICAgIHRleHQsXG4gICAgY3R4ID0gc3RhY2suY3R4LFxuICAgIHR5cGUgPSBnZXRDU1MoZWxlbWVudCwgXCJsaXN0U3R5bGVUeXBlXCIpLFxuICAgIGxpc3RCb3VuZHM7XG5cbiAgICBpZiAoL14oZGVjaW1hbHxkZWNpbWFsLWxlYWRpbmctemVyb3x1cHBlci1hbHBoYXx1cHBlci1sYXRpbnx1cHBlci1yb21hbnxsb3dlci1hbHBoYXxsb3dlci1ncmVla3xsb3dlci1sYXRpbnxsb3dlci1yb21hbikkL2kudGVzdCh0eXBlKSkge1xuICAgICAgdGV4dCA9IGxpc3RJdGVtVGV4dChlbGVtZW50LCB0eXBlKTtcbiAgICAgIGxpc3RCb3VuZHMgPSBsaXN0UG9zaXRpb24oZWxlbWVudCwgdGV4dCk7XG4gICAgICBzZXRUZXh0VmFyaWFibGVzKGN0eCwgZWxlbWVudCwgXCJub25lXCIsIGdldENTUyhlbGVtZW50LCBcImNvbG9yXCIpKTtcblxuICAgICAgaWYgKGdldENTUyhlbGVtZW50LCBcImxpc3RTdHlsZVBvc2l0aW9uXCIpID09PSBcImluc2lkZVwiKSB7XG4gICAgICAgIGN0eC5zZXRWYXJpYWJsZShcInRleHRBbGlnblwiLCBcImxlZnRcIik7XG4gICAgICAgIHggPSBlbEJvdW5kcy5sZWZ0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBkcmF3VGV4dCh0ZXh0LCB4LCBsaXN0Qm91bmRzLmJvdHRvbSwgY3R4KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkSW1hZ2UgKHNyYyl7XG4gICAgdmFyIGltZyA9IGltYWdlc1tzcmNdO1xuICAgIHJldHVybiAoaW1nICYmIGltZy5zdWNjZWVkZWQgPT09IHRydWUpID8gaW1nLmltZyA6IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xpcEJvdW5kcyhzcmMsIGRzdCl7XG4gICAgdmFyIHggPSBNYXRoLm1heChzcmMubGVmdCwgZHN0LmxlZnQpLFxuICAgIHkgPSBNYXRoLm1heChzcmMudG9wLCBkc3QudG9wKSxcbiAgICB4MiA9IE1hdGgubWluKChzcmMubGVmdCArIHNyYy53aWR0aCksIChkc3QubGVmdCArIGRzdC53aWR0aCkpLFxuICAgIHkyID0gTWF0aC5taW4oKHNyYy50b3AgKyBzcmMuaGVpZ2h0KSwgKGRzdC50b3AgKyBkc3QuaGVpZ2h0KSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDp4LFxuICAgICAgdG9wOnksXG4gICAgICB3aWR0aDp4Mi14LFxuICAgICAgaGVpZ2h0OnkyLXlcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0WihlbGVtZW50LCBzdGFjaywgcGFyZW50U3RhY2spe1xuICAgIHZhciBuZXdDb250ZXh0LFxuICAgIGlzUG9zaXRpb25lZCA9IHN0YWNrLmNzc1Bvc2l0aW9uICE9PSAnc3RhdGljJyxcbiAgICB6SW5kZXggPSBpc1Bvc2l0aW9uZWQgPyBnZXRDU1MoZWxlbWVudCwgJ3pJbmRleCcpIDogJ2F1dG8nLFxuICAgIG9wYWNpdHkgPSBnZXRDU1MoZWxlbWVudCwgJ29wYWNpdHknKSxcbiAgICBpc0Zsb2F0ZWQgPSBnZXRDU1MoZWxlbWVudCwgJ2Nzc0Zsb2F0JykgIT09ICdub25lJztcblxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0d1aWRlL0NTUy9VbmRlcnN0YW5kaW5nX3pfaW5kZXgvVGhlX3N0YWNraW5nX2NvbnRleHRcbiAgICAvLyBXaGVuIGEgbmV3IHN0YWNraW5nIGNvbnRleHQgc2hvdWxkIGJlIGNyZWF0ZWQ6XG4gICAgLy8gdGhlIHJvb3QgZWxlbWVudCAoSFRNTCksXG4gICAgLy8gcG9zaXRpb25lZCAoYWJzb2x1dGVseSBvciByZWxhdGl2ZWx5KSB3aXRoIGEgei1pbmRleCB2YWx1ZSBvdGhlciB0aGFuIFwiYXV0b1wiLFxuICAgIC8vIGVsZW1lbnRzIHdpdGggYW4gb3BhY2l0eSB2YWx1ZSBsZXNzIHRoYW4gMS4gKFNlZSB0aGUgc3BlY2lmaWNhdGlvbiBmb3Igb3BhY2l0eSksXG4gICAgLy8gb24gbW9iaWxlIFdlYktpdCBhbmQgQ2hyb21lIDIyKywgcG9zaXRpb246IGZpeGVkIGFsd2F5cyBjcmVhdGVzIGEgbmV3IHN0YWNraW5nIGNvbnRleHQsIGV2ZW4gd2hlbiB6LWluZGV4IGlzIFwiYXV0b1wiIChTZWUgdGhpcyBwb3N0KVxuXG4gICAgc3RhY2suekluZGV4ID0gbmV3Q29udGV4dCA9IGgyY3pDb250ZXh0KHpJbmRleCk7XG4gICAgbmV3Q29udGV4dC5pc1Bvc2l0aW9uZWQgPSBpc1Bvc2l0aW9uZWQ7XG4gICAgbmV3Q29udGV4dC5pc0Zsb2F0ZWQgPSBpc0Zsb2F0ZWQ7XG4gICAgbmV3Q29udGV4dC5vcGFjaXR5ID0gb3BhY2l0eTtcbiAgICBuZXdDb250ZXh0Lm93blN0YWNraW5nID0gKHpJbmRleCAhPT0gJ2F1dG8nIHx8IG9wYWNpdHkgPCAxKTtcblxuICAgIGlmIChwYXJlbnRTdGFjaykge1xuICAgICAgcGFyZW50U3RhY2suekluZGV4LmNoaWxkcmVuLnB1c2goc3RhY2spO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckltYWdlKGN0eCwgZWxlbWVudCwgaW1hZ2UsIGJvdW5kcywgYm9yZGVycykge1xuXG4gICAgdmFyIHBhZGRpbmdMZWZ0ID0gZ2V0Q1NTSW50KGVsZW1lbnQsICdwYWRkaW5nTGVmdCcpLFxuICAgIHBhZGRpbmdUb3AgPSBnZXRDU1NJbnQoZWxlbWVudCwgJ3BhZGRpbmdUb3AnKSxcbiAgICBwYWRkaW5nUmlnaHQgPSBnZXRDU1NJbnQoZWxlbWVudCwgJ3BhZGRpbmdSaWdodCcpLFxuICAgIHBhZGRpbmdCb3R0b20gPSBnZXRDU1NJbnQoZWxlbWVudCwgJ3BhZGRpbmdCb3R0b20nKTtcblxuICAgIGRyYXdJbWFnZShcbiAgICAgIGN0eCxcbiAgICAgIGltYWdlLFxuICAgICAgMCwgLy9zeFxuICAgICAgMCwgLy9zeVxuICAgICAgaW1hZ2Uud2lkdGgsIC8vc3dcbiAgICAgIGltYWdlLmhlaWdodCwgLy9zaFxuICAgICAgYm91bmRzLmxlZnQgKyBwYWRkaW5nTGVmdCArIGJvcmRlcnNbM10ud2lkdGgsIC8vZHhcbiAgICAgIGJvdW5kcy50b3AgKyBwYWRkaW5nVG9wICsgYm9yZGVyc1swXS53aWR0aCwgLy8gZHlcbiAgICAgIGJvdW5kcy53aWR0aCAtIChib3JkZXJzWzFdLndpZHRoICsgYm9yZGVyc1szXS53aWR0aCArIHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0KSwgLy9kd1xuICAgICAgYm91bmRzLmhlaWdodCAtIChib3JkZXJzWzBdLndpZHRoICsgYm9yZGVyc1syXS53aWR0aCArIHBhZGRpbmdUb3AgKyBwYWRkaW5nQm90dG9tKSAvL2RoXG4gICAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Qm9yZGVyRGF0YShlbGVtZW50KSB7XG4gICAgcmV0dXJuIFtcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiXS5tYXAoZnVuY3Rpb24oc2lkZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IGdldENTU0ludChlbGVtZW50LCAnYm9yZGVyJyArIHNpZGUgKyAnV2lkdGgnKSxcbiAgICAgICAgY29sb3I6IGdldENTUyhlbGVtZW50LCAnYm9yZGVyJyArIHNpZGUgKyAnQ29sb3InKVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJvcmRlclJhZGl1c0RhdGEoZWxlbWVudCkge1xuICAgIHJldHVybiBbXCJUb3BMZWZ0XCIsIFwiVG9wUmlnaHRcIiwgXCJCb3R0b21SaWdodFwiLCBcIkJvdHRvbUxlZnRcIl0ubWFwKGZ1bmN0aW9uKHNpZGUpIHtcbiAgICAgIHJldHVybiBnZXRDU1MoZWxlbWVudCwgJ2JvcmRlcicgKyBzaWRlICsgJ1JhZGl1cycpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGdldEN1cnZlUG9pbnRzID0gKGZ1bmN0aW9uKGthcHBhKSB7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oeCwgeSwgcjEsIHIyKSB7XG4gICAgICB2YXIgb3ggPSAocjEpICoga2FwcGEsIC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IGhvcml6b250YWxcbiAgICAgIG95ID0gKHIyKSAqIGthcHBhLCAvLyBjb250cm9sIHBvaW50IG9mZnNldCB2ZXJ0aWNhbFxuICAgICAgeG0gPSB4ICsgcjEsIC8vIHgtbWlkZGxlXG4gICAgICB5bSA9IHkgKyByMjsgLy8geS1taWRkbGVcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcExlZnQ6IGJlemllckN1cnZlKHtcbiAgICAgICAgICB4OngsXG4gICAgICAgICAgeTp5bVxuICAgICAgICB9LCB7XG4gICAgICAgICAgeDp4LFxuICAgICAgICAgIHk6eW0gLSBveVxuICAgICAgICB9LCB7XG4gICAgICAgICAgeDp4bSAtIG94LFxuICAgICAgICAgIHk6eVxuICAgICAgICB9LCB7XG4gICAgICAgICAgeDp4bSxcbiAgICAgICAgICB5OnlcbiAgICAgICAgfSksXG4gICAgICAgIHRvcFJpZ2h0OiBiZXppZXJDdXJ2ZSh7XG4gICAgICAgICAgeDp4LFxuICAgICAgICAgIHk6eVxuICAgICAgICB9LCB7XG4gICAgICAgICAgeDp4ICsgb3gsXG4gICAgICAgICAgeTp5XG4gICAgICAgIH0sIHtcbiAgICAgICAgICB4OnhtLFxuICAgICAgICAgIHk6eW0gLSBveVxuICAgICAgICB9LCB7XG4gICAgICAgICAgeDp4bSxcbiAgICAgICAgICB5OnltXG4gICAgICAgIH0pLFxuICAgICAgICBib3R0b21SaWdodDogYmV6aWVyQ3VydmUoe1xuICAgICAgICAgIHg6eG0sXG4gICAgICAgICAgeTp5XG4gICAgICAgIH0sIHtcbiAgICAgICAgICB4OnhtLFxuICAgICAgICAgIHk6eSArIG95XG4gICAgICAgIH0sIHtcbiAgICAgICAgICB4OnggKyBveCxcbiAgICAgICAgICB5OnltXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB4OngsXG4gICAgICAgICAgeTp5bVxuICAgICAgICB9KSxcbiAgICAgICAgYm90dG9tTGVmdDogYmV6aWVyQ3VydmUoe1xuICAgICAgICAgIHg6eG0sXG4gICAgICAgICAgeTp5bVxuICAgICAgICB9LCB7XG4gICAgICAgICAgeDp4bSAtIG94LFxuICAgICAgICAgIHk6eW1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHg6eCxcbiAgICAgICAgICB5OnkgKyBveVxuICAgICAgICB9LCB7XG4gICAgICAgICAgeDp4LFxuICAgICAgICAgIHk6eVxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9O1xuICB9KSg0ICogKChNYXRoLnNxcnQoMikgLSAxKSAvIDMpKTtcblxuICBmdW5jdGlvbiBiZXppZXJDdXJ2ZShzdGFydCwgc3RhcnRDb250cm9sLCBlbmRDb250cm9sLCBlbmQpIHtcblxuICAgIHZhciBsZXJwID0gZnVuY3Rpb24gKGEsIGIsIHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6YS54ICsgKGIueCAtIGEueCkgKiB0LFxuICAgICAgICB5OmEueSArIChiLnkgLSBhLnkpICogdFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgIHN0YXJ0Q29udHJvbDogc3RhcnRDb250cm9sLFxuICAgICAgZW5kQ29udHJvbDogZW5kQ29udHJvbCxcbiAgICAgIGVuZDogZW5kLFxuICAgICAgc3ViZGl2aWRlOiBmdW5jdGlvbih0KSB7XG4gICAgICAgIHZhciBhYiA9IGxlcnAoc3RhcnQsIHN0YXJ0Q29udHJvbCwgdCksXG4gICAgICAgIGJjID0gbGVycChzdGFydENvbnRyb2wsIGVuZENvbnRyb2wsIHQpLFxuICAgICAgICBjZCA9IGxlcnAoZW5kQ29udHJvbCwgZW5kLCB0KSxcbiAgICAgICAgYWJiYyA9IGxlcnAoYWIsIGJjLCB0KSxcbiAgICAgICAgYmNjZCA9IGxlcnAoYmMsIGNkLCB0KSxcbiAgICAgICAgZGVzdCA9IGxlcnAoYWJiYywgYmNjZCwgdCk7XG4gICAgICAgIHJldHVybiBbYmV6aWVyQ3VydmUoc3RhcnQsIGFiLCBhYmJjLCBkZXN0KSwgYmV6aWVyQ3VydmUoZGVzdCwgYmNjZCwgY2QsIGVuZCldO1xuICAgICAgfSxcbiAgICAgIGN1cnZlVG86IGZ1bmN0aW9uKGJvcmRlckFyZ3MpIHtcbiAgICAgICAgYm9yZGVyQXJncy5wdXNoKFtcImJlemllckN1cnZlXCIsIHN0YXJ0Q29udHJvbC54LCBzdGFydENvbnRyb2wueSwgZW5kQ29udHJvbC54LCBlbmRDb250cm9sLnksIGVuZC54LCBlbmQueV0pO1xuICAgICAgfSxcbiAgICAgIGN1cnZlVG9SZXZlcnNlZDogZnVuY3Rpb24oYm9yZGVyQXJncykge1xuICAgICAgICBib3JkZXJBcmdzLnB1c2goW1wiYmV6aWVyQ3VydmVcIiwgZW5kQ29udHJvbC54LCBlbmRDb250cm9sLnksIHN0YXJ0Q29udHJvbC54LCBzdGFydENvbnRyb2wueSwgc3RhcnQueCwgc3RhcnQueV0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUNvcm5lcihib3JkZXJBcmdzLCByYWRpdXMxLCByYWRpdXMyLCBjb3JuZXIxLCBjb3JuZXIyLCB4LCB5KSB7XG4gICAgaWYgKHJhZGl1czFbMF0gPiAwIHx8IHJhZGl1czFbMV0gPiAwKSB7XG4gICAgICBib3JkZXJBcmdzLnB1c2goW1wibGluZVwiLCBjb3JuZXIxWzBdLnN0YXJ0LngsIGNvcm5lcjFbMF0uc3RhcnQueV0pO1xuICAgICAgY29ybmVyMVswXS5jdXJ2ZVRvKGJvcmRlckFyZ3MpO1xuICAgICAgY29ybmVyMVsxXS5jdXJ2ZVRvKGJvcmRlckFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBib3JkZXJBcmdzLnB1c2goW1wibGluZVwiLCB4LCB5XSk7XG4gICAgfVxuXG4gICAgaWYgKHJhZGl1czJbMF0gPiAwIHx8IHJhZGl1czJbMV0gPiAwKSB7XG4gICAgICBib3JkZXJBcmdzLnB1c2goW1wibGluZVwiLCBjb3JuZXIyWzBdLnN0YXJ0LngsIGNvcm5lcjJbMF0uc3RhcnQueV0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdTaWRlKGJvcmRlckRhdGEsIHJhZGl1czEsIHJhZGl1czIsIG91dGVyMSwgaW5uZXIxLCBvdXRlcjIsIGlubmVyMikge1xuICAgIHZhciBib3JkZXJBcmdzID0gW107XG5cbiAgICBpZiAocmFkaXVzMVswXSA+IDAgfHwgcmFkaXVzMVsxXSA+IDApIHtcbiAgICAgIGJvcmRlckFyZ3MucHVzaChbXCJsaW5lXCIsIG91dGVyMVsxXS5zdGFydC54LCBvdXRlcjFbMV0uc3RhcnQueV0pO1xuICAgICAgb3V0ZXIxWzFdLmN1cnZlVG8oYm9yZGVyQXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvcmRlckFyZ3MucHVzaChbIFwibGluZVwiLCBib3JkZXJEYXRhLmMxWzBdLCBib3JkZXJEYXRhLmMxWzFdXSk7XG4gICAgfVxuXG4gICAgaWYgKHJhZGl1czJbMF0gPiAwIHx8IHJhZGl1czJbMV0gPiAwKSB7XG4gICAgICBib3JkZXJBcmdzLnB1c2goW1wibGluZVwiLCBvdXRlcjJbMF0uc3RhcnQueCwgb3V0ZXIyWzBdLnN0YXJ0LnldKTtcbiAgICAgIG91dGVyMlswXS5jdXJ2ZVRvKGJvcmRlckFyZ3MpO1xuICAgICAgYm9yZGVyQXJncy5wdXNoKFtcImxpbmVcIiwgaW5uZXIyWzBdLmVuZC54LCBpbm5lcjJbMF0uZW5kLnldKTtcbiAgICAgIGlubmVyMlswXS5jdXJ2ZVRvUmV2ZXJzZWQoYm9yZGVyQXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvcmRlckFyZ3MucHVzaChbIFwibGluZVwiLCBib3JkZXJEYXRhLmMyWzBdLCBib3JkZXJEYXRhLmMyWzFdXSk7XG4gICAgICBib3JkZXJBcmdzLnB1c2goWyBcImxpbmVcIiwgYm9yZGVyRGF0YS5jM1swXSwgYm9yZGVyRGF0YS5jM1sxXV0pO1xuICAgIH1cblxuICAgIGlmIChyYWRpdXMxWzBdID4gMCB8fCByYWRpdXMxWzFdID4gMCkge1xuICAgICAgYm9yZGVyQXJncy5wdXNoKFtcImxpbmVcIiwgaW5uZXIxWzFdLmVuZC54LCBpbm5lcjFbMV0uZW5kLnldKTtcbiAgICAgIGlubmVyMVsxXS5jdXJ2ZVRvUmV2ZXJzZWQoYm9yZGVyQXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvcmRlckFyZ3MucHVzaChbIFwibGluZVwiLCBib3JkZXJEYXRhLmM0WzBdLCBib3JkZXJEYXRhLmM0WzFdXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJvcmRlckFyZ3M7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVDdXJ2ZVBvaW50cyhib3VuZHMsIGJvcmRlclJhZGl1cywgYm9yZGVycykge1xuXG4gICAgdmFyIHggPSBib3VuZHMubGVmdCxcbiAgICB5ID0gYm91bmRzLnRvcCxcbiAgICB3aWR0aCA9IGJvdW5kcy53aWR0aCxcbiAgICBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0LFxuXG4gICAgdGxoID0gYm9yZGVyUmFkaXVzWzBdWzBdLFxuICAgIHRsdiA9IGJvcmRlclJhZGl1c1swXVsxXSxcbiAgICB0cmggPSBib3JkZXJSYWRpdXNbMV1bMF0sXG4gICAgdHJ2ID0gYm9yZGVyUmFkaXVzWzFdWzFdLFxuICAgIGJyaCA9IGJvcmRlclJhZGl1c1syXVswXSxcbiAgICBicnYgPSBib3JkZXJSYWRpdXNbMl1bMV0sXG4gICAgYmxoID0gYm9yZGVyUmFkaXVzWzNdWzBdLFxuICAgIGJsdiA9IGJvcmRlclJhZGl1c1szXVsxXSxcblxuICAgIHRvcFdpZHRoID0gd2lkdGggLSB0cmgsXG4gICAgcmlnaHRIZWlnaHQgPSBoZWlnaHQgLSBicnYsXG4gICAgYm90dG9tV2lkdGggPSB3aWR0aCAtIGJyaCxcbiAgICBsZWZ0SGVpZ2h0ID0gaGVpZ2h0IC0gYmx2O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcExlZnRPdXRlcjogZ2V0Q3VydmVQb2ludHMoXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHRsaCxcbiAgICAgICAgdGx2XG4gICAgICAgICkudG9wTGVmdC5zdWJkaXZpZGUoMC41KSxcblxuICAgICAgdG9wTGVmdElubmVyOiBnZXRDdXJ2ZVBvaW50cyhcbiAgICAgICAgeCArIGJvcmRlcnNbM10ud2lkdGgsXG4gICAgICAgIHkgKyBib3JkZXJzWzBdLndpZHRoLFxuICAgICAgICBNYXRoLm1heCgwLCB0bGggLSBib3JkZXJzWzNdLndpZHRoKSxcbiAgICAgICAgTWF0aC5tYXgoMCwgdGx2IC0gYm9yZGVyc1swXS53aWR0aClcbiAgICAgICAgKS50b3BMZWZ0LnN1YmRpdmlkZSgwLjUpLFxuXG4gICAgICB0b3BSaWdodE91dGVyOiBnZXRDdXJ2ZVBvaW50cyhcbiAgICAgICAgeCArIHRvcFdpZHRoLFxuICAgICAgICB5LFxuICAgICAgICB0cmgsXG4gICAgICAgIHRydlxuICAgICAgICApLnRvcFJpZ2h0LnN1YmRpdmlkZSgwLjUpLFxuXG4gICAgICB0b3BSaWdodElubmVyOiBnZXRDdXJ2ZVBvaW50cyhcbiAgICAgICAgeCArIE1hdGgubWluKHRvcFdpZHRoLCB3aWR0aCArIGJvcmRlcnNbM10ud2lkdGgpLFxuICAgICAgICB5ICsgYm9yZGVyc1swXS53aWR0aCxcbiAgICAgICAgKHRvcFdpZHRoID4gd2lkdGggKyBib3JkZXJzWzNdLndpZHRoKSA/IDAgOnRyaCAtIGJvcmRlcnNbM10ud2lkdGgsXG4gICAgICAgIHRydiAtIGJvcmRlcnNbMF0ud2lkdGhcbiAgICAgICAgKS50b3BSaWdodC5zdWJkaXZpZGUoMC41KSxcblxuICAgICAgYm90dG9tUmlnaHRPdXRlcjogZ2V0Q3VydmVQb2ludHMoXG4gICAgICAgIHggKyBib3R0b21XaWR0aCxcbiAgICAgICAgeSArIHJpZ2h0SGVpZ2h0LFxuICAgICAgICBicmgsXG4gICAgICAgIGJydlxuICAgICAgICApLmJvdHRvbVJpZ2h0LnN1YmRpdmlkZSgwLjUpLFxuXG4gICAgICBib3R0b21SaWdodElubmVyOiBnZXRDdXJ2ZVBvaW50cyhcbiAgICAgICAgeCArIE1hdGgubWluKGJvdHRvbVdpZHRoLCB3aWR0aCArIGJvcmRlcnNbM10ud2lkdGgpLFxuICAgICAgICB5ICsgTWF0aC5taW4ocmlnaHRIZWlnaHQsIGhlaWdodCArIGJvcmRlcnNbMF0ud2lkdGgpLFxuICAgICAgICBNYXRoLm1heCgwLCBicmggLSBib3JkZXJzWzFdLndpZHRoKSxcbiAgICAgICAgTWF0aC5tYXgoMCwgYnJ2IC0gYm9yZGVyc1syXS53aWR0aClcbiAgICAgICAgKS5ib3R0b21SaWdodC5zdWJkaXZpZGUoMC41KSxcblxuICAgICAgYm90dG9tTGVmdE91dGVyOiBnZXRDdXJ2ZVBvaW50cyhcbiAgICAgICAgeCxcbiAgICAgICAgeSArIGxlZnRIZWlnaHQsXG4gICAgICAgIGJsaCxcbiAgICAgICAgYmx2XG4gICAgICAgICkuYm90dG9tTGVmdC5zdWJkaXZpZGUoMC41KSxcblxuICAgICAgYm90dG9tTGVmdElubmVyOiBnZXRDdXJ2ZVBvaW50cyhcbiAgICAgICAgeCArIGJvcmRlcnNbM10ud2lkdGgsXG4gICAgICAgIHkgKyBsZWZ0SGVpZ2h0LFxuICAgICAgICBNYXRoLm1heCgwLCBibGggLSBib3JkZXJzWzNdLndpZHRoKSxcbiAgICAgICAgTWF0aC5tYXgoMCwgYmx2IC0gYm9yZGVyc1syXS53aWR0aClcbiAgICAgICAgKS5ib3R0b21MZWZ0LnN1YmRpdmlkZSgwLjUpXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJvcmRlckNsaXAoZWxlbWVudCwgYm9yZGVyUG9pbnRzLCBib3JkZXJzLCByYWRpdXMsIGJvdW5kcykge1xuICAgIHZhciBiYWNrZ3JvdW5kQ2xpcCA9IGdldENTUyhlbGVtZW50LCAnYmFja2dyb3VuZENsaXAnKSxcbiAgICBib3JkZXJBcmdzID0gW107XG5cbiAgICBzd2l0Y2goYmFja2dyb3VuZENsaXApIHtcbiAgICAgIGNhc2UgXCJjb250ZW50LWJveFwiOlxuICAgICAgY2FzZSBcInBhZGRpbmctYm94XCI6XG4gICAgICAgIHBhcnNlQ29ybmVyKGJvcmRlckFyZ3MsIHJhZGl1c1swXSwgcmFkaXVzWzFdLCBib3JkZXJQb2ludHMudG9wTGVmdElubmVyLCBib3JkZXJQb2ludHMudG9wUmlnaHRJbm5lciwgYm91bmRzLmxlZnQgKyBib3JkZXJzWzNdLndpZHRoLCBib3VuZHMudG9wICsgYm9yZGVyc1swXS53aWR0aCk7XG4gICAgICAgIHBhcnNlQ29ybmVyKGJvcmRlckFyZ3MsIHJhZGl1c1sxXSwgcmFkaXVzWzJdLCBib3JkZXJQb2ludHMudG9wUmlnaHRJbm5lciwgYm9yZGVyUG9pbnRzLmJvdHRvbVJpZ2h0SW5uZXIsIGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoIC0gYm9yZGVyc1sxXS53aWR0aCwgYm91bmRzLnRvcCArIGJvcmRlcnNbMF0ud2lkdGgpO1xuICAgICAgICBwYXJzZUNvcm5lcihib3JkZXJBcmdzLCByYWRpdXNbMl0sIHJhZGl1c1szXSwgYm9yZGVyUG9pbnRzLmJvdHRvbVJpZ2h0SW5uZXIsIGJvcmRlclBvaW50cy5ib3R0b21MZWZ0SW5uZXIsIGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoIC0gYm9yZGVyc1sxXS53aWR0aCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQgLSBib3JkZXJzWzJdLndpZHRoKTtcbiAgICAgICAgcGFyc2VDb3JuZXIoYm9yZGVyQXJncywgcmFkaXVzWzNdLCByYWRpdXNbMF0sIGJvcmRlclBvaW50cy5ib3R0b21MZWZ0SW5uZXIsIGJvcmRlclBvaW50cy50b3BMZWZ0SW5uZXIsIGJvdW5kcy5sZWZ0ICsgYm9yZGVyc1szXS53aWR0aCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQgLSBib3JkZXJzWzJdLndpZHRoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHBhcnNlQ29ybmVyKGJvcmRlckFyZ3MsIHJhZGl1c1swXSwgcmFkaXVzWzFdLCBib3JkZXJQb2ludHMudG9wTGVmdE91dGVyLCBib3JkZXJQb2ludHMudG9wUmlnaHRPdXRlciwgYm91bmRzLmxlZnQsIGJvdW5kcy50b3ApO1xuICAgICAgICBwYXJzZUNvcm5lcihib3JkZXJBcmdzLCByYWRpdXNbMV0sIHJhZGl1c1syXSwgYm9yZGVyUG9pbnRzLnRvcFJpZ2h0T3V0ZXIsIGJvcmRlclBvaW50cy5ib3R0b21SaWdodE91dGVyLCBib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCwgYm91bmRzLnRvcCk7XG4gICAgICAgIHBhcnNlQ29ybmVyKGJvcmRlckFyZ3MsIHJhZGl1c1syXSwgcmFkaXVzWzNdLCBib3JkZXJQb2ludHMuYm90dG9tUmlnaHRPdXRlciwgYm9yZGVyUG9pbnRzLmJvdHRvbUxlZnRPdXRlciwgYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgcGFyc2VDb3JuZXIoYm9yZGVyQXJncywgcmFkaXVzWzNdLCByYWRpdXNbMF0sIGJvcmRlclBvaW50cy5ib3R0b21MZWZ0T3V0ZXIsIGJvcmRlclBvaW50cy50b3BMZWZ0T3V0ZXIsIGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBib3JkZXJBcmdzO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VCb3JkZXJzKGVsZW1lbnQsIGJvdW5kcywgYm9yZGVycyl7XG4gICAgdmFyIHggPSBib3VuZHMubGVmdCxcbiAgICB5ID0gYm91bmRzLnRvcCxcbiAgICB3aWR0aCA9IGJvdW5kcy53aWR0aCxcbiAgICBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0LFxuICAgIGJvcmRlclNpZGUsXG4gICAgYngsXG4gICAgYnksXG4gICAgYncsXG4gICAgYmgsXG4gICAgYm9yZGVyQXJncyxcbiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWJhY2tncm91bmQvI3RoZS1ib3JkZXItcmFkaXVzXG4gICAgYm9yZGVyUmFkaXVzID0gZ2V0Qm9yZGVyUmFkaXVzRGF0YShlbGVtZW50KSxcbiAgICBib3JkZXJQb2ludHMgPSBjYWxjdWxhdGVDdXJ2ZVBvaW50cyhib3VuZHMsIGJvcmRlclJhZGl1cywgYm9yZGVycyksXG4gICAgYm9yZGVyRGF0YSA9IHtcbiAgICAgIGNsaXA6IGdldEJvcmRlckNsaXAoZWxlbWVudCwgYm9yZGVyUG9pbnRzLCBib3JkZXJzLCBib3JkZXJSYWRpdXMsIGJvdW5kcyksXG4gICAgICBib3JkZXJzOiBbXVxuICAgIH07XG5cbiAgICBmb3IgKGJvcmRlclNpZGUgPSAwOyBib3JkZXJTaWRlIDwgNDsgYm9yZGVyU2lkZSsrKSB7XG5cbiAgICAgIGlmIChib3JkZXJzW2JvcmRlclNpZGVdLndpZHRoID4gMCkge1xuICAgICAgICBieCA9IHg7XG4gICAgICAgIGJ5ID0geTtcbiAgICAgICAgYncgPSB3aWR0aDtcbiAgICAgICAgYmggPSBoZWlnaHQgLSAoYm9yZGVyc1syXS53aWR0aCk7XG5cbiAgICAgICAgc3dpdGNoKGJvcmRlclNpZGUpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAvLyB0b3AgYm9yZGVyXG4gICAgICAgICAgICBiaCA9IGJvcmRlcnNbMF0ud2lkdGg7XG5cbiAgICAgICAgICAgIGJvcmRlckFyZ3MgPSBkcmF3U2lkZSh7XG4gICAgICAgICAgICAgIGMxOiBbYngsIGJ5XSxcbiAgICAgICAgICAgICAgYzI6IFtieCArIGJ3LCBieV0sXG4gICAgICAgICAgICAgIGMzOiBbYnggKyBidyAtIGJvcmRlcnNbMV0ud2lkdGgsIGJ5ICsgYmhdLFxuICAgICAgICAgICAgICBjNDogW2J4ICsgYm9yZGVyc1szXS53aWR0aCwgYnkgKyBiaF1cbiAgICAgICAgICAgIH0sIGJvcmRlclJhZGl1c1swXSwgYm9yZGVyUmFkaXVzWzFdLFxuICAgICAgICAgICAgYm9yZGVyUG9pbnRzLnRvcExlZnRPdXRlciwgYm9yZGVyUG9pbnRzLnRvcExlZnRJbm5lciwgYm9yZGVyUG9pbnRzLnRvcFJpZ2h0T3V0ZXIsIGJvcmRlclBvaW50cy50b3BSaWdodElubmVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIC8vIHJpZ2h0IGJvcmRlclxuICAgICAgICAgICAgYnggPSB4ICsgd2lkdGggLSAoYm9yZGVyc1sxXS53aWR0aCk7XG4gICAgICAgICAgICBidyA9IGJvcmRlcnNbMV0ud2lkdGg7XG5cbiAgICAgICAgICAgIGJvcmRlckFyZ3MgPSBkcmF3U2lkZSh7XG4gICAgICAgICAgICAgIGMxOiBbYnggKyBidywgYnldLFxuICAgICAgICAgICAgICBjMjogW2J4ICsgYncsIGJ5ICsgYmggKyBib3JkZXJzWzJdLndpZHRoXSxcbiAgICAgICAgICAgICAgYzM6IFtieCwgYnkgKyBiaF0sXG4gICAgICAgICAgICAgIGM0OiBbYngsIGJ5ICsgYm9yZGVyc1swXS53aWR0aF1cbiAgICAgICAgICAgIH0sIGJvcmRlclJhZGl1c1sxXSwgYm9yZGVyUmFkaXVzWzJdLFxuICAgICAgICAgICAgYm9yZGVyUG9pbnRzLnRvcFJpZ2h0T3V0ZXIsIGJvcmRlclBvaW50cy50b3BSaWdodElubmVyLCBib3JkZXJQb2ludHMuYm90dG9tUmlnaHRPdXRlciwgYm9yZGVyUG9pbnRzLmJvdHRvbVJpZ2h0SW5uZXIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgLy8gYm90dG9tIGJvcmRlclxuICAgICAgICAgICAgYnkgPSAoYnkgKyBoZWlnaHQpIC0gKGJvcmRlcnNbMl0ud2lkdGgpO1xuICAgICAgICAgICAgYmggPSBib3JkZXJzWzJdLndpZHRoO1xuXG4gICAgICAgICAgICBib3JkZXJBcmdzID0gZHJhd1NpZGUoe1xuICAgICAgICAgICAgICBjMTogW2J4ICsgYncsIGJ5ICsgYmhdLFxuICAgICAgICAgICAgICBjMjogW2J4LCBieSArIGJoXSxcbiAgICAgICAgICAgICAgYzM6IFtieCArIGJvcmRlcnNbM10ud2lkdGgsIGJ5XSxcbiAgICAgICAgICAgICAgYzQ6IFtieCArIGJ3IC0gYm9yZGVyc1szXS53aWR0aCwgYnldXG4gICAgICAgICAgICB9LCBib3JkZXJSYWRpdXNbMl0sIGJvcmRlclJhZGl1c1szXSxcbiAgICAgICAgICAgIGJvcmRlclBvaW50cy5ib3R0b21SaWdodE91dGVyLCBib3JkZXJQb2ludHMuYm90dG9tUmlnaHRJbm5lciwgYm9yZGVyUG9pbnRzLmJvdHRvbUxlZnRPdXRlciwgYm9yZGVyUG9pbnRzLmJvdHRvbUxlZnRJbm5lcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAvLyBsZWZ0IGJvcmRlclxuICAgICAgICAgICAgYncgPSBib3JkZXJzWzNdLndpZHRoO1xuXG4gICAgICAgICAgICBib3JkZXJBcmdzID0gZHJhd1NpZGUoe1xuICAgICAgICAgICAgICBjMTogW2J4LCBieSArIGJoICsgYm9yZGVyc1syXS53aWR0aF0sXG4gICAgICAgICAgICAgIGMyOiBbYngsIGJ5XSxcbiAgICAgICAgICAgICAgYzM6IFtieCArIGJ3LCBieSArIGJvcmRlcnNbMF0ud2lkdGhdLFxuICAgICAgICAgICAgICBjNDogW2J4ICsgYncsIGJ5ICsgYmhdXG4gICAgICAgICAgICB9LCBib3JkZXJSYWRpdXNbM10sIGJvcmRlclJhZGl1c1swXSxcbiAgICAgICAgICAgIGJvcmRlclBvaW50cy5ib3R0b21MZWZ0T3V0ZXIsIGJvcmRlclBvaW50cy5ib3R0b21MZWZ0SW5uZXIsIGJvcmRlclBvaW50cy50b3BMZWZ0T3V0ZXIsIGJvcmRlclBvaW50cy50b3BMZWZ0SW5uZXIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBib3JkZXJEYXRhLmJvcmRlcnMucHVzaCh7XG4gICAgICAgICAgYXJnczogYm9yZGVyQXJncyxcbiAgICAgICAgICBjb2xvcjogYm9yZGVyc1tib3JkZXJTaWRlXS5jb2xvclxuICAgICAgICB9KTtcblxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBib3JkZXJEYXRhO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGUoY3R4LCBhcmdzKSB7XG4gICAgdmFyIHNoYXBlID0gY3R4LmRyYXdTaGFwZSgpO1xuICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbihib3JkZXIsIGluZGV4KSB7XG4gICAgICBzaGFwZVsoaW5kZXggPT09IDApID8gXCJtb3ZlVG9cIiA6IGJvcmRlclswXSArIFwiVG9cIiBdLmFwcGx5KG51bGwsIGJvcmRlci5zbGljZSgxKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNoYXBlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyQm9yZGVycyhjdHgsIGJvcmRlckFyZ3MsIGNvbG9yKSB7XG4gICAgaWYgKGNvbG9yICE9PSBcInRyYW5zcGFyZW50XCIpIHtcbiAgICAgIGN0eC5zZXRWYXJpYWJsZSggXCJmaWxsU3R5bGVcIiwgY29sb3IpO1xuICAgICAgY3JlYXRlU2hhcGUoY3R4LCBib3JkZXJBcmdzKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgICBudW1EcmF3cys9MTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJGb3JtVmFsdWUgKGVsLCBib3VuZHMsIHN0YWNrKXtcblxuICAgIHZhciB2YWx1ZVdyYXAgPSBkb2MuY3JlYXRlRWxlbWVudCgndmFsdWV3cmFwJyksXG4gICAgY3NzUHJvcGVydHlBcnJheSA9IFsnbGluZUhlaWdodCcsJ3RleHRBbGlnbicsJ2ZvbnRGYW1pbHknLCdjb2xvcicsJ2ZvbnRTaXplJywncGFkZGluZ0xlZnQnLCdwYWRkaW5nVG9wJywnd2lkdGgnLCdoZWlnaHQnLCdib3JkZXInLCdib3JkZXJMZWZ0V2lkdGgnLCdib3JkZXJUb3BXaWR0aCddLFxuICAgIHRleHRWYWx1ZSxcbiAgICB0ZXh0Tm9kZTtcblxuICAgIGNzc1Byb3BlcnR5QXJyYXkuZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVXcmFwLnN0eWxlW3Byb3BlcnR5XSA9IGdldENTUyhlbCwgcHJvcGVydHkpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIC8vIE9sZGVyIElFIGhhcyBpc3N1ZXMgd2l0aCBcImJvcmRlclwiXG4gICAgICAgIFV0aWwubG9nKFwiaHRtbDJjYW52YXM6IFBhcnNlOiBFeGNlcHRpb24gY2F1Z2h0IGluIHJlbmRlckZvcm1WYWx1ZTogXCIgKyBlLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFsdWVXcmFwLnN0eWxlLmJvcmRlckNvbG9yID0gXCJibGFja1wiO1xuICAgIHZhbHVlV3JhcC5zdHlsZS5ib3JkZXJTdHlsZSA9IFwic29saWRcIjtcbiAgICB2YWx1ZVdyYXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB2YWx1ZVdyYXAuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG5cbiAgICBpZiAoL14oc3VibWl0fHJlc2V0fGJ1dHRvbnx0ZXh0fHBhc3N3b3JkKSQvLnRlc3QoZWwudHlwZSkgfHwgZWwubm9kZU5hbWUgPT09IFwiU0VMRUNUXCIpe1xuICAgICAgdmFsdWVXcmFwLnN0eWxlLmxpbmVIZWlnaHQgPSBnZXRDU1MoZWwsIFwiaGVpZ2h0XCIpO1xuICAgIH1cblxuICAgIHZhbHVlV3JhcC5zdHlsZS50b3AgPSBib3VuZHMudG9wICsgXCJweFwiO1xuICAgIHZhbHVlV3JhcC5zdHlsZS5sZWZ0ID0gYm91bmRzLmxlZnQgKyBcInB4XCI7XG5cbiAgICB0ZXh0VmFsdWUgPSAoZWwubm9kZU5hbWUgPT09IFwiU0VMRUNUXCIpID8gKGVsLm9wdGlvbnNbZWwuc2VsZWN0ZWRJbmRleF0gfHwgMCkudGV4dCA6IGVsLnZhbHVlO1xuICAgIGlmKCF0ZXh0VmFsdWUpIHtcbiAgICAgIHRleHRWYWx1ZSA9IGVsLnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIHRleHROb2RlID0gZG9jLmNyZWF0ZVRleHROb2RlKHRleHRWYWx1ZSk7XG5cbiAgICB2YWx1ZVdyYXAuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQodmFsdWVXcmFwKTtcblxuICAgIHJlbmRlclRleHQoZWwsIHRleHROb2RlLCBzdGFjayk7XG4gICAgYm9keS5yZW1vdmVDaGlsZCh2YWx1ZVdyYXApO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd0ltYWdlIChjdHgpIHtcbiAgICBjdHguZHJhd0ltYWdlLmFwcGx5KGN0eCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgbnVtRHJhd3MrPTE7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQc2V1ZG9FbGVtZW50KGVsLCB3aGljaCkge1xuICAgIHZhciBlbFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIHdoaWNoKTtcbiAgICBpZighZWxTdHlsZSB8fCAhZWxTdHlsZS5jb250ZW50IHx8IGVsU3R5bGUuY29udGVudCA9PT0gXCJub25lXCIgfHwgZWxTdHlsZS5jb250ZW50ID09PSBcIi1tb3otYWx0LWNvbnRlbnRcIiB8fCBlbFN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjb250ZW50ID0gZWxTdHlsZS5jb250ZW50ICsgJycsXG4gICAgZmlyc3QgPSBjb250ZW50LnN1YnN0ciggMCwgMSApO1xuICAgIC8vc3RyaXBzIHF1b3Rlc1xuICAgIGlmKGZpcnN0ID09PSBjb250ZW50LnN1YnN0ciggY29udGVudC5sZW5ndGggLSAxICkgJiYgZmlyc3QubWF0Y2goLyd8XCIvKSkge1xuICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyKCAxLCBjb250ZW50Lmxlbmd0aCAtIDIgKTtcbiAgICB9XG5cbiAgICB2YXIgaXNJbWFnZSA9IGNvbnRlbnQuc3Vic3RyKCAwLCAzICkgPT09ICd1cmwnLFxuICAgIGVscHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBpc0ltYWdlID8gJ2ltZycgOiAnc3BhbicgKTtcblxuICAgIGVscHMuY2xhc3NOYW1lID0gcHNldWRvSGlkZSArIFwiLWJlZm9yZSBcIiArIHBzZXVkb0hpZGUgKyBcIi1hZnRlclwiO1xuXG4gICAgT2JqZWN0LmtleXMoZWxTdHlsZSkuZmlsdGVyKGluZGV4ZWRQcm9wZXJ0eSkuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG4gICAgICAvLyBQcmV2ZW50IGFzc2lnbmluZyBvZiByZWFkIG9ubHkgQ1NTIFJ1bGVzLCBleC4gbGVuZ3RoLCBwYXJlbnRSdWxlXG4gICAgICB0cnkge1xuICAgICAgICBlbHBzLnN0eWxlW3Byb3BdID0gZWxTdHlsZVtwcm9wXTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgVXRpbC5sb2coWydUcmllZCB0byBhc3NpZ24gcmVhZG9ubHkgcHJvcGVydHkgJywgcHJvcCwgJ0Vycm9yOicsIGVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmKGlzSW1hZ2UpIHtcbiAgICAgIGVscHMuc3JjID0gVXRpbC5wYXJzZUJhY2tncm91bmRJbWFnZShjb250ZW50KVswXS5hcmdzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbHBzLmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgfVxuICAgIHJldHVybiBlbHBzO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5kZXhlZFByb3BlcnR5KHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIChpc05hTih3aW5kb3cucGFyc2VJbnQocHJvcGVydHksIDEwKSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5qZWN0UHNldWRvRWxlbWVudHMoZWwsIHN0YWNrKSB7XG4gICAgdmFyIGJlZm9yZSA9IGdldFBzZXVkb0VsZW1lbnQoZWwsICc6YmVmb3JlJyksXG4gICAgYWZ0ZXIgPSBnZXRQc2V1ZG9FbGVtZW50KGVsLCAnOmFmdGVyJyk7XG4gICAgaWYoIWJlZm9yZSAmJiAhYWZ0ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZihiZWZvcmUpIHtcbiAgICAgIGVsLmNsYXNzTmFtZSArPSBcIiBcIiArIHBzZXVkb0hpZGUgKyBcIi1iZWZvcmVcIjtcbiAgICAgIGVsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJlZm9yZSwgZWwpO1xuICAgICAgcGFyc2VFbGVtZW50KGJlZm9yZSwgc3RhY2ssIHRydWUpO1xuICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiZWZvcmUpO1xuICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UocHNldWRvSGlkZSArIFwiLWJlZm9yZVwiLCBcIlwiKS50cmltKCk7XG4gICAgfVxuXG4gICAgaWYgKGFmdGVyKSB7XG4gICAgICBlbC5jbGFzc05hbWUgKz0gXCIgXCIgKyBwc2V1ZG9IaWRlICsgXCItYWZ0ZXJcIjtcbiAgICAgIGVsLmFwcGVuZENoaWxkKGFmdGVyKTtcbiAgICAgIHBhcnNlRWxlbWVudChhZnRlciwgc3RhY2ssIHRydWUpO1xuICAgICAgZWwucmVtb3ZlQ2hpbGQoYWZ0ZXIpO1xuICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UocHNldWRvSGlkZSArIFwiLWFmdGVyXCIsIFwiXCIpLnRyaW0oKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckJhY2tncm91bmRSZXBlYXQoY3R4LCBpbWFnZSwgYmFja2dyb3VuZFBvc2l0aW9uLCBib3VuZHMpIHtcbiAgICB2YXIgb2Zmc2V0WCA9IE1hdGgucm91bmQoYm91bmRzLmxlZnQgKyBiYWNrZ3JvdW5kUG9zaXRpb24ubGVmdCksXG4gICAgb2Zmc2V0WSA9IE1hdGgucm91bmQoYm91bmRzLnRvcCArIGJhY2tncm91bmRQb3NpdGlvbi50b3ApO1xuXG4gICAgY3R4LmNyZWF0ZVBhdHRlcm4oaW1hZ2UpO1xuICAgIGN0eC50cmFuc2xhdGUob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHgudHJhbnNsYXRlKC1vZmZzZXRYLCAtb2Zmc2V0WSk7XG4gIH1cblxuICBmdW5jdGlvbiBiYWNrZ3JvdW5kUmVwZWF0U2hhcGUoY3R4LCBpbWFnZSwgYmFja2dyb3VuZFBvc2l0aW9uLCBib3VuZHMsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgYXJncy5wdXNoKFtcImxpbmVcIiwgTWF0aC5yb3VuZChsZWZ0KSwgTWF0aC5yb3VuZCh0b3ApXSk7XG4gICAgYXJncy5wdXNoKFtcImxpbmVcIiwgTWF0aC5yb3VuZChsZWZ0ICsgd2lkdGgpLCBNYXRoLnJvdW5kKHRvcCldKTtcbiAgICBhcmdzLnB1c2goW1wibGluZVwiLCBNYXRoLnJvdW5kKGxlZnQgKyB3aWR0aCksIE1hdGgucm91bmQoaGVpZ2h0ICsgdG9wKV0pO1xuICAgIGFyZ3MucHVzaChbXCJsaW5lXCIsIE1hdGgucm91bmQobGVmdCksIE1hdGgucm91bmQoaGVpZ2h0ICsgdG9wKV0pO1xuICAgIGNyZWF0ZVNoYXBlKGN0eCwgYXJncyk7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguY2xpcCgpO1xuICAgIHJlbmRlckJhY2tncm91bmRSZXBlYXQoY3R4LCBpbWFnZSwgYmFja2dyb3VuZFBvc2l0aW9uLCBib3VuZHMpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJCYWNrZ3JvdW5kQ29sb3IoY3R4LCBiYWNrZ3JvdW5kQm91bmRzLCBiZ2NvbG9yKSB7XG4gICAgcmVuZGVyUmVjdChcbiAgICAgIGN0eCxcbiAgICAgIGJhY2tncm91bmRCb3VuZHMubGVmdCxcbiAgICAgIGJhY2tncm91bmRCb3VuZHMudG9wLFxuICAgICAgYmFja2dyb3VuZEJvdW5kcy53aWR0aCxcbiAgICAgIGJhY2tncm91bmRCb3VuZHMuaGVpZ2h0LFxuICAgICAgYmdjb2xvclxuICAgICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckJhY2tncm91bmRSZXBlYXRpbmcoZWwsIGJvdW5kcywgY3R4LCBpbWFnZSwgaW1hZ2VJbmRleCkge1xuICAgIHZhciBiYWNrZ3JvdW5kU2l6ZSA9IFV0aWwuQmFja2dyb3VuZFNpemUoZWwsIGJvdW5kcywgaW1hZ2UsIGltYWdlSW5kZXgpLFxuICAgIGJhY2tncm91bmRQb3NpdGlvbiA9IFV0aWwuQmFja2dyb3VuZFBvc2l0aW9uKGVsLCBib3VuZHMsIGltYWdlLCBpbWFnZUluZGV4LCBiYWNrZ3JvdW5kU2l6ZSksXG4gICAgYmFja2dyb3VuZFJlcGVhdCA9IGdldENTUyhlbCwgXCJiYWNrZ3JvdW5kUmVwZWF0XCIpLnNwbGl0KFwiLFwiKS5tYXAoVXRpbC50cmltVGV4dCk7XG5cbiAgICBpbWFnZSA9IHJlc2l6ZUltYWdlKGltYWdlLCBiYWNrZ3JvdW5kU2l6ZSk7XG5cbiAgICBiYWNrZ3JvdW5kUmVwZWF0ID0gYmFja2dyb3VuZFJlcGVhdFtpbWFnZUluZGV4XSB8fCBiYWNrZ3JvdW5kUmVwZWF0WzBdO1xuXG4gICAgc3dpdGNoIChiYWNrZ3JvdW5kUmVwZWF0KSB7XG4gICAgICBjYXNlIFwicmVwZWF0LXhcIjpcbiAgICAgICAgYmFja2dyb3VuZFJlcGVhdFNoYXBlKGN0eCwgaW1hZ2UsIGJhY2tncm91bmRQb3NpdGlvbiwgYm91bmRzLFxuICAgICAgICAgIGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wICsgYmFja2dyb3VuZFBvc2l0aW9uLnRvcCwgOTk5OTksIGltYWdlLmhlaWdodCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwicmVwZWF0LXlcIjpcbiAgICAgICAgYmFja2dyb3VuZFJlcGVhdFNoYXBlKGN0eCwgaW1hZ2UsIGJhY2tncm91bmRQb3NpdGlvbiwgYm91bmRzLFxuICAgICAgICAgIGJvdW5kcy5sZWZ0ICsgYmFja2dyb3VuZFBvc2l0aW9uLmxlZnQsIGJvdW5kcy50b3AsIGltYWdlLndpZHRoLCA5OTk5OSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwibm8tcmVwZWF0XCI6XG4gICAgICAgIGJhY2tncm91bmRSZXBlYXRTaGFwZShjdHgsIGltYWdlLCBiYWNrZ3JvdW5kUG9zaXRpb24sIGJvdW5kcyxcbiAgICAgICAgICBib3VuZHMubGVmdCArIGJhY2tncm91bmRQb3NpdGlvbi5sZWZ0LCBib3VuZHMudG9wICsgYmFja2dyb3VuZFBvc2l0aW9uLnRvcCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZW5kZXJCYWNrZ3JvdW5kUmVwZWF0KGN0eCwgaW1hZ2UsIGJhY2tncm91bmRQb3NpdGlvbiwge1xuICAgICAgICAgIHRvcDogYm91bmRzLnRvcCxcbiAgICAgICAgICBsZWZ0OiBib3VuZHMubGVmdCxcbiAgICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBpbWFnZS5oZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckJhY2tncm91bmRJbWFnZShlbGVtZW50LCBib3VuZHMsIGN0eCkge1xuICAgIHZhciBiYWNrZ3JvdW5kSW1hZ2UgPSBnZXRDU1MoZWxlbWVudCwgXCJiYWNrZ3JvdW5kSW1hZ2VcIiksXG4gICAgYmFja2dyb3VuZEltYWdlcyA9IFV0aWwucGFyc2VCYWNrZ3JvdW5kSW1hZ2UoYmFja2dyb3VuZEltYWdlKSxcbiAgICBpbWFnZSxcbiAgICBpbWFnZUluZGV4ID0gYmFja2dyb3VuZEltYWdlcy5sZW5ndGg7XG5cbiAgICB3aGlsZShpbWFnZUluZGV4LS0pIHtcbiAgICAgIGJhY2tncm91bmRJbWFnZSA9IGJhY2tncm91bmRJbWFnZXNbaW1hZ2VJbmRleF07XG5cbiAgICAgIGlmICghYmFja2dyb3VuZEltYWdlLmFyZ3MgfHwgYmFja2dyb3VuZEltYWdlLmFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5ID0gYmFja2dyb3VuZEltYWdlLm1ldGhvZCA9PT0gJ3VybCcgP1xuICAgICAgYmFja2dyb3VuZEltYWdlLmFyZ3NbMF0gOlxuICAgICAgYmFja2dyb3VuZEltYWdlLnZhbHVlO1xuXG4gICAgICBpbWFnZSA9IGxvYWRJbWFnZShrZXkpO1xuXG4gICAgICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBiYWNrZ3JvdW5kLW9yaWdpblxuICAgICAgaWYgKGltYWdlKSB7XG4gICAgICAgIHJlbmRlckJhY2tncm91bmRSZXBlYXRpbmcoZWxlbWVudCwgYm91bmRzLCBjdHgsIGltYWdlLCBpbWFnZUluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFV0aWwubG9nKFwiaHRtbDJjYW52YXM6IEVycm9yIGxvYWRpbmcgYmFja2dyb3VuZDpcIiwgYmFja2dyb3VuZEltYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNpemVJbWFnZShpbWFnZSwgYm91bmRzKSB7XG4gICAgaWYoaW1hZ2Uud2lkdGggPT09IGJvdW5kcy53aWR0aCAmJiBpbWFnZS5oZWlnaHQgPT09IGJvdW5kcy5oZWlnaHQpIHtcbiAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9XG5cbiAgICB2YXIgY3R4LCBjYW52YXMgPSBkb2MuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gYm91bmRzLndpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBib3VuZHMuaGVpZ2h0O1xuICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgZHJhd0ltYWdlKGN0eCwgaW1hZ2UsIDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQsIDAsIDAsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCApO1xuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRPcGFjaXR5KGN0eCwgZWxlbWVudCwgcGFyZW50U3RhY2spIHtcbiAgICByZXR1cm4gY3R4LnNldFZhcmlhYmxlKFwiZ2xvYmFsQWxwaGFcIiwgZ2V0Q1NTKGVsZW1lbnQsIFwib3BhY2l0eVwiKSAqICgocGFyZW50U3RhY2spID8gcGFyZW50U3RhY2sub3BhY2l0eSA6IDEpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVB4KHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZShcInB4XCIsIFwiXCIpO1xuICB9XG5cbiAgdmFyIHRyYW5zZm9ybVJlZ0V4cCA9IC8obWF0cml4KVxcKCguKylcXCkvO1xuXG4gIGZ1bmN0aW9uIGdldFRyYW5zZm9ybShlbGVtZW50LCBwYXJlbnRTdGFjaykge1xuICAgIHZhciB0cmFuc2Zvcm0gPSBnZXRDU1MoZWxlbWVudCwgXCJ0cmFuc2Zvcm1cIikgfHwgZ2V0Q1NTKGVsZW1lbnQsIFwiLXdlYmtpdC10cmFuc2Zvcm1cIikgfHwgZ2V0Q1NTKGVsZW1lbnQsIFwiLW1vei10cmFuc2Zvcm1cIikgfHwgZ2V0Q1NTKGVsZW1lbnQsIFwiLW1zLXRyYW5zZm9ybVwiKSB8fCBnZXRDU1MoZWxlbWVudCwgXCItby10cmFuc2Zvcm1cIik7XG4gICAgdmFyIHRyYW5zZm9ybU9yaWdpbiA9IGdldENTUyhlbGVtZW50LCBcInRyYW5zZm9ybS1vcmlnaW5cIikgfHwgZ2V0Q1NTKGVsZW1lbnQsIFwiLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luXCIpIHx8IGdldENTUyhlbGVtZW50LCBcIi1tb3otdHJhbnNmb3JtLW9yaWdpblwiKSB8fCBnZXRDU1MoZWxlbWVudCwgXCItbXMtdHJhbnNmb3JtLW9yaWdpblwiKSB8fCBnZXRDU1MoZWxlbWVudCwgXCItby10cmFuc2Zvcm0tb3JpZ2luXCIpIHx8IFwiMHB4IDBweFwiO1xuXG4gICAgdHJhbnNmb3JtT3JpZ2luID0gdHJhbnNmb3JtT3JpZ2luLnNwbGl0KFwiIFwiKS5tYXAocmVtb3ZlUHgpLm1hcChVdGlsLmFzRmxvYXQpO1xuXG4gICAgdmFyIG1hdHJpeDtcbiAgICBpZiAodHJhbnNmb3JtICYmIHRyYW5zZm9ybSAhPT0gXCJub25lXCIpIHtcbiAgICAgIHZhciBtYXRjaCA9IHRyYW5zZm9ybS5tYXRjaCh0cmFuc2Zvcm1SZWdFeHApO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHN3aXRjaChtYXRjaFsxXSkge1xuICAgICAgICAgIGNhc2UgXCJtYXRyaXhcIjpcbiAgICAgICAgICAgIG1hdHJpeCA9IG1hdGNoWzJdLnNwbGl0KFwiLFwiKS5tYXAoVXRpbC50cmltVGV4dCkubWFwKFV0aWwuYXNGbG9hdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBvcmlnaW46IHRyYW5zZm9ybU9yaWdpbixcbiAgICAgIG1hdHJpeDogbWF0cml4XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVN0YWNrKGVsZW1lbnQsIHBhcmVudFN0YWNrLCBib3VuZHMsIHRyYW5zZm9ybSkge1xuICAgIHZhciBjdHggPSBoMmNSZW5kZXJDb250ZXh0KCghcGFyZW50U3RhY2spID8gZG9jdW1lbnRXaWR0aCgpIDogYm91bmRzLndpZHRoICwgKCFwYXJlbnRTdGFjaykgPyBkb2N1bWVudEhlaWdodCgpIDogYm91bmRzLmhlaWdodCksXG4gICAgc3RhY2sgPSB7XG4gICAgICBjdHg6IGN0eCxcbiAgICAgIG9wYWNpdHk6IHNldE9wYWNpdHkoY3R4LCBlbGVtZW50LCBwYXJlbnRTdGFjayksXG4gICAgICBjc3NQb3NpdGlvbjogZ2V0Q1NTKGVsZW1lbnQsIFwicG9zaXRpb25cIiksXG4gICAgICBib3JkZXJzOiBnZXRCb3JkZXJEYXRhKGVsZW1lbnQpLFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICBjbGlwOiAocGFyZW50U3RhY2sgJiYgcGFyZW50U3RhY2suY2xpcCkgPyBVdGlsLkV4dGVuZCgge30sIHBhcmVudFN0YWNrLmNsaXAgKSA6IG51bGxcbiAgICB9O1xuXG4gICAgc2V0WihlbGVtZW50LCBzdGFjaywgcGFyZW50U3RhY2spO1xuXG4gICAgLy8gVE9ETyBjb3JyZWN0IG92ZXJmbG93IGZvciBhYnNvbHV0ZSBjb250ZW50IHJlc2lkaW5nIHVuZGVyIGEgc3RhdGljIHBvc2l0aW9uXG4gICAgaWYgKG9wdGlvbnMudXNlT3ZlcmZsb3cgPT09IHRydWUgJiYgLyhoaWRkZW58c2Nyb2xsfGF1dG8pLy50ZXN0KGdldENTUyhlbGVtZW50LCBcIm92ZXJmbG93XCIpKSA9PT0gdHJ1ZSAmJiAvKEJPRFkpL2kudGVzdChlbGVtZW50Lm5vZGVOYW1lKSA9PT0gZmFsc2Upe1xuICAgICAgc3RhY2suY2xpcCA9IChzdGFjay5jbGlwKSA/IGNsaXBCb3VuZHMoc3RhY2suY2xpcCwgYm91bmRzKSA6IGJvdW5kcztcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhY2s7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCYWNrZ3JvdW5kQm91bmRzKGJvcmRlcnMsIGJvdW5kcywgY2xpcCkge1xuICAgIHZhciBiYWNrZ3JvdW5kQm91bmRzID0ge1xuICAgICAgbGVmdDogYm91bmRzLmxlZnQgKyBib3JkZXJzWzNdLndpZHRoLFxuICAgICAgdG9wOiBib3VuZHMudG9wICsgYm9yZGVyc1swXS53aWR0aCxcbiAgICAgIHdpZHRoOiBib3VuZHMud2lkdGggLSAoYm9yZGVyc1sxXS53aWR0aCArIGJvcmRlcnNbM10ud2lkdGgpLFxuICAgICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0IC0gKGJvcmRlcnNbMF0ud2lkdGggKyBib3JkZXJzWzJdLndpZHRoKVxuICAgIH07XG5cbiAgICBpZiAoY2xpcCkge1xuICAgICAgYmFja2dyb3VuZEJvdW5kcyA9IGNsaXBCb3VuZHMoYmFja2dyb3VuZEJvdW5kcywgY2xpcCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhY2tncm91bmRCb3VuZHM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCb3VuZHMoZWxlbWVudCwgdHJhbnNmb3JtKSB7XG4gICAgdmFyIGJvdW5kcyA9ICh0cmFuc2Zvcm0ubWF0cml4KSA/IFV0aWwuT2Zmc2V0Qm91bmRzKGVsZW1lbnQpIDogVXRpbC5Cb3VuZHMoZWxlbWVudCk7XG4gICAgdHJhbnNmb3JtLm9yaWdpblswXSArPSBib3VuZHMubGVmdDtcbiAgICB0cmFuc2Zvcm0ub3JpZ2luWzFdICs9IGJvdW5kcy50b3A7XG4gICAgcmV0dXJuIGJvdW5kcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckVsZW1lbnQoZWxlbWVudCwgcGFyZW50U3RhY2ssIHBzZXVkb0VsZW1lbnQsIGlnbm9yZUJhY2tncm91bmQpIHtcbiAgICB2YXIgdHJhbnNmb3JtID0gZ2V0VHJhbnNmb3JtKGVsZW1lbnQsIHBhcmVudFN0YWNrKSxcbiAgICBib3VuZHMgPSBnZXRCb3VuZHMoZWxlbWVudCwgdHJhbnNmb3JtKSxcbiAgICBpbWFnZSxcbiAgICBzdGFjayA9IGNyZWF0ZVN0YWNrKGVsZW1lbnQsIHBhcmVudFN0YWNrLCBib3VuZHMsIHRyYW5zZm9ybSksXG4gICAgYm9yZGVycyA9IHN0YWNrLmJvcmRlcnMsXG4gICAgY3R4ID0gc3RhY2suY3R4LFxuICAgIGJhY2tncm91bmRCb3VuZHMgPSBnZXRCYWNrZ3JvdW5kQm91bmRzKGJvcmRlcnMsIGJvdW5kcywgc3RhY2suY2xpcCksXG4gICAgYm9yZGVyRGF0YSA9IHBhcnNlQm9yZGVycyhlbGVtZW50LCBib3VuZHMsIGJvcmRlcnMpLFxuICAgIGJhY2tncm91bmRDb2xvciA9IChpZ25vcmVFbGVtZW50c1JlZ0V4cC50ZXN0KGVsZW1lbnQubm9kZU5hbWUpKSA/IFwiI2VmZWZlZlwiIDogZ2V0Q1NTKGVsZW1lbnQsIFwiYmFja2dyb3VuZENvbG9yXCIpO1xuXG5cbiAgICBjcmVhdGVTaGFwZShjdHgsIGJvcmRlckRhdGEuY2xpcCk7XG5cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5jbGlwKCk7XG5cbiAgICBpZiAoYmFja2dyb3VuZEJvdW5kcy5oZWlnaHQgPiAwICYmIGJhY2tncm91bmRCb3VuZHMud2lkdGggPiAwICYmICFpZ25vcmVCYWNrZ3JvdW5kKSB7XG4gICAgICByZW5kZXJCYWNrZ3JvdW5kQ29sb3IoY3R4LCBib3VuZHMsIGJhY2tncm91bmRDb2xvcik7XG4gICAgICByZW5kZXJCYWNrZ3JvdW5kSW1hZ2UoZWxlbWVudCwgYmFja2dyb3VuZEJvdW5kcywgY3R4KTtcbiAgICB9IGVsc2UgaWYgKGlnbm9yZUJhY2tncm91bmQpIHtcbiAgICAgIHN0YWNrLmJhY2tncm91bmRDb2xvciA9ICBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgfVxuXG4gICAgY3R4LnJlc3RvcmUoKTtcblxuICAgIGJvcmRlckRhdGEuYm9yZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGJvcmRlcikge1xuICAgICAgcmVuZGVyQm9yZGVycyhjdHgsIGJvcmRlci5hcmdzLCBib3JkZXIuY29sb3IpO1xuICAgIH0pO1xuXG4gICAgaWYgKCFwc2V1ZG9FbGVtZW50KSB7XG4gICAgICBpbmplY3RQc2V1ZG9FbGVtZW50cyhlbGVtZW50LCBzdGFjayk7XG4gICAgfVxuXG4gICAgc3dpdGNoKGVsZW1lbnQubm9kZU5hbWUpe1xuICAgICAgY2FzZSBcIklNR1wiOlxuICAgICAgICBpZiAoKGltYWdlID0gbG9hZEltYWdlKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmMnKSkpKSB7XG4gICAgICAgICAgcmVuZGVySW1hZ2UoY3R4LCBlbGVtZW50LCBpbWFnZSwgYm91bmRzLCBib3JkZXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBVdGlsLmxvZyhcImh0bWwyY2FudmFzOiBFcnJvciBsb2FkaW5nIDxpbWc+OlwiICsgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NyYycpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJJTlBVVFwiOlxuICAgICAgICAvLyBUT0RPIGFkZCBhbGwgcmVsZXZhbnQgdHlwZSdzLCBpLmUuIEhUTUw1IG5ldyBzdHVmZlxuICAgICAgICAvLyB0b2RvIGFkZCBzdXBwb3J0IGZvciBwbGFjZWhvbGRlciBhdHRyaWJ1dGUgZm9yIGJyb3dzZXJzIHdoaWNoIHN1cHBvcnQgaXRcbiAgICAgICAgaWYgKC9eKHRleHR8dXJsfGVtYWlsfHN1Ym1pdHxidXR0b258cmVzZXR8dGVsKSQvLnRlc3QoZWxlbWVudC50eXBlKSAmJiAoZWxlbWVudC52YWx1ZSB8fCBlbGVtZW50LnBsYWNlaG9sZGVyIHx8IFwiXCIpLmxlbmd0aCA+IDApe1xuICAgICAgICAgIHJlbmRlckZvcm1WYWx1ZShlbGVtZW50LCBib3VuZHMsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJURVhUQVJFQVwiOlxuICAgICAgICBpZiAoKGVsZW1lbnQudmFsdWUgfHwgZWxlbWVudC5wbGFjZWhvbGRlciB8fCBcIlwiKS5sZW5ndGggPiAwKXtcbiAgICAgICAgICByZW5kZXJGb3JtVmFsdWUoZWxlbWVudCwgYm91bmRzLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiU0VMRUNUXCI6XG4gICAgICAgIGlmICgoZWxlbWVudC5vcHRpb25zfHxlbGVtZW50LnBsYWNlaG9sZGVyIHx8IFwiXCIpLmxlbmd0aCA+IDApe1xuICAgICAgICAgIHJlbmRlckZvcm1WYWx1ZShlbGVtZW50LCBib3VuZHMsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJMSVwiOlxuICAgICAgICByZW5kZXJMaXN0SXRlbShlbGVtZW50LCBzdGFjaywgYmFja2dyb3VuZEJvdW5kcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkNBTlZBU1wiOlxuICAgICAgICByZW5kZXJJbWFnZShjdHgsIGVsZW1lbnQsIGVsZW1lbnQsIGJvdW5kcywgYm9yZGVycyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBzdGFjaztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRWxlbWVudFZpc2libGUoZWxlbWVudCkge1xuICAgIHJldHVybiAoZ2V0Q1NTKGVsZW1lbnQsICdkaXNwbGF5JykgIT09IFwibm9uZVwiICYmIGdldENTUyhlbGVtZW50LCAndmlzaWJpbGl0eScpICE9PSBcImhpZGRlblwiICYmICFlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtaHRtbDJjYW52YXMtaWdub3JlXCIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlRWxlbWVudCAoZWxlbWVudCwgc3RhY2ssIHBzZXVkb0VsZW1lbnQpIHtcbiAgICBpZiAoaXNFbGVtZW50VmlzaWJsZShlbGVtZW50KSkge1xuICAgICAgc3RhY2sgPSByZW5kZXJFbGVtZW50KGVsZW1lbnQsIHN0YWNrLCBwc2V1ZG9FbGVtZW50LCBmYWxzZSkgfHwgc3RhY2s7XG4gICAgICBpZiAoIWlnbm9yZUVsZW1lbnRzUmVnRXhwLnRlc3QoZWxlbWVudC5ub2RlTmFtZSkpIHtcbiAgICAgICAgcGFyc2VDaGlsZHJlbihlbGVtZW50LCBzdGFjaywgcHNldWRvRWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VDaGlsZHJlbihlbGVtZW50LCBzdGFjaywgcHNldWRvRWxlbWVudCkge1xuICAgIGlmKCQoZWxlbWVudCkuaGFzQ2xhc3MoJ2NyZWRpdC1jYXJkJykpe1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFV0aWwuQ2hpbGRyZW4oZWxlbWVudCkuZm9yRWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gbm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgcGFyc2VFbGVtZW50KG5vZGUsIHN0YWNrLCBwc2V1ZG9FbGVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gbm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgcmVuZGVyVGV4dChlbGVtZW50LCBub2RlLCBzdGFjayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBiYWNrZ3JvdW5kID0gZ2V0Q1NTKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgXCJiYWNrZ3JvdW5kQ29sb3JcIiksXG4gICAgICB0cmFuc3BhcmVudEJhY2tncm91bmQgPSAoVXRpbC5pc1RyYW5zcGFyZW50KGJhY2tncm91bmQpICYmIGVsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkpLFxuICAgICAgc3RhY2sgPSByZW5kZXJFbGVtZW50KGVsZW1lbnQsIG51bGwsIGZhbHNlLCB0cmFuc3BhcmVudEJhY2tncm91bmQpO1xuICAgIHBhcnNlQ2hpbGRyZW4oZWxlbWVudCwgc3RhY2spO1xuXG4gICAgaWYgKHRyYW5zcGFyZW50QmFja2dyb3VuZCkge1xuICAgICAgYmFja2dyb3VuZCA9IHN0YWNrLmJhY2tncm91bmRDb2xvcjtcbiAgICB9XG5cbiAgICBib2R5LnJlbW92ZUNoaWxkKGhpZGVQc2V1ZG9FbGVtZW50cyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZCxcbiAgICAgIHN0YWNrOiBzdGFja1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gaW5pdCgpO1xufTtcblxuZnVuY3Rpb24gaDJjekNvbnRleHQoemluZGV4KSB7XG4gIHJldHVybiB7XG4gICAgemluZGV4OiB6aW5kZXgsXG4gICAgY2hpbGRyZW46IFtdXG4gIH07XG59XG5cbl9odG1sMmNhbnZhcy5QcmVsb2FkID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cbiAgdmFyIGltYWdlcyA9IHtcbiAgICBudW1Mb2FkZWQ6IDAsICAgLy8gYWxzbyBmYWlsZWQgYXJlIGNvdW50ZWQgaGVyZVxuICAgIG51bUZhaWxlZDogMCxcbiAgICBudW1Ub3RhbDogMCxcbiAgICBjbGVhbnVwRG9uZTogZmFsc2VcbiAgfSxcbiAgcGFnZU9yaWdpbixcbiAgVXRpbCA9IF9odG1sMmNhbnZhcy5VdGlsLFxuICBtZXRob2RzLFxuICBpLFxuICBjb3VudCA9IDAsXG4gIGVsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnRzWzBdIHx8IGRvY3VtZW50LmJvZHksXG4gIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCxcbiAgZG9tSW1hZ2VzID0gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJyksIC8vIEZldGNoIGltYWdlcyBvZiB0aGUgcHJlc2VudCBlbGVtZW50IG9ubHlcbiAgaW1nTGVuID0gZG9tSW1hZ2VzLmxlbmd0aCxcbiAgbGluayA9IGRvYy5jcmVhdGVFbGVtZW50KFwiYVwiKSxcbiAgc3VwcG9ydENPUlMgPSAoZnVuY3Rpb24oIGltZyApe1xuICAgIHJldHVybiAoaW1nLmNyb3NzT3JpZ2luICE9PSB1bmRlZmluZWQpO1xuICB9KShuZXcgSW1hZ2UoKSksXG4gIHRpbWVvdXRUaW1lcjtcblxuICBsaW5rLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgcGFnZU9yaWdpbiAgPSBsaW5rLnByb3RvY29sICsgbGluay5ob3N0O1xuXG4gIGZ1bmN0aW9uIGlzU2FtZU9yaWdpbih1cmwpe1xuICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICBsaW5rLmhyZWYgPSBsaW5rLmhyZWY7IC8vIFlFUywgQkVMSUVWRSBJVCBPUiBOT1QsIHRoYXQgaXMgcmVxdWlyZWQgZm9yIElFOSAtIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvbmlrbGFzdmgvMmU0OGIvXG4gICAgdmFyIG9yaWdpbiA9IGxpbmsucHJvdG9jb2wgKyBsaW5rLmhvc3Q7XG4gICAgcmV0dXJuIChvcmlnaW4gPT09IHBhZ2VPcmlnaW4pO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoKXtcbiAgICBVdGlsLmxvZyhcImh0bWwyY2FudmFzOiBzdGFydDogaW1hZ2VzOiBcIiArIGltYWdlcy5udW1Mb2FkZWQgKyBcIiAvIFwiICsgaW1hZ2VzLm51bVRvdGFsICsgXCIgKGZhaWxlZDogXCIgKyBpbWFnZXMubnVtRmFpbGVkICsgXCIpXCIpO1xuICAgIGlmICghaW1hZ2VzLmZpcnN0UnVuICYmIGltYWdlcy5udW1Mb2FkZWQgPj0gaW1hZ2VzLm51bVRvdGFsKXtcbiAgICAgIFV0aWwubG9nKFwiRmluaXNoZWQgbG9hZGluZyBpbWFnZXM6ICMgXCIgKyBpbWFnZXMubnVtVG90YWwgKyBcIiAoZmFpbGVkOiBcIiArIGltYWdlcy5udW1GYWlsZWQgKyBcIilcIik7XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jb21wbGV0ZSA9PT0gXCJmdW5jdGlvblwiKXtcbiAgICAgICAgb3B0aW9ucy5jb21wbGV0ZShpbWFnZXMpO1xuICAgICAgfVxuXG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETyBtb2RpZnkgcHJveHkgdG8gc2VydmUgaW1hZ2VzIHdpdGggQ09SUyBlbmFibGVkLCB3aGVyZSBhdmFpbGFibGVcbiAgZnVuY3Rpb24gcHJveHlHZXRJbWFnZSh1cmwsIGltZywgaW1hZ2VPYmope1xuICAgIHZhciBjYWxsYmFja19uYW1lLFxuICAgIHNjcmlwdFVybCA9IG9wdGlvbnMucHJveHksXG4gICAgc2NyaXB0O1xuXG4gICAgbGluay5ocmVmID0gdXJsO1xuICAgIHVybCA9IGxpbmsuaHJlZjsgLy8gd29yayBhcm91bmQgZm9yIHBhZ2VzIHdpdGggYmFzZSBocmVmPVwiXCIgc2V0IC0gV0FSTklORzogdGhpcyBtYXkgY2hhbmdlIHRoZSB1cmxcblxuICAgIGNhbGxiYWNrX25hbWUgPSAnaHRtbDJjYW52YXNfJyArIChjb3VudCsrKTtcbiAgICBpbWFnZU9iai5jYWxsYmFja25hbWUgPSBjYWxsYmFja19uYW1lO1xuXG4gICAgaWYgKHNjcmlwdFVybC5pbmRleE9mKFwiP1wiKSA+IC0xKSB7XG4gICAgICBzY3JpcHRVcmwgKz0gXCImXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcmlwdFVybCArPSBcIj9cIjtcbiAgICB9XG4gICAgc2NyaXB0VXJsICs9ICd1cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudCh1cmwpICsgJyZjYWxsYmFjaz0nICsgY2FsbGJhY2tfbmFtZTtcbiAgICBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcblxuICAgIHdpbmRvd1tjYWxsYmFja19uYW1lXSA9IGZ1bmN0aW9uKGEpe1xuICAgICAgaWYgKGEuc3Vic3RyaW5nKDAsNikgPT09IFwiZXJyb3I6XCIpe1xuICAgICAgICBpbWFnZU9iai5zdWNjZWVkZWQgPSBmYWxzZTtcbiAgICAgICAgaW1hZ2VzLm51bUxvYWRlZCsrO1xuICAgICAgICBpbWFnZXMubnVtRmFpbGVkKys7XG4gICAgICAgIHN0YXJ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRJbWFnZUxvYWRIYW5kbGVycyhpbWcsIGltYWdlT2JqKTtcbiAgICAgICAgaW1nLnNyYyA9IGE7XG4gICAgICB9XG4gICAgICB3aW5kb3dbY2FsbGJhY2tfbmFtZV0gPSB1bmRlZmluZWQ7IC8vIHRvIHdvcmsgd2l0aCBJRTw5ICAvLyBOT1RFOiB0aGF0IHRoZSB1bmRlZmluZWQgY2FsbGJhY2sgcHJvcGVydHktbmFtZSBzdGlsbCBleGlzdHMgb24gdGhlIHdpbmRvdyBvYmplY3QgKGZvciBJRTw5KVxuICAgICAgdHJ5IHtcbiAgICAgICAgZGVsZXRlIHdpbmRvd1tjYWxsYmFja19uYW1lXTsgIC8vIGZvciBhbGwgYnJvd3NlciB0aGF0IHN1cHBvcnQgdGhpc1xuICAgICAgfSBjYXRjaChleCkge31cbiAgICAgIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgZGVsZXRlIGltYWdlT2JqLnNjcmlwdDtcbiAgICAgIGRlbGV0ZSBpbWFnZU9iai5jYWxsYmFja25hbWU7XG4gICAgfTtcblxuICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dC9qYXZhc2NyaXB0XCIpO1xuICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgc2NyaXB0VXJsKTtcbiAgICBpbWFnZU9iai5zY3JpcHQgPSBzY3JpcHQ7XG4gICAgd2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZFBzZXVkb0VsZW1lbnQoZWxlbWVudCwgdHlwZSkge1xuICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIHR5cGUpLFxuICAgIGNvbnRlbnQgPSBzdHlsZS5jb250ZW50O1xuICAgIGlmIChjb250ZW50LnN1YnN0cigwLCAzKSA9PT0gJ3VybCcpIHtcbiAgICAgIG1ldGhvZHMubG9hZEltYWdlKF9odG1sMmNhbnZhcy5VdGlsLnBhcnNlQmFja2dyb3VuZEltYWdlKGNvbnRlbnQpWzBdLmFyZ3NbMF0pO1xuICAgIH1cbiAgICBsb2FkQmFja2dyb3VuZEltYWdlcyhzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UsIGVsZW1lbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9hZFBzZXVkb0VsZW1lbnRJbWFnZXMoZWxlbWVudCkge1xuICAgIGxvYWRQc2V1ZG9FbGVtZW50KGVsZW1lbnQsIFwiOmJlZm9yZVwiKTtcbiAgICBsb2FkUHNldWRvRWxlbWVudChlbGVtZW50LCBcIjphZnRlclwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRHcmFkaWVudEltYWdlKGJhY2tncm91bmRJbWFnZSwgYm91bmRzKSB7XG4gICAgdmFyIGltZyA9IF9odG1sMmNhbnZhcy5HZW5lcmF0ZS5HcmFkaWVudChiYWNrZ3JvdW5kSW1hZ2UsIGJvdW5kcyk7XG5cbiAgICBpZiAoaW1nICE9PSB1bmRlZmluZWQpe1xuICAgICAgaW1hZ2VzW2JhY2tncm91bmRJbWFnZV0gPSB7XG4gICAgICAgIGltZzogaW1nLFxuICAgICAgICBzdWNjZWVkZWQ6IHRydWVcbiAgICAgIH07XG4gICAgICBpbWFnZXMubnVtVG90YWwrKztcbiAgICAgIGltYWdlcy5udW1Mb2FkZWQrKztcbiAgICAgIHN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW52YWxpZEJhY2tncm91bmRzKGJhY2tncm91bmRfaW1hZ2UpIHtcbiAgICByZXR1cm4gKGJhY2tncm91bmRfaW1hZ2UgJiYgYmFja2dyb3VuZF9pbWFnZS5tZXRob2QgJiYgYmFja2dyb3VuZF9pbWFnZS5hcmdzICYmIGJhY2tncm91bmRfaW1hZ2UuYXJncy5sZW5ndGggPiAwICk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkQmFja2dyb3VuZEltYWdlcyhiYWNrZ3JvdW5kX2ltYWdlLCBlbCkge1xuICAgIHZhciBib3VuZHM7XG5cbiAgICBfaHRtbDJjYW52YXMuVXRpbC5wYXJzZUJhY2tncm91bmRJbWFnZShiYWNrZ3JvdW5kX2ltYWdlKS5maWx0ZXIoaW52YWxpZEJhY2tncm91bmRzKS5mb3JFYWNoKGZ1bmN0aW9uKGJhY2tncm91bmRfaW1hZ2UpIHtcbiAgICAgIGlmIChiYWNrZ3JvdW5kX2ltYWdlLm1ldGhvZCA9PT0gJ3VybCcpIHtcbiAgICAgICAgbWV0aG9kcy5sb2FkSW1hZ2UoYmFja2dyb3VuZF9pbWFnZS5hcmdzWzBdKTtcbiAgICAgIH0gZWxzZSBpZihiYWNrZ3JvdW5kX2ltYWdlLm1ldGhvZC5tYXRjaCgvXFwtP2dyYWRpZW50JC8pKSB7XG4gICAgICAgIGlmKGJvdW5kcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYm91bmRzID0gX2h0bWwyY2FudmFzLlV0aWwuQm91bmRzKGVsKTtcbiAgICAgICAgfVxuICAgICAgICBsb2FkR3JhZGllbnRJbWFnZShiYWNrZ3JvdW5kX2ltYWdlLnZhbHVlLCBib3VuZHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW1hZ2VzIChlbCkge1xuICAgIHZhciBlbE5vZGVUeXBlID0gZmFsc2U7XG5cbiAgICAvLyBGaXJlZm94IGZhaWxzIHdpdGggcGVybWlzc2lvbiBkZW5pZWQgb24gcGFnZXMgd2l0aCBpZnJhbWVzXG4gICAgdHJ5IHtcbiAgICAgIFV0aWwuQ2hpbGRyZW4oZWwpLmZvckVhY2goZ2V0SW1hZ2VzKTtcbiAgICB9XG4gICAgY2F0Y2goIGUgKSB7fVxuXG4gICAgdHJ5IHtcbiAgICAgIGVsTm9kZVR5cGUgPSBlbC5ub2RlVHlwZTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgZWxOb2RlVHlwZSA9IGZhbHNlO1xuICAgICAgVXRpbC5sb2coXCJodG1sMmNhbnZhczogZmFpbGVkIHRvIGFjY2VzcyBzb21lIGVsZW1lbnQncyBub2RlVHlwZSAtIEV4Y2VwdGlvbjogXCIgKyBleC5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBpZiAoZWxOb2RlVHlwZSA9PT0gMSB8fCBlbE5vZGVUeXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvYWRQc2V1ZG9FbGVtZW50SW1hZ2VzKGVsKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxvYWRCYWNrZ3JvdW5kSW1hZ2VzKFV0aWwuZ2V0Q1NTKGVsLCAnYmFja2dyb3VuZEltYWdlJyksIGVsKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBVdGlsLmxvZyhcImh0bWwyY2FudmFzOiBmYWlsZWQgdG8gZ2V0IGJhY2tncm91bmQtaW1hZ2UgLSBFeGNlcHRpb246IFwiICsgZS5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIGxvYWRCYWNrZ3JvdW5kSW1hZ2VzKGVsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRJbWFnZUxvYWRIYW5kbGVycyhpbWcsIGltYWdlT2JqKSB7XG4gICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCBpbWFnZU9iai50aW1lciAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAvLyBDT1JTIHN1Y2NlZWRlZFxuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KCBpbWFnZU9iai50aW1lciApO1xuICAgICAgfVxuXG4gICAgICBpbWFnZXMubnVtTG9hZGVkKys7XG4gICAgICBpbWFnZU9iai5zdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgaW1nLm9uZXJyb3IgPSBpbWcub25sb2FkID0gbnVsbDtcbiAgICAgIHN0YXJ0KCk7XG4gICAgfTtcbiAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGltZy5jcm9zc09yaWdpbiA9PT0gXCJhbm9ueW1vdXNcIikge1xuICAgICAgICAvLyBDT1JTIGZhaWxlZFxuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KCBpbWFnZU9iai50aW1lciApO1xuXG4gICAgICAgIC8vIGxldCdzIHRyeSB3aXRoIHByb3h5IGluc3RlYWRcbiAgICAgICAgaWYgKCBvcHRpb25zLnByb3h5ICkge1xuICAgICAgICAgIHZhciBzcmMgPSBpbWcuc3JjO1xuICAgICAgICAgIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgIGltYWdlT2JqLmltZyA9IGltZztcbiAgICAgICAgICBpbWcuc3JjID0gc3JjO1xuXG4gICAgICAgICAgcHJveHlHZXRJbWFnZSggaW1nLnNyYywgaW1nLCBpbWFnZU9iaiApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpbWFnZXMubnVtTG9hZGVkKys7XG4gICAgICBpbWFnZXMubnVtRmFpbGVkKys7XG4gICAgICBpbWFnZU9iai5zdWNjZWVkZWQgPSBmYWxzZTtcbiAgICAgIGltZy5vbmVycm9yID0gaW1nLm9ubG9hZCA9IG51bGw7XG4gICAgICBzdGFydCgpO1xuICAgIH07XG4gIH1cblxuICBtZXRob2RzID0ge1xuICAgIGxvYWRJbWFnZTogZnVuY3Rpb24oIHNyYyApIHtcbiAgICAgIHZhciBpbWcsIGltYWdlT2JqO1xuICAgICAgaWYgKCBzcmMgJiYgaW1hZ2VzW3NyY10gPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGlmICggc3JjLm1hdGNoKC9kYXRhOmltYWdlXFwvLio7YmFzZTY0LC9pKSApIHtcbiAgICAgICAgICBpbWcuc3JjID0gc3JjLnJlcGxhY2UoL3VybFxcKFsnXCJdezAsfXxbJ1wiXXswLH1cXCkkL2lnLCAnJyk7XG4gICAgICAgICAgaW1hZ2VPYmogPSBpbWFnZXNbc3JjXSA9IHtcbiAgICAgICAgICAgIGltZzogaW1nXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpbWFnZXMubnVtVG90YWwrKztcbiAgICAgICAgICBzZXRJbWFnZUxvYWRIYW5kbGVycyhpbWcsIGltYWdlT2JqKTtcbiAgICAgICAgfSBlbHNlIGlmICggaXNTYW1lT3JpZ2luKCBzcmMgKSB8fCBvcHRpb25zLmFsbG93VGFpbnQgPT09ICB0cnVlICkge1xuICAgICAgICAgIGltYWdlT2JqID0gaW1hZ2VzW3NyY10gPSB7XG4gICAgICAgICAgICBpbWc6IGltZ1xuICAgICAgICAgIH07XG4gICAgICAgICAgaW1hZ2VzLm51bVRvdGFsKys7XG4gICAgICAgICAgc2V0SW1hZ2VMb2FkSGFuZGxlcnMoaW1nLCBpbWFnZU9iaik7XG4gICAgICAgICAgaW1nLnNyYyA9IHNyYztcbiAgICAgICAgfSBlbHNlIGlmICggc3VwcG9ydENPUlMgJiYgIW9wdGlvbnMuYWxsb3dUYWludCAmJiBvcHRpb25zLnVzZUNPUlMgKSB7XG4gICAgICAgICAgLy8gYXR0ZW1wdCB0byBsb2FkIHdpdGggQ09SU1xuXG4gICAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcbiAgICAgICAgICBpbWFnZU9iaiA9IGltYWdlc1tzcmNdID0ge1xuICAgICAgICAgICAgaW1nOiBpbWdcbiAgICAgICAgICB9O1xuICAgICAgICAgIGltYWdlcy5udW1Ub3RhbCsrO1xuICAgICAgICAgIHNldEltYWdlTG9hZEhhbmRsZXJzKGltZywgaW1hZ2VPYmopO1xuICAgICAgICAgIGltZy5zcmMgPSBzcmM7XG4gICAgICAgIH0gZWxzZSBpZiAoIG9wdGlvbnMucHJveHkgKSB7XG4gICAgICAgICAgaW1hZ2VPYmogPSBpbWFnZXNbc3JjXSA9IHtcbiAgICAgICAgICAgIGltZzogaW1nXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpbWFnZXMubnVtVG90YWwrKztcbiAgICAgICAgICBwcm94eUdldEltYWdlKCBzcmMsIGltZywgaW1hZ2VPYmogKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfSxcbiAgICBjbGVhbnVwRE9NOiBmdW5jdGlvbihjYXVzZSkge1xuICAgICAgdmFyIGltZywgc3JjO1xuICAgICAgaWYgKCFpbWFnZXMuY2xlYW51cERvbmUpIHtcbiAgICAgICAgaWYgKGNhdXNlICYmIHR5cGVvZiBjYXVzZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIFV0aWwubG9nKFwiaHRtbDJjYW52YXM6IENsZWFudXAgYmVjYXVzZTogXCIgKyBjYXVzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgVXRpbC5sb2coXCJodG1sMmNhbnZhczogQ2xlYW51cCBhZnRlciB0aW1lb3V0OiBcIiArIG9wdGlvbnMudGltZW91dCArIFwiIG1zLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoc3JjIGluIGltYWdlcykge1xuICAgICAgICAgIGlmIChpbWFnZXMuaGFzT3duUHJvcGVydHkoc3JjKSkge1xuICAgICAgICAgICAgaW1nID0gaW1hZ2VzW3NyY107XG4gICAgICAgICAgICBpZiAodHlwZW9mIGltZyA9PT0gXCJvYmplY3RcIiAmJiBpbWcuY2FsbGJhY2tuYW1lICYmIGltZy5zdWNjZWVkZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAvLyBjYW5jZWwgcHJveHkgaW1hZ2UgcmVxdWVzdFxuICAgICAgICAgICAgICB3aW5kb3dbaW1nLmNhbGxiYWNrbmFtZV0gPSB1bmRlZmluZWQ7IC8vIHRvIHdvcmsgd2l0aCBJRTw5ICAvLyBOT1RFOiB0aGF0IHRoZSB1bmRlZmluZWQgY2FsbGJhY2sgcHJvcGVydHktbmFtZSBzdGlsbCBleGlzdHMgb24gdGhlIHdpbmRvdyBvYmplY3QgKGZvciBJRTw5KVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3dbaW1nLmNhbGxiYWNrbmFtZV07ICAvLyBmb3IgYWxsIGJyb3dzZXIgdGhhdCBzdXBwb3J0IHRoaXNcbiAgICAgICAgICAgICAgfSBjYXRjaChleCkge31cbiAgICAgICAgICAgICAgaWYgKGltZy5zY3JpcHQgJiYgaW1nLnNjcmlwdC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgaW1nLnNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJhYm91dDpibGFua1wiKTsgIC8vIHRyeSB0byBjYW5jZWwgcnVubmluZyByZXF1ZXN0XG4gICAgICAgICAgICAgICAgaW1nLnNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGltZy5zY3JpcHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGltYWdlcy5udW1Mb2FkZWQrKztcbiAgICAgICAgICAgICAgaW1hZ2VzLm51bUZhaWxlZCsrO1xuICAgICAgICAgICAgICBVdGlsLmxvZyhcImh0bWwyY2FudmFzOiBDbGVhbmVkIHVwIGZhaWxlZCBpbWc6ICdcIiArIHNyYyArIFwiJyBTdGVwczogXCIgKyBpbWFnZXMubnVtTG9hZGVkICsgXCIgLyBcIiArIGltYWdlcy5udW1Ub3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FuY2VsIGFueSBwZW5kaW5nIHJlcXVlc3RzXG4gICAgICAgIGlmKHdpbmRvdy5zdG9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB3aW5kb3cuc3RvcCgpO1xuICAgICAgICB9IGVsc2UgaWYoZG9jdW1lbnQuZXhlY0NvbW1hbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiU3RvcFwiLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvY3VtZW50LmNsb3NlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkb2N1bWVudC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGltYWdlcy5jbGVhbnVwRG9uZSA9IHRydWU7XG4gICAgICAgIGlmICghKGNhdXNlICYmIHR5cGVvZiBjYXVzZSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICBzdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbmRlcmluZ0RvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRpbWVvdXRUaW1lcikge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXRUaW1lcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGlmIChvcHRpb25zLnRpbWVvdXQgPiAwKSB7XG4gICAgdGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQobWV0aG9kcy5jbGVhbnVwRE9NLCBvcHRpb25zLnRpbWVvdXQpO1xuICB9XG5cbiAgVXRpbC5sb2coJ2h0bWwyY2FudmFzOiBQcmVsb2FkIHN0YXJ0czogZmluZGluZyBiYWNrZ3JvdW5kLWltYWdlcycpO1xuICBpbWFnZXMuZmlyc3RSdW4gPSB0cnVlO1xuXG4gIGdldEltYWdlcyhlbGVtZW50KTtcblxuICBVdGlsLmxvZygnaHRtbDJjYW52YXM6IFByZWxvYWQ6IEZpbmRpbmcgaW1hZ2VzJyk7XG4gIC8vIGxvYWQgPGltZz4gaW1hZ2VzXG4gIGZvciAoaSA9IDA7IGkgPCBpbWdMZW47IGkrPTEpe1xuICAgIG1ldGhvZHMubG9hZEltYWdlKCBkb21JbWFnZXNbaV0uZ2V0QXR0cmlidXRlKCBcInNyY1wiICkgKTtcbiAgfVxuXG4gIGltYWdlcy5maXJzdFJ1biA9IGZhbHNlO1xuICBVdGlsLmxvZygnaHRtbDJjYW52YXM6IFByZWxvYWQ6IERvbmUuJyk7XG4gIGlmIChpbWFnZXMubnVtVG90YWwgPT09IGltYWdlcy5udW1Mb2FkZWQpIHtcbiAgICBzdGFydCgpO1xuICB9XG5cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuXG5faHRtbDJjYW52YXMuUmVuZGVyZXIgPSBmdW5jdGlvbihwYXJzZVF1ZXVlLCBvcHRpb25zKXtcblxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS96aW5kZXguaHRtbFxuICBmdW5jdGlvbiBjcmVhdGVSZW5kZXJRdWV1ZShwYXJzZVF1ZXVlKSB7XG4gICAgdmFyIHF1ZXVlID0gW10sXG4gICAgcm9vdENvbnRleHQ7XG5cbiAgICByb290Q29udGV4dCA9IChmdW5jdGlvbiBidWlsZFN0YWNraW5nQ29udGV4dChyb290Tm9kZSkge1xuICAgICAgdmFyIHJvb3RDb250ZXh0ID0ge307XG4gICAgICBmdW5jdGlvbiBpbnNlcnQoY29udGV4dCwgbm9kZSwgc3BlY2lhbFBhcmVudCkge1xuICAgICAgICB2YXIgemkgPSAobm9kZS56SW5kZXguemluZGV4ID09PSAnYXV0bycpID8gMCA6IE51bWJlcihub2RlLnpJbmRleC56aW5kZXgpLFxuICAgICAgICBjb250ZXh0Rm9yQ2hpbGRyZW4gPSBjb250ZXh0LCAvLyB0aGUgc3RhY2tpbmcgY29udGV4dCBmb3IgY2hpbGRyZW5cbiAgICAgICAgaXNQb3NpdGlvbmVkID0gbm9kZS56SW5kZXguaXNQb3NpdGlvbmVkLFxuICAgICAgICBpc0Zsb2F0ZWQgPSBub2RlLnpJbmRleC5pc0Zsb2F0ZWQsXG4gICAgICAgIHN0dWIgPSB7bm9kZTogbm9kZX0sXG4gICAgICAgIGNoaWxkcmVuRGVzdCA9IHNwZWNpYWxQYXJlbnQ7IC8vIHdoZXJlIGNoaWxkcmVuIHdpdGhvdXQgei1pbmRleCBzaG91bGQgYmUgcHVzaGVkIGludG9cblxuICAgICAgICBpZiAobm9kZS56SW5kZXgub3duU3RhY2tpbmcpIHtcbiAgICAgICAgICAvLyAnIScgY29tZXMgYmVmb3JlIG51bWJlcnMgaW4gc29ydGVkIGFycmF5XG4gICAgICAgICAgY29udGV4dEZvckNoaWxkcmVuID0gc3R1Yi5jb250ZXh0ID0geyAnISc6IFt7bm9kZTpub2RlLCBjaGlsZHJlbjogW119XX07XG4gICAgICAgICAgY2hpbGRyZW5EZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUG9zaXRpb25lZCB8fCBpc0Zsb2F0ZWQpIHtcbiAgICAgICAgICBjaGlsZHJlbkRlc3QgPSBzdHViLmNoaWxkcmVuID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoemkgPT09IDAgJiYgc3BlY2lhbFBhcmVudCkge1xuICAgICAgICAgIHNwZWNpYWxQYXJlbnQucHVzaChzdHViKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWNvbnRleHRbemldKSB7IGNvbnRleHRbemldID0gW107IH1cbiAgICAgICAgICBjb250ZXh0W3ppXS5wdXNoKHN0dWIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZS56SW5kZXguY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZE5vZGUpIHtcbiAgICAgICAgICBpbnNlcnQoY29udGV4dEZvckNoaWxkcmVuLCBjaGlsZE5vZGUsIGNoaWxkcmVuRGVzdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaW5zZXJ0KHJvb3RDb250ZXh0LCByb290Tm9kZSk7XG4gICAgICByZXR1cm4gcm9vdENvbnRleHQ7XG4gICAgfSkocGFyc2VRdWV1ZSk7XG5cbiAgICBmdW5jdGlvbiBzb3J0Wihjb250ZXh0KSB7XG4gICAgICBPYmplY3Qua2V5cyhjb250ZXh0KS5zb3J0KCkuZm9yRWFjaChmdW5jdGlvbih6aSkge1xuICAgICAgICB2YXIgbm9uUG9zaXRpb25lZCA9IFtdLFxuICAgICAgICBmbG9hdGVkID0gW10sXG4gICAgICAgIHBvc2l0aW9uZWQgPSBbXSxcbiAgICAgICAgbGlzdCA9IFtdO1xuXG4gICAgICAgIC8vIHBvc2l0aW9uZWQgYWZ0ZXIgc3RhdGljXG4gICAgICAgIGNvbnRleHRbemldLmZvckVhY2goZnVuY3Rpb24odikge1xuICAgICAgICAgIGlmICh2Lm5vZGUuekluZGV4LmlzUG9zaXRpb25lZCB8fCB2Lm5vZGUuekluZGV4Lm9wYWNpdHkgPCAxKSB7XG4gICAgICAgICAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWNvbG9yLyN0cmFuc3BhcmVuY3lcbiAgICAgICAgICAgIC8vIG5vbi1wb3NpdGlvbmVkIGVsZW1lbnQgd2l0aCBvcGFjdGl5IDwgMSBzaG91bGQgYmUgc3RhY2tlZCBhcyBpZiBpdCB3ZXJlIGEgcG9zaXRpb25lZCBlbGVtZW50IHdpdGgg4oCYei1pbmRleDogMOKAmSBhbmQg4oCYb3BhY2l0eTogMeKAmS5cbiAgICAgICAgICAgIHBvc2l0aW9uZWQucHVzaCh2KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHYubm9kZS56SW5kZXguaXNGbG9hdGVkKSB7XG4gICAgICAgICAgICBmbG9hdGVkLnB1c2godik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vblBvc2l0aW9uZWQucHVzaCh2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIChmdW5jdGlvbiB3YWxrKGFycikge1xuICAgICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGxpc3QucHVzaCh2KTtcbiAgICAgICAgICAgIGlmICh2LmNoaWxkcmVuKSB7IHdhbGsodi5jaGlsZHJlbik7IH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkobm9uUG9zaXRpb25lZC5jb25jYXQoZmxvYXRlZCwgcG9zaXRpb25lZCkpO1xuXG4gICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgaWYgKHYuY29udGV4dCkge1xuICAgICAgICAgICAgc29ydFoodi5jb250ZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXVldWUucHVzaCh2Lm5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzb3J0Wihyb290Q29udGV4dCk7XG5cbiAgICByZXR1cm4gcXVldWU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZW5kZXJlcihyZW5kZXJlck5hbWUpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucmVuZGVyZXIgPT09IFwic3RyaW5nXCIgJiYgX2h0bWwyY2FudmFzLlJlbmRlcmVyW3JlbmRlcmVyTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVuZGVyZXIgPSBfaHRtbDJjYW52YXMuUmVuZGVyZXJbcmVuZGVyZXJOYW1lXShvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByZW5kZXJlck5hbWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmVuZGVyZXIgPSByZW5kZXJlck5hbWUob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gcmVuZGVyZXJcIik7XG4gICAgfVxuXG4gICAgaWYgKCB0eXBlb2YgcmVuZGVyZXIgIT09IFwiZnVuY3Rpb25cIiApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVuZGVyZXIgZGVmaW5lZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVyO1xuICB9XG5cbiAgcmV0dXJuIGdldFJlbmRlcmVyKG9wdGlvbnMucmVuZGVyZXIpKHBhcnNlUXVldWUsIG9wdGlvbnMsIGRvY3VtZW50LCBjcmVhdGVSZW5kZXJRdWV1ZShwYXJzZVF1ZXVlLnN0YWNrKSwgX2h0bWwyY2FudmFzKTtcbn07XG5cbl9odG1sMmNhbnZhcy5VdGlsLlN1cHBvcnQgPSBmdW5jdGlvbiAob3B0aW9ucywgZG9jKSB7XG5cbiAgZnVuY3Rpb24gc3VwcG9ydFNWR1JlbmRlcmluZygpIHtcbiAgICB2YXIgaW1nID0gbmV3IEltYWdlKCksXG4gICAgY2FudmFzID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksXG4gICAgY3R4ID0gKGNhbnZhcy5nZXRDb250ZXh0ID09PSB1bmRlZmluZWQpID8gZmFsc2UgOiBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGlmIChjdHggPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcbiAgICBpbWcuc3JjID0gW1xuICAgIFwiZGF0YTppbWFnZS9zdmcreG1sLFwiLFxuICAgIFwiPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+XCIsXG4gICAgXCI8Zm9yZWlnbk9iamVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnPlwiLFxuICAgIFwiPGRpdiB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcgc3R5bGU9J3dpZHRoOjEwO2hlaWdodDoxMDsnPlwiLFxuICAgIFwic3VwXCIsXG4gICAgXCI8L2Rpdj5cIixcbiAgICBcIjwvZm9yZWlnbk9iamVjdD5cIixcbiAgICBcIjwvc3ZnPlwiXG4gICAgXS5qb2luKFwiXCIpO1xuICAgIHRyeSB7XG4gICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF9odG1sMmNhbnZhcy5VdGlsLmxvZygnaHRtbDJjYW52YXM6IFBhcnNlOiBTVkcgcG93ZXJlZCByZW5kZXJpbmcgYXZhaWxhYmxlJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBUZXN0IHdoZXRoZXIgd2UgY2FuIHVzZSByYW5nZXMgdG8gbWVhc3VyZSBib3VuZGluZyBib3hlc1xuICAvLyBPcGVyYSBkb2Vzbid0IHByb3ZpZGUgdmFsaWQgYm91bmRzLmhlaWdodC9ib3R0b20gZXZlbiB0aG91Z2ggaXQgc3VwcG9ydHMgdGhlIG1ldGhvZC5cblxuICBmdW5jdGlvbiBzdXBwb3J0UmFuZ2VCb3VuZHMoKSB7XG4gICAgdmFyIHIsIHRlc3RFbGVtZW50LCByYW5nZUJvdW5kcywgcmFuZ2VIZWlnaHQsIHN1cHBvcnQgPSBmYWxzZTtcblxuICAgIGlmIChkb2MuY3JlYXRlUmFuZ2UpIHtcbiAgICAgIHIgPSBkb2MuY3JlYXRlUmFuZ2UoKTtcbiAgICAgIGlmIChyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkge1xuICAgICAgICB0ZXN0RWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KCdib3VuZHRlc3QnKTtcbiAgICAgICAgdGVzdEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMjNweFwiO1xuICAgICAgICB0ZXN0RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBkb2MuYm9keS5hcHBlbmRDaGlsZCh0ZXN0RWxlbWVudCk7XG5cbiAgICAgICAgci5zZWxlY3ROb2RlKHRlc3RFbGVtZW50KTtcbiAgICAgICAgcmFuZ2VCb3VuZHMgPSByLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByYW5nZUhlaWdodCA9IHJhbmdlQm91bmRzLmhlaWdodDtcblxuICAgICAgICBpZiAocmFuZ2VIZWlnaHQgPT09IDEyMykge1xuICAgICAgICAgIHN1cHBvcnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGRvYy5ib2R5LnJlbW92ZUNoaWxkKHRlc3RFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3VwcG9ydDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmFuZ2VCb3VuZHM6IHN1cHBvcnRSYW5nZUJvdW5kcygpLFxuICAgIHN2Z1JlbmRlcmluZzogb3B0aW9ucy5zdmdSZW5kZXJpbmcgJiYgc3VwcG9ydFNWR1JlbmRlcmluZygpXG4gIH07XG59O1xud2luZG93Lmh0bWwyY2FudmFzID0gZnVuY3Rpb24oZWxlbWVudHMsIG9wdHMpIHtcbiAgZWxlbWVudHMgPSAoZWxlbWVudHMubGVuZ3RoKSA/IGVsZW1lbnRzIDogW2VsZW1lbnRzXTtcbiAgdmFyIHF1ZXVlLFxuICBjYW52YXMsXG4gIG9wdGlvbnMgPSB7XG4gICAgLy8gZ2VuZXJhbFxuICAgIGxvZ2dpbmc6IGZhbHNlLFxuICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICBiYWNrZ3JvdW5kOiBcIiNmZmZcIixcblxuICAgIC8vIHByZWxvYWQgb3B0aW9uc1xuICAgIHByb3h5OiBudWxsLFxuICAgIHRpbWVvdXQ6IDAsICAgIC8vIG5vIHRpbWVvdXRcbiAgICB1c2VDT1JTOiBmYWxzZSwgLy8gdHJ5IHRvIGxvYWQgaW1hZ2VzIGFzIENPUlMgKHdoZXJlIGF2YWlsYWJsZSksIGJlZm9yZSBmYWxsaW5nIGJhY2sgdG8gcHJveHlcbiAgICBhbGxvd1RhaW50OiBmYWxzZSwgLy8gd2hldGhlciB0byBhbGxvdyBpbWFnZXMgdG8gdGFpbnQgdGhlIGNhbnZhcywgd29uJ3QgbmVlZCBwcm94eSBpZiBzZXQgdG8gdHJ1ZVxuXG4gICAgLy8gcGFyc2Ugb3B0aW9uc1xuICAgIHN2Z1JlbmRlcmluZzogZmFsc2UsIC8vIHVzZSBzdmcgcG93ZXJlZCByZW5kZXJpbmcgd2hlcmUgYXZhaWxhYmxlIChGRjExKylcbiAgICBpZ25vcmVFbGVtZW50czogXCJJRlJBTUV8T0JKRUNUfFBBUkFNXCIsXG4gICAgdXNlT3ZlcmZsb3c6IHRydWUsXG4gICAgbGV0dGVyUmVuZGVyaW5nOiB0cnVlLFxuICAgIGNoaW5lc2U6IGZhbHNlLFxuXG4gICAgLy8gcmVuZGVyIG9wdGlvbnNcblxuICAgIHdpZHRoOiBudWxsLFxuICAgIGhlaWdodDogbnVsbCxcbiAgICB0YWludFRlc3Q6IHRydWUsIC8vIGRvIGEgdGFpbnQgdGVzdCB3aXRoIGFsbCBpbWFnZXMgYmVmb3JlIGFwcGx5aW5nIHRvIGNhbnZhc1xuICAgIHJlbmRlcmVyOiBcIkNhbnZhc1wiXG4gIH07XG5cbiAgb3B0aW9ucyA9IF9odG1sMmNhbnZhcy5VdGlsLkV4dGVuZChvcHRzLCBvcHRpb25zKTtcblxuICBfaHRtbDJjYW52YXMubG9nZ2luZyA9IG9wdGlvbnMubG9nZ2luZztcbiAgb3B0aW9ucy5jb21wbGV0ZSA9IGZ1bmN0aW9uKCBpbWFnZXMgKSB7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMub25wcmVsb2FkZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgaWYgKCBvcHRpb25zLm9ucHJlbG9hZGVkKCBpbWFnZXMgKSA9PT0gZmFsc2UgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcXVldWUgPSBfaHRtbDJjYW52YXMuUGFyc2UoIGltYWdlcywgb3B0aW9ucyApO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLm9ucGFyc2VkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGlmICggb3B0aW9ucy5vbnBhcnNlZCggcXVldWUgKSA9PT0gZmFsc2UgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjYW52YXMgPSBfaHRtbDJjYW52YXMuUmVuZGVyZXIoIHF1ZXVlLCBvcHRpb25zICk7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMub25yZW5kZXJlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBvcHRpb25zLm9ucmVuZGVyZWQoIGNhbnZhcyApO1xuICAgIH1cblxuXG4gIH07XG5cbiAgLy8gZm9yIHBhZ2VzIHdpdGhvdXQgaW1hZ2VzLCB3ZSBzdGlsbCB3YW50IHRoaXMgdG8gYmUgYXN5bmMsIGkuZS4gcmV0dXJuIG1ldGhvZHMgYmVmb3JlIGV4ZWN1dGluZ1xuICB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKXtcbiAgICBfaHRtbDJjYW52YXMuUHJlbG9hZCggb3B0aW9ucyApO1xuICB9LCAwICk7XG5cbiAgcmV0dXJuIHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCBxdWV1ZSwgb3B0cyApIHtcbiAgICAgIHJldHVybiBfaHRtbDJjYW52YXMuUmVuZGVyZXIoIHF1ZXVlLCBfaHRtbDJjYW52YXMuVXRpbC5FeHRlbmQob3B0cywgb3B0aW9ucykgKTtcbiAgICB9LFxuICAgIHBhcnNlOiBmdW5jdGlvbiggaW1hZ2VzLCBvcHRzICkge1xuICAgICAgcmV0dXJuIF9odG1sMmNhbnZhcy5QYXJzZSggaW1hZ2VzLCBfaHRtbDJjYW52YXMuVXRpbC5FeHRlbmQob3B0cywgb3B0aW9ucykgKTtcbiAgICB9LFxuICAgIHByZWxvYWQ6IGZ1bmN0aW9uKCBvcHRzICkge1xuICAgICAgcmV0dXJuIF9odG1sMmNhbnZhcy5QcmVsb2FkKCBfaHRtbDJjYW52YXMuVXRpbC5FeHRlbmQob3B0cywgb3B0aW9ucykgKTtcbiAgICB9LFxuICAgIGxvZzogX2h0bWwyY2FudmFzLlV0aWwubG9nXG4gIH07XG59O1xuXG53aW5kb3cuaHRtbDJjYW52YXMubG9nID0gX2h0bWwyY2FudmFzLlV0aWwubG9nOyAvLyBmb3IgcmVuZGVyZXJzXG53aW5kb3cuaHRtbDJjYW52YXMuUmVuZGVyZXIgPSB7XG4gIENhbnZhczogdW5kZWZpbmVkIC8vIFdlIGFyZSBhc3N1bWluZyB0aGlzIHdpbGwgYmUgdXNlZFxufTtcbl9odG1sMmNhbnZhcy5SZW5kZXJlci5DYW52YXMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBkb2MgPSBkb2N1bWVudCxcbiAgc2FmZUltYWdlcyA9IFtdLFxuICB0ZXN0Q2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgdGVzdGN0eCA9IHRlc3RDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLFxuICBVdGlsID0gX2h0bWwyY2FudmFzLlV0aWwsXG4gIGNhbnZhcyA9IG9wdGlvbnMuY2FudmFzIHx8IGRvYy5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICBmdW5jdGlvbiBjcmVhdGVTaGFwZShjdHgsIGFyZ3MpIHtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuICAgICAgY3R4W2FyZy5uYW1lXS5hcHBseShjdHgsIGFyZ1snYXJndW1lbnRzJ10pO1xuICAgIH0pO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNhZmVJbWFnZShpdGVtKSB7XG4gICAgaWYgKHNhZmVJbWFnZXMuaW5kZXhPZihpdGVtWydhcmd1bWVudHMnXVswXS5zcmMgKSA9PT0gLTEpIHtcbiAgICAgIHRlc3RjdHguZHJhd0ltYWdlKGl0ZW1bJ2FyZ3VtZW50cyddWzBdLCAwLCAwKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIDEsIDEpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHRlc3RDYW52YXMgPSBkb2MuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgdGVzdGN0eCA9IHRlc3RDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzYWZlSW1hZ2VzLnB1c2goaXRlbVsnYXJndW1lbnRzJ11bMF0uc3JjKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJJdGVtKGN0eCwgaXRlbSkge1xuICAgIHN3aXRjaChpdGVtLnR5cGUpe1xuICAgICAgY2FzZSBcInZhcmlhYmxlXCI6XG4gICAgICAgIGN0eFtpdGVtLm5hbWVdID0gaXRlbVsnYXJndW1lbnRzJ107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHN3aXRjaChpdGVtLm5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwiY3JlYXRlUGF0dGVyblwiOlxuICAgICAgICAgICAgaWYgKGl0ZW1bJ2FyZ3VtZW50cyddWzBdLndpZHRoID4gMCAmJiBpdGVtWydhcmd1bWVudHMnXVswXS5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGN0eC5jcmVhdGVQYXR0ZXJuKGl0ZW1bJ2FyZ3VtZW50cyddWzBdLCBcInJlcGVhdFwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgVXRpbC5sb2coXCJodG1sMmNhbnZhczogUmVuZGVyZXI6IEVycm9yIGNyZWF0aW5nIHBhdHRlcm5cIiwgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImRyYXdTaGFwZVwiOlxuICAgICAgICAgICAgY3JlYXRlU2hhcGUoY3R4LCBpdGVtWydhcmd1bWVudHMnXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiZHJhd0ltYWdlXCI6XG4gICAgICAgICAgICBpZiAoaXRlbVsnYXJndW1lbnRzJ11bOF0gPiAwICYmIGl0ZW1bJ2FyZ3VtZW50cyddWzddID4gMCkge1xuICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMudGFpbnRUZXN0IHx8IChvcHRpb25zLnRhaW50VGVzdCAmJiBzYWZlSW1hZ2UoaXRlbSkpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZS5hcHBseSggY3R4LCBpdGVtWydhcmd1bWVudHMnXSApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY3R4W2l0ZW0ubmFtZV0uYXBwbHkoY3R4LCBpdGVtWydhcmd1bWVudHMnXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHBhcnNlZERhdGEsIG9wdGlvbnMsIGRvY3VtZW50LCBxdWV1ZSwgX2h0bWwyY2FudmFzKSB7XG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksXG4gICAgbmV3Q2FudmFzLFxuICAgIGJvdW5kcyxcbiAgICBmc3R5bGUsXG4gICAgelN0YWNrID0gcGFyc2VkRGF0YS5zdGFjaztcblxuICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5zdHlsZS53aWR0aCA9ICBvcHRpb25zLndpZHRoIHx8IHpTdGFjay5jdHgud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCB6U3RhY2suY3R4LmhlaWdodDtcblxuICAgIGZzdHlsZSA9IGN0eC5maWxsU3R5bGU7XG4gICAgY3R4LmZpbGxTdHlsZSA9IChVdGlsLmlzVHJhbnNwYXJlbnQoelN0YWNrLmJhY2tncm91bmRDb2xvcikgJiYgb3B0aW9ucy5iYWNrZ3JvdW5kICE9PSB1bmRlZmluZWQpID8gb3B0aW9ucy5iYWNrZ3JvdW5kIDogcGFyc2VkRGF0YS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGZzdHlsZTtcblxuICAgIHF1ZXVlLmZvckVhY2goZnVuY3Rpb24oc3RvcmFnZUNvbnRleHQpIHtcbiAgICAgIC8vIHNldCBjb21tb24gc2V0dGluZ3MgZm9yIGNhbnZhc1xuICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwiYm90dG9tXCI7XG4gICAgICBjdHguc2F2ZSgpO1xuXG4gICAgICBpZiAoc3RvcmFnZUNvbnRleHQudHJhbnNmb3JtLm1hdHJpeCkge1xuICAgICAgICBjdHgudHJhbnNsYXRlKHN0b3JhZ2VDb250ZXh0LnRyYW5zZm9ybS5vcmlnaW5bMF0sIHN0b3JhZ2VDb250ZXh0LnRyYW5zZm9ybS5vcmlnaW5bMV0pO1xuICAgICAgICBjdHgudHJhbnNmb3JtLmFwcGx5KGN0eCwgc3RvcmFnZUNvbnRleHQudHJhbnNmb3JtLm1hdHJpeCk7XG4gICAgICAgIGN0eC50cmFuc2xhdGUoLXN0b3JhZ2VDb250ZXh0LnRyYW5zZm9ybS5vcmlnaW5bMF0sIC1zdG9yYWdlQ29udGV4dC50cmFuc2Zvcm0ub3JpZ2luWzFdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0b3JhZ2VDb250ZXh0LmNsaXApe1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5yZWN0KHN0b3JhZ2VDb250ZXh0LmNsaXAubGVmdCwgc3RvcmFnZUNvbnRleHQuY2xpcC50b3AsIHN0b3JhZ2VDb250ZXh0LmNsaXAud2lkdGgsIHN0b3JhZ2VDb250ZXh0LmNsaXAuaGVpZ2h0KTtcbiAgICAgICAgY3R4LmNsaXAoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0b3JhZ2VDb250ZXh0LmN0eC5zdG9yYWdlKSB7XG4gICAgICAgIHN0b3JhZ2VDb250ZXh0LmN0eC5zdG9yYWdlLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJlbmRlckl0ZW0oY3R4LCBpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSk7XG5cbiAgICBVdGlsLmxvZyhcImh0bWwyY2FudmFzOiBSZW5kZXJlcjogQ2FudmFzIHJlbmRlcmVyIGRvbmUgLSByZXR1cm5pbmcgY2FudmFzIG9ialwiKTtcblxuICAgIGlmIChvcHRpb25zLmVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmVsZW1lbnRzWzBdID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuZWxlbWVudHNbMF0ubm9kZU5hbWUgIT09IFwiQk9EWVwiKSB7XG4gICAgICAgIC8vIGNyb3AgaW1hZ2UgdG8gdGhlIGJvdW5kcyBvZiBzZWxlY3RlZCAoc2luZ2xlKSBlbGVtZW50XG4gICAgICAgIGJvdW5kcyA9IF9odG1sMmNhbnZhcy5VdGlsLkJvdW5kcyhvcHRpb25zLmVsZW1lbnRzWzBdKTtcbiAgICAgICAgbmV3Q2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIG5ld0NhbnZhcy53aWR0aCA9IE1hdGguY2VpbChib3VuZHMud2lkdGgpO1xuICAgICAgICBuZXdDYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGJvdW5kcy5oZWlnaHQpO1xuICAgICAgICBjdHggPSBuZXdDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoY2FudmFzLCBib3VuZHMubGVmdCwgYm91bmRzLnRvcCwgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0LCAwLCAwLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpO1xuICAgICAgICBjYW52YXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gbmV3Q2FudmFzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjYW52YXM7XG4gIH07XG59O1xufSkod2luZG93LGRvY3VtZW50KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbXBvbmVudHMvZmxpZ2h0cy9ib29raW5nL2h0bWwyY2FudmFzLmpzXG4vLyBtb2R1bGUgaWQgPSA1MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSIsIid1c2Ugc3RyaWN0JztcblxudmFyIENvbXBvbmVudCA9IHJlcXVpcmUoJy4vY29tcG9uZW50Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29tcG9uZW50LmV4dGVuZCh7XG5cbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29yZS92aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSIsIid1c2Ugc3RyaWN0JztcblxudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKSxcbiAgICAkID0gcmVxdWlyZSgnanF1ZXJ5JyksXG4gICAgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50JyksXG4gICAgUSA9IHJlcXVpcmUoJ3EnKVxuICAgIDtcblxudmFyIFN0b3JlID0gcmVxdWlyZSgnY29yZS9zdG9yZScpLFxuICAgIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJyksXG4gICAgUk9VVEVTID0gcmVxdWlyZSgnYXBwL3JvdXRlcycpLmZsaWdodHNcbiAgICA7XG5cbnZhciBGbGlnaHQgPSBTdG9yZS5leHRlbmQoe1xuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VnbWVudHM6IFtdLFxuICAgICAgICAgICAgcHJpY2U6IG51bGwsXG4gICAgICAgICAgICByZWZ1bmRhYmxlOiAwLFxuXG5cbiAgICAgICAgICAgIGZpcnN0OiBmdW5jdGlvbihzZWdtZW50cykgeyByZXR1cm4gc2VnbWVudHNbMF07IH0sXG4gICAgICAgICAgICBsYXN0OiBmdW5jdGlvbihzZWdtZW50cykgeyByZXR1cm4gc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoLTFdOyB9LFxuICAgICAgICAgICAgc3RvcHM6IGZ1bmN0aW9uKHNlZ21lbnRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlZ21lbnRzLmxlbmd0aC0xO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlZ3RpbWU6IGZ1bmN0aW9uKHNlZ21lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWdtZW50cylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IG1vbWVudC5kdXJhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgXy5lYWNoKHNlZ21lbnRzLCBmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWUuYWRkKGkudGltZSk7XG4gICAgICAgICAgICAgICAgICAgIHRpbWUuYWRkKGkubGF5b3Zlcik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGltZTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHZpYTogZnVuY3Rpb24oc2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlZ21lbnRzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfLm1hcChzZWdtZW50cy5zbGljZSgxKSwgZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIGNvbXB1dGVkOiB7XG4gICAgICAgIGRlcGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3NlZ21lbnRzLjAuMC5kZXBhcnQnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhcnJpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzZWdtZW50cy4wLicgKyAodGhpcy5nZXQoJ3NlZ21lbnRzLjAubGVuZ3RoJykgLSAxKSArICcuYXJyaXZlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXRpbmVyYXJ5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzID0gdGhpcy5nZXQoJ3NlZ21lbnRzLjAnKTtcblxuICAgICAgICAgICAgcmV0dXJuIFtzWzBdLmZyb20uYWlycG9ydENvZGUsIHNbcy5sZW5ndGgtMV0udG8uYWlycG9ydENvZGVdLmpvaW4oJy0nKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjYXJyaWVyczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gXy51bmlxdWUoXG4gICAgICAgICAgICAgICAgXy51bmlvbi5hcHBseShudWxsLFxuICAgICAgICAgICAgICAgICAgICBfLm1hcCh0aGlzLmdldCgnc2VnbWVudHMnKSwgZnVuY3Rpb24oc2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfLm1hcChzZWdtZW50cywgZnVuY3Rpb24oaSkgeyByZXR1cm4gaS5jYXJyaWVyOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICdjb2RlJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5GbGlnaHQucGFyc2UgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgZGF0YS5pZCA9IF8udW5pcXVlSWQoJ2ZsaWdodF8nKTtcbiAgICBkYXRhLnRpbWUgPSBtb21lbnQuZHVyYXRpb24oKTtcbiAgICBkYXRhLnNlZ21lbnRzID0gXy5tYXAoZGF0YS5zZWdtZW50cywgZnVuY3Rpb24oc2VnbWVudHMpIHtcbiAgICAgICAgcmV0dXJuIF8ubWFwKHNlZ21lbnRzLCBmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICB2YXIgc2VnbWVudCA9IF8uZXh0ZW5kKGksIHtcbiAgICAgICAgICAgICAgICBkZXBhcnQ6IG1vbWVudChpLmRlcGFydCksXG4gICAgICAgICAgICAgICAgYXJyaXZlOiBtb21lbnQoaS5hcnJpdmUpLFxuICAgICAgICAgICAgICAgIHRpbWU6IG1vbWVudC5kdXJhdGlvbihpLnRpbWUpLFxuICAgICAgICAgICAgICAgIGxheW92ZXI6IG1vbWVudC5kdXJhdGlvbihpLmxheW92ZXIpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGF0YS50aW1lID0gZGF0YS50aW1lLmFkZChzZWdtZW50LnRpbWUpLmFkZChzZWdtZW50LmxheW92ZXIpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VnbWVudDtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3IEZsaWdodCh7ZGF0YTogZGF0YX0pO1xufTtcblxuRmxpZ2h0LmZldGNoID0gZnVuY3Rpb24oc2VhcmNoLCBkZWZlcnJlZCkge1xuICAgIGRlZmVycmVkID0gZGVmZXJyZWQgfHwgUS5kZWZlcigpO1xuXG5cbiAgICBpZiAoIWRlZmVycmVkLnN0YXJ0ZWQpIHtcbiAgICAgICAgZGVmZXJyZWQuc3RhcnRlZCA9IF8ubm93KCk7XG4gICAgICAgIGRlZmVycmVkLnVwZGF0ZWQgPSBudWxsO1xuICAgICAgICBkZWZlcnJlZC5mbGlnaHRzID0gU2VhcmNoLlJPVU5EVFJJUCA9PSBfLnBhcnNlSW50KHNlYXJjaC5nZXQoJ3RyaXBUeXBlJykpID8gW1tdLCBbXV0gOiBfLm1hcChzZWFyY2guZ2V0KCdmbGlnaHRzJyksIGZ1bmN0aW9uKCkgeyByZXR1cm4gW107IH0pO1xuXG4gICAgICAvLyAgY29uc29sZS5sb2coJ2NvbnN0cnVjdGVkIGZsaWdodHMnLCBkZWZlcnJlZC5mbGlnaHRzLCBzZWFyY2guZ2V0KCdmbGlnaHRzJykpO1xuICAgIH0gZWxzZSBpZiAoXy5ub3coKSAtIGRlZmVycmVkLnN0YXJ0ZWQgPiBTZWFyY2guTUFYX1dBSVRfVElNRSkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHsgc2VhcmNoOiBzZWFyY2gsIGZsaWdodHM6IGRlZmVycmVkLmZsaWdodHN9KTtcbiAgICB9XG5cbiAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgdXJsOiBST1VURVMuc2VhcmNoLFxuICAgICAgICBkYXRhOiB7IGlkczogc2VhcmNoLmdldCgnaWRzJyksIG9wdGlvbnM6IHNlYXJjaC50b0pTT04oKSwgdXBkYXRlZDogZGVmZXJyZWQudXBkYXRlZCB9LFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyZXNwb25zZSB0aW1lJywgXy5ub3coKSAtIHRpbWUpO1xuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2YXIgZmxpZ2h0cyA9IF8ubWFwKGRhdGEuZmxpZ2h0cywgZnVuY3Rpb24oZmxpZ2h0cykge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZF9mbGlnaHRzICA9IFtdO1xuICAgICAgICAgICAgICAgIF8uZWFjaChmbGlnaHRzLCBmdW5jdGlvbihmbGlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoZmxpZ2h0ICE9PSBudWxsKXtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZmxpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBmbGlnaHQubGVuZ3RoID09PSAndW5kZWZpbmVkJykgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IG9iamVjdCB3aWxsIGJlIHB1c2hlZCBhbmQgYmxhbmsgYXJyYXkgd2lsbCBiZSB0cnVuY2F0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZF9mbGlnaHRzLnB1c2goRmxpZ2h0LnBhcnNlKGZsaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkX2ZsaWdodHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeSh7IHNlYXJjaDogc2VhcmNoLCBkZWZlcnJlZDogZGVmZXJyZWQsIGZsaWdodHM6IGZsaWdodHN9KTtcblxuICAgICAgICAgICAgXy5lYWNoKGRlZmVycmVkLmZsaWdodHMsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgICAgICAgICBpZiAoZmxpZ2h0c1trXSlcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQuZmxpZ2h0c1trXSA9IF8udW5pb24odiwgZmxpZ2h0c1trXSk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICBpZiAoZGF0YS5wZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQudXBkYXRlZCA9IGRhdGEudXBkYXRlZDtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBGbGlnaHQuZmV0Y2goc2VhcmNoLCBkZWZlcnJlZCk7IH0sIFNlYXJjaC5JTlRFUlZBTCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoeyBzZWFyY2g6IHNlYXJjaCwgZmxpZ2h0czogZGVmZXJyZWQuZmxpZ2h0cywgcHJpY2VzOiBkYXRhLnByaWNlcyB8fCBudWxsfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZWplY3QoSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KSlcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBGbGlnaHQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9zdG9yZXMvZmxpZ2h0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSIsIid1c2Ugc3RyaWN0JztcblxudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKSxcbiAgICBRID0gcmVxdWlyZSgncScpLFxuICAgICQgPSByZXF1aXJlKCdqcXVlcnknKSxcbiAgICBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKVxuICAgIDtcblxudmFyIFN0b3JlID0gcmVxdWlyZSgnY29yZS9zdG9yZScpXG4gICAgO1xuXG52YXIgUk9VVEVTID0gcmVxdWlyZSgnYXBwL3JvdXRlcycpLmZsaWdodHM7XG5cbnZhciBTZWFyY2ggPSBTdG9yZS5leHRlbmQoe1xuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9tZXN0aWM6IDEsXG4gICAgICAgICAgICB0cmlwVHlwZTogU2VhcmNoLk9ORVdBWSxcbiAgICAgICAgICAgIGNhYmluVHlwZTogU2VhcmNoLkVDT05PTVksXG4gICAgICAgICAgICBmbGlnaHRzOiBbIHsgZnJvbTogU2VhcmNoLkRFTCwgdG86IFNlYXJjaC5CT00sIGRlcGFydF9hdDogbW9tZW50KCkuYWRkKDEsICdkYXknKSwgcmV0dXJuX2F0OiBudWxsIH0gXSxcblxuICAgICAgICAgICAgcGFzc2VuZ2VyczogWzEsIDAsIDBdLFxuXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlKCdkb21lc3RpYycsIGZ1bmN0aW9uKGRvbWVzdGljKSB7XG4gICAgICAgICAgICBpZiAoIWRvbWVzdGljICYmIFNlYXJjaC5NVUxUSUNJVFkgPT0gdGhpcy5nZXQoJ3RyaXBUeXBlJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgndHJpcFR5cGUnLCBTZWFyY2guT05FV0FZKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRvbWVzdGljKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ2ZsaWdodHMnLCBbeyBmcm9tOiBTZWFyY2guREVMLCB0bzogU2VhcmNoLkJPTSwgZGVwYXJ0X2F0OiBtb21lbnQoKS5hZGQoMSwgJ2RheScpIH1dKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ2ZsaWdodHMnLCBbeyBmcm9tOiBudWxsLCB0bzogbnVsbCwgZGVwYXJ0X2F0OiBtb21lbnQoKS5hZGQoMSwgJ2RheScpIH1dKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LCB7IGluaXQ6IGZhbHNlIH0pO1xuXG4gICAgICAgIHRoaXMub2JzZXJ2ZSgndHJpcFR5cGUnLCBmdW5jdGlvbih2YWx1ZSwgb2xkKSB7XG4gICAgICAgICAgICBpZiAoU2VhcmNoLk1VTFRJQ0lUWSA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3BsaWNlKCdmbGlnaHRzJywgMSwgMCwgeyBmcm9tOiBudWxsLCB0bzogbnVsbCwgZGVwYXJ0X2F0OiBudWxsIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoU2VhcmNoLk1VTFRJQ0lUWSA9PSBvbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnZmxpZ2h0cycsIFt0aGlzLmdldCgnZmxpZ2h0cy4wJyldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFNlYXJjaC5ST1VORFRSSVAgPT0gb2xkKSAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdmbGlnaHRzLjAucmV0dXJuX2F0JywgbnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSwgeyBpbml0OiBmYWxzZSB9KTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlRmxpZ2h0OiBmdW5jdGlvbihpKSB7XG4gICAgICAgIHRoaXMuc3BsaWNlKCdmbGlnaHRzJywgaSwgMSk7XG4gICAgfSxcblxuICAgIGFkZEZsaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucHVzaCgnZmxpZ2h0cycsIHt9KTtcbiAgICB9LFxuXG4gICAgdG9KU09OOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZvcm0gPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjczogdGhpcy5nZXQoJ2NzJyksXG4gICAgICAgICAgICBkb21lc3RpYzogdGhpcy5nZXQoJ2RvbWVzdGljJyksXG4gICAgICAgICAgICB0cmlwVHlwZTogdGhpcy5nZXQoJ3RyaXBUeXBlJyksXG4gICAgICAgICAgICBjYWJpblR5cGU6IHRoaXMuZ2V0KCdjYWJpblR5cGUnKSxcbiAgICAgICAgICAgIHBhc3NlbmdlcnM6IHRoaXMuZ2V0KCdwYXNzZW5nZXJzJyksXG5cbiAgICAgICAgICAgIGZsaWdodHM6IF8ubWFwKHRoaXMuZ2V0KCdmbGlnaHRzJyksIGZ1bmN0aW9uKGZsaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGZsaWdodC5mcm9tLFxuICAgICAgICAgICAgICAgICAgICB0bzogZmxpZ2h0LnRvLFxuICAgICAgICAgICAgICAgICAgICBkZXBhcnRfYXQ6IG1vbWVudC5pc01vbWVudChmbGlnaHQuZGVwYXJ0X2F0KSA/IGZsaWdodC5kZXBhcnRfYXQuZm9ybWF0KCdZWVlZLU1NLUREJykgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICByZXR1cm5fYXQ6IDIgPT0gZm9ybS5nZXQoJ3RyaXBUeXBlJylcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKG1vbWVudC5pc01vbWVudChmbGlnaHQucmV0dXJuX2F0KSA/IGZsaWdodC5yZXR1cm5fYXQuZm9ybWF0KCdZWVlZLU1NLUREJykgOiBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgfVxufSk7XG5cblNlYXJjaC5NVUxUSUNJVFkgPSAzO1xuU2VhcmNoLlJPVU5EVFJJUCA9IDI7XG5TZWFyY2guT05FV0FZID0gMTtcblxuU2VhcmNoLkRFTCA9IDEyMzY7XG5TZWFyY2guQk9NID0gOTQ2O1xuXG5TZWFyY2guRUNPTk9NWSA9IDE7XG5TZWFyY2guUEVSTUlVTV9FQ09OT01ZID0gMjtcblNlYXJjaC5CVVNJTkVTUyA9IDM7XG5TZWFyY2guRklSU1QgPSA0O1xuXG5TZWFyY2guTUFYX1dBSVRfVElNRSA9IDYwMDAwO1xuU2VhcmNoLklOVEVSVkFMID0gNTAwMDtcblxuU2VhcmNoLmxvYWQgPSBmdW5jdGlvbih1cmwsIGZvcmNlLCBjcykge1xuICAgIGNzID0gY3MgfHwgbnVsbDtcblxuICAgIHJldHVybiBRLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgIHVybDogUk9VVEVTLnNlYXJjaCxcbiAgICAgICAgICAgIGRhdGE6IHsgcXVlcnk6IHVybCwgZm9yY2U6IGZvcmNlIHx8IDAsIGNzOiBjcyB9LFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsgcmVzb2x2ZShTZWFyY2gucGFyc2UoZGF0YSkpOyB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpKVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuU2VhcmNoLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIGRhdGEuZmxpZ2h0cyA9IF8ubWFwKGRhdGEuZmxpZ2h0cywgZnVuY3Rpb24oaSkge1xuICAgICAgICBpLmRlcGFydF9hdCA9IG1vbWVudChpLmRlcGFydF9hdCk7XG4gICAgICAgIGkucmV0dXJuX2F0ID0gaS5yZXR1cm5fYXQgJiYgbW9tZW50KGkucmV0dXJuX2F0KTtcblxuICAgICAgICByZXR1cm4gaTtcbiAgICB9KTtcblxuICAgIHZhciBzZWFyY2ggPSBuZXcgU2VhcmNoKHtkYXRhOiBkYXRhfSk7XG5cblxuICAgIHJldHVybiBzZWFyY2g7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gU2VhcmNoO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvc3RvcmVzL2ZsaWdodC9zZWFyY2guanNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IiwidmFyIEZMSUdIVFMgPSAnL2IyYy9mbGlnaHRzJztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZmxpZ2h0czoge1xuICAgICAgICBzZWFyY2g6IEZMSUdIVFMgKyAnL3NlYXJjaCcsXG4gICAgICAgIGJvb2tpbmc6IGZ1bmN0aW9uKGlkKSB7IHJldHVybiAnL2IyYy9ib29raW5nLycgKyBpZDsgfSxcbiAgICB9LFxufTtcblxuLy9uZXdcbnZhciBwcm9maWxlbWV0YSA9IHJlcXVpcmUoJ3N0b3Jlcy9teXByb2ZpbGUvbWV0YScpLFxuICAgIGJvb2tpbmdlbWV0YSA9IHJlcXVpcmUoJ3N0b3Jlcy9teWJvb2tpbmdzL21ldGEnKSxcbiAgICB0cmF2ZWxsZXJtZXRhID0gcmVxdWlyZSgnc3RvcmVzL215dHJhdmVsbGVyL21ldGEnKSxcbiAgICBteVByb2ZpbGUgPSByZXF1aXJlKCdzdG9yZXMvbXlwcm9maWxlL215cHJvZmlsZScpLFxuICAgIG15Qm9va2luZyA9IHJlcXVpcmUoJ3N0b3Jlcy9teWJvb2tpbmdzL215Ym9va2luZ3MnKSxcbiAgICBteVRyYXZlbGxlciA9IHJlcXVpcmUoJ3N0b3Jlcy9teXRyYXZlbGxlci9teXRyYXZlbGxlcicpO1xuICAgIFxudmFyIGFjdGlvbnMgPSB7XG4gICAgcHJvZmlsZTogZnVuY3Rpb24oY3R4LCBuZXh0KSB7XG4gICAgICAgIChuZXcgbXlQcm9maWxlKCkpLnJlbmRlcignI2FwcCcpLnRoZW4oZnVuY3Rpb24oKSB7IG5leHQoKTsgfSk7XG4gICAgfSxcbiAgICBib29raW5nOiBmdW5jdGlvbihjdHgsIG5leHQpIHtcbiAgICAgICAgKG5ldyBteUJvb2tpbmcoKSkucmVuZGVyKCcjYXBwJykudGhlbihmdW5jdGlvbigpIHsgbmV4dCgpOyB9KTtcbiAgICB9LFxuICAgIHRyYXZlbGxlcjogZnVuY3Rpb24oY3R4LCBuZXh0KSB7XG4gICAgICAgIChuZXcgbXlUcmF2ZWxsZXIoKSkucmVuZGVyKCcjYXBwJykudGhlbihmdW5jdGlvbigpIHsgbmV4dCgpOyB9KTtcbiAgICB9LFxufTtcblxucHJvZmlsZW1ldGEuaW5zdGFuY2UoKS50aGVuKGZ1bmN0aW9uKG1ldGEpIHtcbiAgICBwYWdlKCcvYjJjL3VzZXJzL215cHJvZmlsZS8nLCBhY3Rpb25zLnByb2ZpbGUpO1xuICAgICBwYWdlKHtjbGljazogZmFsc2V9KTtcbn0pO1xuXG5ib29raW5nZW1ldGEuaW5zdGFuY2UoKS50aGVuKGZ1bmN0aW9uKG1ldGEpIHtcbiAgICBwYWdlKCcvYjJjL3VzZXJzL215Ym9va2luZ3MvJywgYWN0aW9ucy5ib29raW5nKTtcbiAgICAgcGFnZSh7Y2xpY2s6IGZhbHNlfSk7XG59KTtcblxudHJhdmVsbGVybWV0YS5pbnN0YW5jZSgpLnRoZW4oZnVuY3Rpb24obWV0YSkge1xuICAgIHBhZ2UoJy9iMmMvdXNlcnMvbXl0cmF2ZWxsZXIvJywgYWN0aW9ucy50cmF2ZWxsZXIpO1xuICAgICBwYWdlKHtjbGljazogZmFsc2V9KTtcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvYXBwL3JvdXRlcy5qc1xuLy8gbW9kdWxlIGlkID0gNTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUgNiIsIid1c2Ugc3RyaWN0JztcblxudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKSxcbiAgICBRID0gcmVxdWlyZSgncScpLFxuICAgICQgPSByZXF1aXJlKCdqcXVlcnknKSxcbiAgICBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKSxcbiAgICB2YWxpZGF0ZSA9IHJlcXVpcmUoJ3ZhbGlkYXRlJylcbiAgICBcbiAgICA7XG5cbnZhciBTdG9yZSA9IHJlcXVpcmUoJ2NvcmUvc3RvcmUnKSAgO1xuXG52YXIgTXlwcm9maWxlID0gU3RvcmUuZXh0ZW5kKHtcbiAgICBjb21wdXRlZDoge1xuICAgICAgICBwcmljZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfLnJlZHVjZSh0aGlzLmdldCgnICcpKVxuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRTdGF0ZUxpc3Q6IGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgLy8gY29uc29sZS5sb2coXCJnZXRTdGF0ZUxpc3RcIik7XG4gICAgICAgIHJldHVybiBRLlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCwgcHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogJy9iMmMvdXNlcnMvZ2V0U3RhdGVMaXN0LycgKyBfLnBhcnNlSW50KHZpZXcuZ2V0KCdwcm9maWxlZm9ybS5jb3VudHJ5Y29kZScpKSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsnZGF0YSc6ICcnfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgnc3RhdGVsaXN0JyxudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ3N0YXRlbGlzdCcsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgncHJvZmlsZWZvcm0uc3RhdGVjb2RlJywgdmlldy5nZXQoJ3Byb2ZpbGVmb3JtLnN0YXRlY29kZScpKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy51cGRhdGUoJ3Byb2ZpbGVmb3JtLnN0YXRlY29kZScpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdmaW5zaWhlZCBzdG9yZTogJyk7XG4gICAgICAgICAgICB2YXIgdGVtcD12aWV3LmdldCgncHJvZmlsZWZvcm0uc3RhdGVjb2RlJyk7XG4gICAgICAgICAgICB2aWV3LnNldCgncHJvZmlsZWZvcm0uc3RhdGVjb2RlJywgbnVsbCk7XG4gICAgICAgICAgdmlldy5zZXQoJ3Byb2ZpbGVmb3JtLnN0YXRlY29kZScsIHRlbXApO1xuICAgICAgICAgIFxuICAgICAgICAgIFxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRDaXR5TGlzdDogZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImdldENpdHlMaXN0XCIpO1xuICAgICAgICByZXR1cm4gUS5Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIHByb2dyZXNzKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJjL3VzZXJzL2dldENpdHlMaXN0LycgKyBfLnBhcnNlSW50KHZpZXcuZ2V0KCdwcm9maWxlZm9ybS5zdGF0ZWNvZGUnKSksXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7J2RhdGEnOiAnJ30sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2NpdHlsaXN0JyxudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2NpdHlsaXN0JywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdwcm9maWxlZm9ybS5jaXR5Y29kZScsIHZpZXcuZ2V0KCdwcm9maWxlZm9ybS5jaXR5Y29kZScpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAkKCcjZGl2Y2l0eSAudWkuZHJvcGRvd24nKS5kcm9wZG93bignc2V0IHNlbGVjdGVkJywgJCgnI2RpdmNpdHkgLml0ZW0uYWN0aXZlLnNlbGVjdGVkJykuYXR0cignZGF0YS12YWx1ZScpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0sXG59KTtcblxuTXlwcm9maWxlLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpOyAgXG4gICAgICAgICAgIGRhdGEuYmFzZVVybD0nJztcbiAgICAgICAgICAgIGRhdGEuYWRkPWZhbHNlO1xuICAgICAgICAgICAgZGF0YS5lZGl0PWZhbHNlOyAgICAgICAgICAgXG4gICAgICAgICAgICBkYXRhLnBlbmRpbmc9IGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgcmV0dXJuIG5ldyBNeXByb2ZpbGUoe2RhdGE6IGRhdGF9KTtcblxufTtcbk15cHJvZmlsZS5mZXRjaCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBRLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICQuZ2V0SlNPTignL2IyYy91c2Vycy9nZXRQcm9maWxlJylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHsgIHJlc29sdmUoTXlwcm9maWxlLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmFpbChmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy9UT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZhaWxlZFwiKTtcbiAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNeXByb2ZpbGU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9zdG9yZXMvbXlwcm9maWxlL215cHJvZmlsZS5qc1xuLy8gbW9kdWxlIGlkID0gNjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUgNiA4IiwiLy8gICAgIFZhbGlkYXRlLmpzIDAuNy4xXG5cbi8vICAgICAoYykgMjAxMy0yMDE1IE5pY2tsYXMgQW5zbWFuLCAyMDEzIFdyYXBwXG4vLyAgICAgVmFsaWRhdGUuanMgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4vLyAgICAgRm9yIGFsbCBkZXRhaWxzIGFuZCBkb2N1bWVudGF0aW9uOlxuLy8gICAgIGh0dHA6Ly92YWxpZGF0ZWpzLm9yZy9cblxuKGZ1bmN0aW9uKGV4cG9ydHMsIG1vZHVsZSwgZGVmaW5lKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8vIFRoZSBtYWluIGZ1bmN0aW9uIHRoYXQgY2FsbHMgdGhlIHZhbGlkYXRvcnMgc3BlY2lmaWVkIGJ5IHRoZSBjb25zdHJhaW50cy5cbiAgLy8gVGhlIG9wdGlvbnMgYXJlIHRoZSBmb2xsb3dpbmc6XG4gIC8vICAgLSBmb3JtYXQgKHN0cmluZykgLSBBbiBvcHRpb24gdGhhdCBjb250cm9scyBob3cgdGhlIHJldHVybmVkIHZhbHVlIGlzIGZvcm1hdHRlZFxuICAvLyAgICAgKiBmbGF0IC0gUmV0dXJucyBhIGZsYXQgYXJyYXkgb2YganVzdCB0aGUgZXJyb3IgbWVzc2FnZXNcbiAgLy8gICAgICogZ3JvdXBlZCAtIFJldHVybnMgdGhlIG1lc3NhZ2VzIGdyb3VwZWQgYnkgYXR0cmlidXRlIChkZWZhdWx0KVxuICAvLyAgICAgKiBkZXRhaWxlZCAtIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJhdyB2YWxpZGF0aW9uIGRhdGFcbiAgLy8gICAtIGZ1bGxNZXNzYWdlcyAoYm9vbGVhbikgLSBJZiBgdHJ1ZWAgKGRlZmF1bHQpIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBwcmVwZW5kZWQgdG8gdGhlIGVycm9yLlxuICAvL1xuICAvLyBQbGVhc2Ugbm90ZSB0aGF0IHRoZSBvcHRpb25zIGFyZSBhbHNvIHBhc3NlZCB0byBlYWNoIHZhbGlkYXRvci5cbiAgdmFyIHZhbGlkYXRlID0gZnVuY3Rpb24oYXR0cmlidXRlcywgY29uc3RyYWludHMsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gdi5leHRlbmQoe30sIHYub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICB2YXIgcmVzdWx0cyA9IHYucnVuVmFsaWRhdGlvbnMoYXR0cmlidXRlcywgY29uc3RyYWludHMsIG9wdGlvbnMpXG4gICAgICAsIGF0dHJcbiAgICAgICwgdmFsaWRhdG9yO1xuXG4gICAgZm9yIChhdHRyIGluIHJlc3VsdHMpIHtcbiAgICAgIGZvciAodmFsaWRhdG9yIGluIHJlc3VsdHNbYXR0cl0pIHtcbiAgICAgICAgaWYgKHYuaXNQcm9taXNlKHJlc3VsdHNbYXR0cl1bdmFsaWRhdG9yXSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2UgdmFsaWRhdGUuYXN5bmMgaWYgeW91IHdhbnQgc3VwcG9ydCBmb3IgcHJvbWlzZXNcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkYXRlLnByb2Nlc3NWYWxpZGF0aW9uUmVzdWx0cyhyZXN1bHRzLCBvcHRpb25zKTtcbiAgfTtcblxuICB2YXIgdiA9IHZhbGlkYXRlO1xuXG4gIC8vIENvcGllcyBvdmVyIGF0dHJpYnV0ZXMgZnJvbSBvbmUgb3IgbW9yZSBzb3VyY2VzIHRvIGEgc2luZ2xlIGRlc3RpbmF0aW9uLlxuICAvLyBWZXJ5IG11Y2ggc2ltaWxhciB0byB1bmRlcnNjb3JlJ3MgZXh0ZW5kLlxuICAvLyBUaGUgZmlyc3QgYXJndW1lbnQgaXMgdGhlIHRhcmdldCBvYmplY3QgYW5kIHRoZSByZW1haW5pbmcgYXJndW1lbnRzIHdpbGwgYmVcbiAgLy8gdXNlZCBhcyB0YXJnZXRzLlxuICB2LmV4dGVuZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKS5mb3JFYWNoKGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgZm9yICh2YXIgYXR0ciBpbiBzb3VyY2UpIHtcbiAgICAgICAgb2JqW2F0dHJdID0gc291cmNlW2F0dHJdO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgdi5leHRlbmQodmFsaWRhdGUsIHtcbiAgICAvLyBUaGlzIGlzIHRoZSB2ZXJzaW9uIG9mIHRoZSBsaWJyYXJ5IGFzIGEgc2VtdmVyLlxuICAgIC8vIFRoZSB0b1N0cmluZyBmdW5jdGlvbiB3aWxsIGFsbG93IGl0IHRvIGJlIGNvZXJjZWQgaW50byBhIHN0cmluZ1xuICAgIHZlcnNpb246IHtcbiAgICAgIG1ham9yOiAwLFxuICAgICAgbWlub3I6IDcsXG4gICAgICBwYXRjaDogMSxcbiAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmVyc2lvbiA9IHYuZm9ybWF0KFwiJXttYWpvcn0uJXttaW5vcn0uJXtwYXRjaH1cIiwgdi52ZXJzaW9uKTtcbiAgICAgICAgaWYgKCF2LmlzRW1wdHkodi52ZXJzaW9uLm1ldGFkYXRhKSkge1xuICAgICAgICAgIHZlcnNpb24gKz0gXCIrXCIgKyB2LnZlcnNpb24ubWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIEJlbG93IGlzIHRoZSBkZXBlbmRlbmNpZXMgdGhhdCBhcmUgdXNlZCBpbiB2YWxpZGF0ZS5qc1xuXG4gICAgLy8gVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBQcm9taXNlIGltcGxlbWVudGF0aW9uLlxuICAgIC8vIElmIHlvdSBhcmUgdXNpbmcgUS5qcywgUlNWUCBvciBhbnkgb3RoZXIgQSsgY29tcGF0aWJsZSBpbXBsZW1lbnRhdGlvblxuICAgIC8vIG92ZXJyaWRlIHRoaXMgYXR0cmlidXRlIHRvIGJlIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGF0IHByb21pc2UuXG4gICAgLy8gU2luY2UgalF1ZXJ5IHByb21pc2VzIGFyZW4ndCBBKyBjb21wYXRpYmxlIHRoZXkgd29uJ3Qgd29yay5cbiAgICBQcm9taXNlOiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiA/IFByb21pc2UgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBudWxsLFxuXG4gICAgLy8gSWYgbW9tZW50IGlzIHVzZWQgaW4gbm9kZSwgYnJvd3NlcmlmeSBldGMgcGxlYXNlIHNldCB0aGlzIGF0dHJpYnV0ZVxuICAgIC8vIGxpa2UgdGhpczogYHZhbGlkYXRlLm1vbWVudCA9IHJlcXVpcmUoXCJtb21lbnRcIik7XG4gICAgbW9tZW50OiB0eXBlb2YgbW9tZW50ICE9PSBcInVuZGVmaW5lZFwiID8gbW9tZW50IDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gbnVsbCxcblxuICAgIFhEYXRlOiB0eXBlb2YgWERhdGUgIT09IFwidW5kZWZpbmVkXCIgPyBYRGF0ZSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIG51bGwsXG5cbiAgICBFTVBUWV9TVFJJTkdfUkVHRVhQOiAvXlxccyokLyxcblxuICAgIC8vIFJ1bnMgdGhlIHZhbGlkYXRvcnMgc3BlY2lmaWVkIGJ5IHRoZSBjb25zdHJhaW50cyBvYmplY3QuXG4gICAgLy8gV2lsbCByZXR1cm4gYW4gYXJyYXkgb2YgdGhlIGZvcm1hdDpcbiAgICAvLyAgICAgW3thdHRyaWJ1dGU6IFwiPGF0dHJpYnV0ZSBuYW1lPlwiLCBlcnJvcjogXCI8dmFsaWRhdGlvbiByZXN1bHQ+XCJ9LCAuLi5dXG4gICAgcnVuVmFsaWRhdGlvbnM6IGZ1bmN0aW9uKGF0dHJpYnV0ZXMsIGNvbnN0cmFpbnRzLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IFtdXG4gICAgICAgICwgYXR0clxuICAgICAgICAsIHZhbGlkYXRvck5hbWVcbiAgICAgICAgLCB2YWx1ZVxuICAgICAgICAsIHZhbGlkYXRvcnNcbiAgICAgICAgLCB2YWxpZGF0b3JcbiAgICAgICAgLCB2YWxpZGF0b3JPcHRpb25zXG4gICAgICAgICwgZXJyb3I7XG5cbiAgICAgIGlmICh2LmlzRG9tRWxlbWVudChhdHRyaWJ1dGVzKSkge1xuICAgICAgICBhdHRyaWJ1dGVzID0gdi5jb2xsZWN0Rm9ybVZhbHVlcyhhdHRyaWJ1dGVzKTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcHMgdGhyb3VnaCBlYWNoIGNvbnN0cmFpbnRzLCBmaW5kcyB0aGUgY29ycmVjdCB2YWxpZGF0b3IgYW5kIHJ1biBpdC5cbiAgICAgIGZvciAoYXR0ciBpbiBjb25zdHJhaW50cykge1xuICAgICAgICB2YWx1ZSA9IHYuZ2V0RGVlcE9iamVjdFZhbHVlKGF0dHJpYnV0ZXMsIGF0dHIpO1xuICAgICAgICAvLyBUaGlzIGFsbG93cyB0aGUgY29uc3RyYWludHMgZm9yIGFuIGF0dHJpYnV0ZSB0byBiZSBhIGZ1bmN0aW9uLlxuICAgICAgICAvLyBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgdmFsdWUsIGF0dHJpYnV0ZSBuYW1lLCB0aGUgY29tcGxldGUgZGljdCBvZlxuICAgICAgICAvLyBhdHRyaWJ1dGVzIGFzIHdlbGwgYXMgdGhlIG9wdGlvbnMgYW5kIGNvbnN0cmFpbnRzIHBhc3NlZCBpbi5cbiAgICAgICAgLy8gVGhpcyBpcyB1c2VmdWwgd2hlbiB5b3Ugd2FudCB0byBoYXZlIGRpZmZlcmVudFxuICAgICAgICAvLyB2YWxpZGF0aW9ucyBkZXBlbmRpbmcgb24gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgICAgdmFsaWRhdG9ycyA9IHYucmVzdWx0KGNvbnN0cmFpbnRzW2F0dHJdLCB2YWx1ZSwgYXR0cmlidXRlcywgYXR0ciwgb3B0aW9ucywgY29uc3RyYWludHMpO1xuXG4gICAgICAgIGZvciAodmFsaWRhdG9yTmFtZSBpbiB2YWxpZGF0b3JzKSB7XG4gICAgICAgICAgdmFsaWRhdG9yID0gdi52YWxpZGF0b3JzW3ZhbGlkYXRvck5hbWVdO1xuXG4gICAgICAgICAgaWYgKCF2YWxpZGF0b3IpIHtcbiAgICAgICAgICAgIGVycm9yID0gdi5mb3JtYXQoXCJVbmtub3duIHZhbGlkYXRvciAle25hbWV9XCIsIHtuYW1lOiB2YWxpZGF0b3JOYW1lfSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhbGlkYXRvck9wdGlvbnMgPSB2YWxpZGF0b3JzW3ZhbGlkYXRvck5hbWVdO1xuICAgICAgICAgIC8vIFRoaXMgYWxsb3dzIHRoZSBvcHRpb25zIHRvIGJlIGEgZnVuY3Rpb24uIFRoZSBmdW5jdGlvbiB3aWxsIGJlXG4gICAgICAgICAgLy8gY2FsbGVkIHdpdGggdGhlIHZhbHVlLCBhdHRyaWJ1dGUgbmFtZSwgdGhlIGNvbXBsZXRlIGRpY3Qgb2ZcbiAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGFzIHdlbGwgYXMgdGhlIG9wdGlvbnMgYW5kIGNvbnN0cmFpbnRzIHBhc3NlZCBpbi5cbiAgICAgICAgICAvLyBUaGlzIGlzIHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGhhdmUgZGlmZmVyZW50XG4gICAgICAgICAgLy8gdmFsaWRhdGlvbnMgZGVwZW5kaW5nIG9uIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICAgICAgdmFsaWRhdG9yT3B0aW9ucyA9IHYucmVzdWx0KHZhbGlkYXRvck9wdGlvbnMsIHZhbHVlLCBhdHRyaWJ1dGVzLCBhdHRyLCBvcHRpb25zLCBjb25zdHJhaW50cyk7XG4gICAgICAgICAgaWYgKCF2YWxpZGF0b3JPcHRpb25zKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogYXR0cixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdG9yTmFtZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHZhbGlkYXRvck9wdGlvbnMsXG4gICAgICAgICAgICBlcnJvcjogdmFsaWRhdG9yLmNhbGwodmFsaWRhdG9yLCB2YWx1ZSwgdmFsaWRhdG9yT3B0aW9ucywgYXR0cixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0sXG5cbiAgICAvLyBUYWtlcyB0aGUgb3V0cHV0IGZyb20gcnVuVmFsaWRhdGlvbnMgYW5kIGNvbnZlcnRzIGl0IHRvIHRoZSBjb3JyZWN0XG4gICAgLy8gb3V0cHV0IGZvcm1hdC5cbiAgICBwcm9jZXNzVmFsaWRhdGlvblJlc3VsdHM6IGZ1bmN0aW9uKGVycm9ycywgb3B0aW9ucykge1xuICAgICAgdmFyIGF0dHI7XG5cbiAgICAgIGVycm9ycyA9IHYucHJ1bmVFbXB0eUVycm9ycyhlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgZXJyb3JzID0gdi5leHBhbmRNdWx0aXBsZUVycm9ycyhlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgZXJyb3JzID0gdi5jb252ZXJ0RXJyb3JNZXNzYWdlcyhlcnJvcnMsIG9wdGlvbnMpO1xuXG4gICAgICBzd2l0Y2ggKG9wdGlvbnMuZm9ybWF0IHx8IFwiZ3JvdXBlZFwiKSB7XG4gICAgICAgIGNhc2UgXCJkZXRhaWxlZFwiOlxuICAgICAgICAgIC8vIERvIG5vdGhpbmcgbW9yZSB0byB0aGUgZXJyb3JzXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcImZsYXRcIjpcbiAgICAgICAgICBlcnJvcnMgPSB2LmZsYXR0ZW5FcnJvcnNUb0FycmF5KGVycm9ycyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcImdyb3VwZWRcIjpcbiAgICAgICAgICBlcnJvcnMgPSB2Lmdyb3VwRXJyb3JzQnlBdHRyaWJ1dGUoZXJyb3JzKTtcbiAgICAgICAgICBmb3IgKGF0dHIgaW4gZXJyb3JzKSB7XG4gICAgICAgICAgICBlcnJvcnNbYXR0cl0gPSB2LmZsYXR0ZW5FcnJvcnNUb0FycmF5KGVycm9yc1thdHRyXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHYuZm9ybWF0KFwiVW5rbm93biBmb3JtYXQgJXtmb3JtYXR9XCIsIG9wdGlvbnMpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHYuaXNFbXB0eShlcnJvcnMpID8gdW5kZWZpbmVkIDogZXJyb3JzO1xuICAgIH0sXG5cbiAgICAvLyBSdW5zIHRoZSB2YWxpZGF0aW9ucyB3aXRoIHN1cHBvcnQgZm9yIHByb21pc2VzLlxuICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBwcm9taXNlIHRoYXQgaXMgc2V0dGxlZCB3aGVuIGFsbCB0aGVcbiAgICAvLyB2YWxpZGF0aW9uIHByb21pc2VzIGhhdmUgYmVlbiBjb21wbGV0ZWQuXG4gICAgLy8gSXQgY2FuIGJlIGNhbGxlZCBldmVuIGlmIG5vIHZhbGlkYXRpb25zIHJldHVybmVkIGEgcHJvbWlzZS5cbiAgICBhc3luYzogZnVuY3Rpb24oYXR0cmlidXRlcywgY29uc3RyYWludHMsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB2LmV4dGVuZCh7fSwgdi5hc3luYy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgIHZhciByZXN1bHRzID0gdi5ydW5WYWxpZGF0aW9ucyhhdHRyaWJ1dGVzLCBjb25zdHJhaW50cywgb3B0aW9ucyk7XG5cbiAgICAgIHJldHVybiBuZXcgdi5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2LndhaXRGb3JSZXN1bHRzKHJlc3VsdHMpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGVycm9ycyA9IHYucHJvY2Vzc1ZhbGlkYXRpb25SZXN1bHRzKHJlc3VsdHMsIG9wdGlvbnMpO1xuICAgICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKGF0dHJpYnV0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHNpbmdsZTogZnVuY3Rpb24odmFsdWUsIGNvbnN0cmFpbnRzLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gdi5leHRlbmQoe30sIHYuc2luZ2xlLm9wdGlvbnMsIG9wdGlvbnMsIHtcbiAgICAgICAgZm9ybWF0OiBcImZsYXRcIixcbiAgICAgICAgZnVsbE1lc3NhZ2VzOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdih7c2luZ2xlOiB2YWx1ZX0sIHtzaW5nbGU6IGNvbnN0cmFpbnRzfSwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiBhbGwgcHJvbWlzZXMgaW4gdGhlIHJlc3VsdHMgYXJyYXlcbiAgICAvLyBhcmUgc2V0dGxlZC4gVGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbSB0aGlzIGZ1bmN0aW9uIGlzIGFsd2F5cyByZXNvbHZlZCxcbiAgICAvLyBuZXZlciByZWplY3RlZC5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIG1vZGlmaWVzIHRoZSBpbnB1dCBhcmd1bWVudCwgaXQgcmVwbGFjZXMgdGhlIHByb21pc2VzXG4gICAgLy8gd2l0aCB0aGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgcHJvbWlzZS5cbiAgICB3YWl0Rm9yUmVzdWx0czogZnVuY3Rpb24ocmVzdWx0cykge1xuICAgICAgLy8gQ3JlYXRlIGEgc2VxdWVuY2Ugb2YgYWxsIHRoZSByZXN1bHRzIHN0YXJ0aW5nIHdpdGggYSByZXNvbHZlZCBwcm9taXNlLlxuICAgICAgcmV0dXJuIHJlc3VsdHMucmVkdWNlKGZ1bmN0aW9uKG1lbW8sIHJlc3VsdCkge1xuICAgICAgICAvLyBJZiB0aGlzIHJlc3VsdCBpc24ndCBhIHByb21pc2Ugc2tpcCBpdCBpbiB0aGUgc2VxdWVuY2UuXG4gICAgICAgIGlmICghdi5pc1Byb21pc2UocmVzdWx0LmVycm9yKSkge1xuICAgICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lbW8udGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmVycm9yLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmVzdWx0LmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAvLyBJZiBmb3Igc29tZSByZWFzb24gdGhlIHZhbGlkYXRvciBwcm9taXNlIHdhcyByZWplY3RlZCBidXQgbm9cbiAgICAgICAgICAgICAgLy8gZXJyb3Igd2FzIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgICAgIHYud2FybihcIlZhbGlkYXRvciBwcm9taXNlIHdhcyByZWplY3RlZCBidXQgZGlkbid0IHJldHVybiBhbiBlcnJvclwiKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVzdWx0LmVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBuZXcgdi5Qcm9taXNlKGZ1bmN0aW9uKHIpIHsgcigpOyB9KSk7IC8vIEEgcmVzb2x2ZWQgcHJvbWlzZVxuICAgIH0sXG5cbiAgICAvLyBJZiB0aGUgZ2l2ZW4gYXJndW1lbnQgaXMgYSBjYWxsOiBmdW5jdGlvbiB0aGUgYW5kOiBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlXG4gICAgLy8gb3RoZXJ3aXNlIGp1c3QgcmV0dXJuIHRoZSB2YWx1ZS4gQWRkaXRpb25hbCBhcmd1bWVudHMgd2lsbCBiZSBwYXNzZWQgYXNcbiAgICAvLyBhcmd1bWVudHMgdG8gdGhlIGZ1bmN0aW9uLlxuICAgIC8vIEV4YW1wbGU6XG4gICAgLy8gYGBgXG4gICAgLy8gcmVzdWx0KCdmb28nKSAvLyAnZm9vJ1xuICAgIC8vIHJlc3VsdChNYXRoLm1heCwgMSwgMikgLy8gMlxuICAgIC8vIGBgYFxuICAgIHJlc3VsdDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG5cbiAgICAvLyBDaGVja3MgaWYgdGhlIHZhbHVlIGlzIGEgbnVtYmVyLiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IGNvbnNpZGVyIE5hTiBhXG4gICAgLy8gbnVtYmVyIGxpa2UgbWFueSBvdGhlciBgaXNOdW1iZXJgIGZ1bmN0aW9ucyBkby5cbiAgICBpc051bWJlcjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmICFpc05hTih2YWx1ZSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgZmFsc2UgaWYgdGhlIG9iamVjdCBpcyBub3QgYSBmdW5jdGlvblxuICAgIGlzRnVuY3Rpb246IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuICAgIH0sXG5cbiAgICAvLyBBIHNpbXBsZSBjaGVjayB0byB2ZXJpZnkgdGhhdCB0aGUgdmFsdWUgaXMgYW4gaW50ZWdlci4gVXNlcyBgaXNOdW1iZXJgXG4gICAgLy8gYW5kIGEgc2ltcGxlIG1vZHVsbyBjaGVjay5cbiAgICBpc0ludGVnZXI6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdi5pc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgJSAxID09PSAwO1xuICAgIH0sXG5cbiAgICAvLyBVc2VzIHRoZSBgT2JqZWN0YCBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgZ2l2ZW4gYXJndW1lbnQgaXMgYW4gb2JqZWN0LlxuICAgIGlzT2JqZWN0OiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogPT09IE9iamVjdChvYmopO1xuICAgIH0sXG5cbiAgICAvLyBTaW1wbHkgY2hlY2tzIGlmIHRoZSBvYmplY3QgaXMgYW4gaW5zdGFuY2Ugb2YgYSBkYXRlXG4gICAgaXNEYXRlOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEYXRlO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGZhbHNlIGlmIHRoZSBvYmplY3QgaXMgYG51bGxgIG9mIGB1bmRlZmluZWRgXG4gICAgaXNEZWZpbmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogIT09IG51bGwgJiYgb2JqICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcblxuICAgIC8vIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnQgaXMgYSBwcm9taXNlLiBBbnl0aGluZyB3aXRoIGEgYHRoZW5gXG4gICAgLy8gZnVuY3Rpb24gaXMgY29uc2lkZXJlZCBhIHByb21pc2UuXG4gICAgaXNQcm9taXNlOiBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gISFwICYmIHYuaXNGdW5jdGlvbihwLnRoZW4pO1xuICAgIH0sXG5cbiAgICBpc0RvbUVsZW1lbnQ6IGZ1bmN0aW9uKG8pIHtcbiAgICAgIGlmICghbykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghdi5pc0Z1bmN0aW9uKG8ucXVlcnlTZWxlY3RvckFsbCkgfHwgIXYuaXNGdW5jdGlvbihvLnF1ZXJ5U2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHYuaXNPYmplY3QoZG9jdW1lbnQpICYmIG8gPT09IGRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zODQzODAvNjk5MzA0XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gbyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG8gJiZcbiAgICAgICAgICB0eXBlb2YgbyA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgIG8gIT09IG51bGwgJiZcbiAgICAgICAgICBvLm5vZGVUeXBlID09PSAxICYmXG4gICAgICAgICAgdHlwZW9mIG8ubm9kZU5hbWUgPT09IFwic3RyaW5nXCI7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGlzRW1wdHk6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgYXR0cjtcblxuICAgICAgLy8gTnVsbCBhbmQgdW5kZWZpbmVkIGFyZSBlbXB0eVxuICAgICAgaWYgKCF2LmlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGZ1bmN0aW9ucyBhcmUgbm9uIGVtcHR5XG4gICAgICBpZiAodi5pc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoaXRlc3BhY2Ugb25seSBzdHJpbmdzIGFyZSBlbXB0eVxuICAgICAgaWYgKHYuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2LkVNUFRZX1NUUklOR19SRUdFWFAudGVzdCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEZvciBhcnJheXMgd2UgdXNlIHRoZSBsZW5ndGggcHJvcGVydHlcbiAgICAgIGlmICh2LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDA7XG4gICAgICB9XG5cbiAgICAgIC8vIERhdGVzIGhhdmUgbm8gYXR0cmlidXRlcyBidXQgYXJlbid0IGVtcHR5XG4gICAgICBpZiAodi5pc0RhdGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgZmluZCBhdCBsZWFzdCBvbmUgcHJvcGVydHkgd2UgY29uc2lkZXIgaXQgbm9uIGVtcHR5XG4gICAgICBpZiAodi5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgZm9yIChhdHRyIGluIHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8vIEZvcm1hdHMgdGhlIHNwZWNpZmllZCBzdHJpbmdzIHdpdGggdGhlIGdpdmVuIHZhbHVlcyBsaWtlIHNvOlxuICAgIC8vIGBgYFxuICAgIC8vIGZvcm1hdChcIkZvbzogJXtmb299XCIsIHtmb286IFwiYmFyXCJ9KSAvLyBcIkZvbyBiYXJcIlxuICAgIC8vIGBgYFxuICAgIC8vIElmIHlvdSB3YW50IHRvIHdyaXRlICV7Li4ufSB3aXRob3V0IGhhdmluZyBpdCByZXBsYWNlZCBzaW1wbHlcbiAgICAvLyBwcmVmaXggaXQgd2l0aCAlIGxpa2UgdGhpcyBgRm9vOiAlJXtmb299YCBhbmQgaXQgd2lsbCBiZSByZXR1cm5lZFxuICAgIC8vIGFzIGBcIkZvbzogJXtmb299XCJgXG4gICAgZm9ybWF0OiB2LmV4dGVuZChmdW5jdGlvbihzdHIsIHZhbHMpIHtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZSh2LmZvcm1hdC5GT1JNQVRfUkVHRVhQLCBmdW5jdGlvbihtMCwgbTEsIG0yKSB7XG4gICAgICAgIGlmIChtMSA9PT0gJyUnKSB7XG4gICAgICAgICAgcmV0dXJuIFwiJXtcIiArIG0yICsgXCJ9XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWxzW20yXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIHtcbiAgICAgIC8vIEZpbmRzICV7a2V5fSBzdHlsZSBwYXR0ZXJucyBpbiB0aGUgZ2l2ZW4gc3RyaW5nXG4gICAgICBGT1JNQVRfUkVHRVhQOiAvKCU/KSVcXHsoW15cXH1dKylcXH0vZ1xuICAgIH0pLFxuXG4gICAgLy8gXCJQcmV0dGlmaWVzXCIgdGhlIGdpdmVuIHN0cmluZy5cbiAgICAvLyBQcmV0dGlmeWluZyBtZWFucyByZXBsYWNpbmcgWy5cXF8tXSB3aXRoIHNwYWNlcyBhcyB3ZWxsIGFzIHNwbGl0dGluZ1xuICAgIC8vIGNhbWVsIGNhc2Ugd29yZHMuXG4gICAgcHJldHRpZnk6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgaWYgKHYuaXNOdW1iZXIoc3RyKSkge1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbW9yZSB0aGFuIDIgZGVjaW1hbHMgcm91bmQgaXQgdG8gdHdvXG4gICAgICAgIGlmICgoc3RyICogMTAwKSAlIDEgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gXCJcIiArIHN0cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChNYXRoLnJvdW5kKHN0ciAqIDEwMCkgLyAxMDApLnRvRml4ZWQoMik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHYuaXNBcnJheShzdHIpKSB7XG4gICAgICAgIHJldHVybiBzdHIubWFwKGZ1bmN0aW9uKHMpIHsgcmV0dXJuIHYucHJldHRpZnkocyk7IH0pLmpvaW4oXCIsIFwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHYuaXNPYmplY3Qoc3RyKSkge1xuICAgICAgICByZXR1cm4gc3RyLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgc3RyaW5nIGlzIGFjdHVhbGx5IGEgc3RyaW5nXG4gICAgICBzdHIgPSBcIlwiICsgc3RyO1xuXG4gICAgICByZXR1cm4gc3RyXG4gICAgICAgIC8vIFNwbGl0cyBrZXlzIHNlcGFyYXRlZCBieSBwZXJpb2RzXG4gICAgICAgIC5yZXBsYWNlKC8oW15cXHNdKVxcLihbXlxcc10pL2csICckMSAkMicpXG4gICAgICAgIC8vIFJlbW92ZXMgYmFja3NsYXNoZXNcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwrL2csICcnKVxuICAgICAgICAvLyBSZXBsYWNlcyAtIGFuZCAtIHdpdGggc3BhY2VcbiAgICAgICAgLnJlcGxhY2UoL1tfLV0vZywgJyAnKVxuICAgICAgICAvLyBTcGxpdHMgY2FtZWwgY2FzZWQgd29yZHNcbiAgICAgICAgLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIGZ1bmN0aW9uKG0wLCBtMSwgbTIpIHtcbiAgICAgICAgICByZXR1cm4gXCJcIiArIG0xICsgXCIgXCIgKyBtMi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KVxuICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICB9LFxuXG4gICAgc3RyaW5naWZ5VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdi5wcmV0dGlmeSh2YWx1ZSk7XG4gICAgfSxcblxuICAgIGlzU3RyaW5nOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7XG4gICAgfSxcblxuICAgIGlzQXJyYXk6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfSxcblxuICAgIGNvbnRhaW5zOiBmdW5jdGlvbihvYmosIHZhbHVlKSB7XG4gICAgICBpZiAoIXYuaXNEZWZpbmVkKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHYuaXNBcnJheShvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmouaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlIGluIG9iajtcbiAgICB9LFxuXG4gICAgZ2V0RGVlcE9iamVjdFZhbHVlOiBmdW5jdGlvbihvYmosIGtleXBhdGgpIHtcbiAgICAgIGlmICghdi5pc09iamVjdChvYmopIHx8ICF2LmlzU3RyaW5nKGtleXBhdGgpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXkgPSBcIlwiXG4gICAgICAgICwgaVxuICAgICAgICAsIGVzY2FwZSA9IGZhbHNlO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cGF0aC5sZW5ndGg7ICsraSkge1xuICAgICAgICBzd2l0Y2ggKGtleXBhdGhbaV0pIHtcbiAgICAgICAgICBjYXNlICcuJzpcbiAgICAgICAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgICAgICAgZXNjYXBlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGtleSArPSAnLic7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgb2JqID0gb2JqW2tleV07XG4gICAgICAgICAgICAgIGtleSA9IFwiXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdcXFxcJzpcbiAgICAgICAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgICAgICAgZXNjYXBlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGtleSArPSAnXFxcXCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlc2NhcGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZXNjYXBlID0gZmFsc2U7XG4gICAgICAgICAgICBrZXkgKz0ga2V5cGF0aFtpXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh2LmlzRGVmaW5lZChvYmopICYmIGtleSBpbiBvYmopIHtcbiAgICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gVGhpcyByZXR1cm5zIGFuIG9iamVjdCB3aXRoIGFsbCB0aGUgdmFsdWVzIG9mIHRoZSBmb3JtLlxuICAgIC8vIEl0IHVzZXMgdGhlIGlucHV0IG5hbWUgYXMga2V5IGFuZCB0aGUgdmFsdWUgYXMgdmFsdWVcbiAgICAvLyBTbyBmb3IgZXhhbXBsZSB0aGlzOlxuICAgIC8vIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJlbWFpbFwiIHZhbHVlPVwiZm9vQGJhci5jb21cIiAvPlxuICAgIC8vIHdvdWxkIHJldHVybjpcbiAgICAvLyB7ZW1haWw6IFwiZm9vQGJhci5jb21cIn1cbiAgICBjb2xsZWN0Rm9ybVZhbHVlczogZnVuY3Rpb24oZm9ybSwgb3B0aW9ucykge1xuICAgICAgdmFyIHZhbHVlcyA9IHt9XG4gICAgICAgICwgaVxuICAgICAgICAsIGlucHV0XG4gICAgICAgICwgaW5wdXRzXG4gICAgICAgICwgdmFsdWU7XG5cbiAgICAgIGlmICghZm9ybSkge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgaW5wdXRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbbmFtZV1cIik7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlucHV0ID0gaW5wdXRzLml0ZW0oaSk7XG5cbiAgICAgICAgaWYgKHYuaXNEZWZpbmVkKGlucHV0LmdldEF0dHJpYnV0ZShcImRhdGEtaWdub3JlZFwiKSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhbHVlID0gdi5zYW5pdGl6ZUZvcm1WYWx1ZShpbnB1dC52YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgdmFsdWUgPSArdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmF0dHJpYnV0ZXMudmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghaW5wdXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlc1tpbnB1dC5uYW1lXSB8fCBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGlucHV0LmNoZWNrZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09IFwicmFkaW9cIikge1xuICAgICAgICAgIGlmICghaW5wdXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5wdXQubmFtZV0gfHwgbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzW2lucHV0Lm5hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbChcInNlbGVjdFtuYW1lXVwiKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaW5wdXQgPSBpbnB1dHMuaXRlbShpKTtcbiAgICAgICAgdmFsdWUgPSB2LnNhbml0aXplRm9ybVZhbHVlKGlucHV0Lm9wdGlvbnNbaW5wdXQuc2VsZWN0ZWRJbmRleF0udmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICB2YWx1ZXNbaW5wdXQubmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9LFxuXG4gICAgc2FuaXRpemVGb3JtVmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy50cmltICYmIHYuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5udWxsaWZ5ICE9PSBmYWxzZSAmJiB2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuXG4gICAgY2FwaXRhbGl6ZTogZnVuY3Rpb24oc3RyKSB7XG4gICAgICBpZiAoIXYuaXNTdHJpbmcoc3RyKSkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0clswXS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xuICAgIH0sXG5cbiAgICAvLyBSZW1vdmUgYWxsIGVycm9ycyB3aG8ncyBlcnJvciBhdHRyaWJ1dGUgaXMgZW1wdHkgKG51bGwgb3IgdW5kZWZpbmVkKVxuICAgIHBydW5lRW1wdHlFcnJvcnM6IGZ1bmN0aW9uKGVycm9ycykge1xuICAgICAgcmV0dXJuIGVycm9ycy5maWx0ZXIoZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuICF2LmlzRW1wdHkoZXJyb3IuZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEluXG4gICAgLy8gW3tlcnJvcjogW1wiZXJyMVwiLCBcImVycjJcIl0sIC4uLn1dXG4gICAgLy8gT3V0XG4gICAgLy8gW3tlcnJvcjogXCJlcnIxXCIsIC4uLn0sIHtlcnJvcjogXCJlcnIyXCIsIC4uLn1dXG4gICAgLy9cbiAgICAvLyBBbGwgYXR0cmlidXRlcyBpbiBhbiBlcnJvciB3aXRoIG11bHRpcGxlIG1lc3NhZ2VzIGFyZSBkdXBsaWNhdGVkXG4gICAgLy8gd2hlbiBleHBhbmRpbmcgdGhlIGVycm9ycy5cbiAgICBleHBhbmRNdWx0aXBsZUVycm9yczogZnVuY3Rpb24oZXJyb3JzKSB7XG4gICAgICB2YXIgcmV0ID0gW107XG4gICAgICBlcnJvcnMuZm9yRWFjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAvLyBSZW1vdmVzIGVycm9ycyB3aXRob3V0IGEgbWVzc2FnZVxuICAgICAgICBpZiAodi5pc0FycmF5KGVycm9yLmVycm9yKSkge1xuICAgICAgICAgIGVycm9yLmVycm9yLmZvckVhY2goZnVuY3Rpb24obXNnKSB7XG4gICAgICAgICAgICByZXQucHVzaCh2LmV4dGVuZCh7fSwgZXJyb3IsIHtlcnJvcjogbXNnfSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldC5wdXNoKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0cyB0aGUgZXJyb3IgbWVzYWdlcyBieSBwcmVwZW5kaW5nIHRoZSBhdHRyaWJ1dGUgbmFtZSB1bmxlc3MgdGhlXG4gICAgLy8gbWVzc2FnZSBpcyBwcmVmaXhlZCBieSBeXG4gICAgY29udmVydEVycm9yTWVzc2FnZXM6IGZ1bmN0aW9uKGVycm9ycywgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgIGVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uKGVycm9ySW5mbykge1xuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvckluZm8uZXJyb3I7XG5cbiAgICAgICAgaWYgKGVycm9yWzBdID09PSAnXicpIHtcbiAgICAgICAgICBlcnJvciA9IGVycm9yLnNsaWNlKDEpO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZnVsbE1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgIGVycm9yID0gdi5jYXBpdGFsaXplKHYucHJldHRpZnkoZXJyb3JJbmZvLmF0dHJpYnV0ZSkpICsgXCIgXCIgKyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBlcnJvciA9IGVycm9yLnJlcGxhY2UoL1xcXFxcXF4vZywgXCJeXCIpO1xuICAgICAgICBlcnJvciA9IHYuZm9ybWF0KGVycm9yLCB7dmFsdWU6IHYuc3RyaW5naWZ5VmFsdWUoZXJyb3JJbmZvLnZhbHVlKX0pO1xuICAgICAgICByZXQucHVzaCh2LmV4dGVuZCh7fSwgZXJyb3JJbmZvLCB7ZXJyb3I6IGVycm9yfSkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG5cbiAgICAvLyBJbjpcbiAgICAvLyBbe2F0dHJpYnV0ZTogXCI8YXR0cmlidXRlTmFtZT5cIiwgLi4ufV1cbiAgICAvLyBPdXQ6XG4gICAgLy8ge1wiPGF0dHJpYnV0ZU5hbWU+XCI6IFt7YXR0cmlidXRlOiBcIjxhdHRyaWJ1dGVOYW1lPlwiLCAuLi59XX1cbiAgICBncm91cEVycm9yc0J5QXR0cmlidXRlOiBmdW5jdGlvbihlcnJvcnMpIHtcbiAgICAgIHZhciByZXQgPSB7fTtcbiAgICAgIGVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHZhciBsaXN0ID0gcmV0W2Vycm9yLmF0dHJpYnV0ZV07XG4gICAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgICAgbGlzdC5wdXNoKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXRbZXJyb3IuYXR0cmlidXRlXSA9IFtlcnJvcl07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgLy8gSW46XG4gICAgLy8gW3tlcnJvcjogXCI8bWVzc2FnZSAxPlwiLCAuLi59LCB7ZXJyb3I6IFwiPG1lc3NhZ2UgMj5cIiwgLi4ufV1cbiAgICAvLyBPdXQ6XG4gICAgLy8gW1wiPG1lc3NhZ2UgMT5cIiwgXCI8bWVzc2FnZSAyPlwiXVxuICAgIGZsYXR0ZW5FcnJvcnNUb0FycmF5OiBmdW5jdGlvbihlcnJvcnMpIHtcbiAgICAgIHJldHVybiBlcnJvcnMubWFwKGZ1bmN0aW9uKGVycm9yKSB7IHJldHVybiBlcnJvci5lcnJvcjsgfSk7XG4gICAgfSxcblxuICAgIGV4cG9zZU1vZHVsZTogZnVuY3Rpb24odmFsaWRhdGUsIHJvb3QsIGV4cG9ydHMsIG1vZHVsZSwgZGVmaW5lKSB7XG4gICAgICBpZiAoZXhwb3J0cykge1xuICAgICAgICBpZiAobW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0cy52YWxpZGF0ZSA9IHZhbGlkYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC52YWxpZGF0ZSA9IHZhbGlkYXRlO1xuICAgICAgICBpZiAodmFsaWRhdGUuaXNGdW5jdGlvbihkZWZpbmUpICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbGlkYXRlOyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICB3YXJuOiBmdW5jdGlvbihtc2cpIHtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1zZyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGVycm9yOiBmdW5jdGlvbihtc2cpIHtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZhbGlkYXRlLnZhbGlkYXRvcnMgPSB7XG4gICAgLy8gUHJlc2VuY2UgdmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzbid0IGVtcHR5XG4gICAgcHJlc2VuY2U6IGZ1bmN0aW9uKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gdi5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICBpZiAodi5pc0VtcHR5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5tZXNzYWdlIHx8IHRoaXMubWVzc2FnZSB8fCBcImNhbid0IGJlIGJsYW5rXCI7XG4gICAgICB9XG4gICAgfSxcbiAgICBsZW5ndGg6IGZ1bmN0aW9uKHZhbHVlLCBvcHRpb25zLCBhdHRyaWJ1dGUpIHtcbiAgICAgIC8vIEVtcHR5IHZhbHVlcyBhcmUgYWxsb3dlZFxuICAgICAgaWYgKHYuaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gdi5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgIHZhciBpcyA9IG9wdGlvbnMuaXNcbiAgICAgICAgLCBtYXhpbXVtID0gb3B0aW9ucy5tYXhpbXVtXG4gICAgICAgICwgbWluaW11bSA9IG9wdGlvbnMubWluaW11bVxuICAgICAgICAsIHRva2VuaXplciA9IG9wdGlvbnMudG9rZW5pemVyIHx8IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gdmFsOyB9XG4gICAgICAgICwgZXJyXG4gICAgICAgICwgZXJyb3JzID0gW107XG5cbiAgICAgIHZhbHVlID0gdG9rZW5pemVyKHZhbHVlKTtcbiAgICAgIHZhciBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgICBpZighdi5pc051bWJlcihsZW5ndGgpKSB7XG4gICAgICAgIHYuZXJyb3Iodi5mb3JtYXQoXCJBdHRyaWJ1dGUgJXthdHRyfSBoYXMgYSBub24gbnVtZXJpYyB2YWx1ZSBmb3IgYGxlbmd0aGBcIiwge2F0dHI6IGF0dHJpYnV0ZX0pKTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMubWVzc2FnZSB8fCB0aGlzLm5vdFZhbGlkIHx8IFwiaGFzIGFuIGluY29ycmVjdCBsZW5ndGhcIjtcbiAgICAgIH1cblxuICAgICAgLy8gSXMgY2hlY2tzXG4gICAgICBpZiAodi5pc051bWJlcihpcykgJiYgbGVuZ3RoICE9PSBpcykge1xuICAgICAgICBlcnIgPSBvcHRpb25zLndyb25nTGVuZ3RoIHx8XG4gICAgICAgICAgdGhpcy53cm9uZ0xlbmd0aCB8fFxuICAgICAgICAgIFwiaXMgdGhlIHdyb25nIGxlbmd0aCAoc2hvdWxkIGJlICV7Y291bnR9IGNoYXJhY3RlcnMpXCI7XG4gICAgICAgIGVycm9ycy5wdXNoKHYuZm9ybWF0KGVyciwge2NvdW50OiBpc30pKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHYuaXNOdW1iZXIobWluaW11bSkgJiYgbGVuZ3RoIDwgbWluaW11bSkge1xuICAgICAgICBlcnIgPSBvcHRpb25zLnRvb1Nob3J0IHx8XG4gICAgICAgICAgdGhpcy50b29TaG9ydCB8fFxuICAgICAgICAgIFwiaXMgdG9vIHNob3J0IChtaW5pbXVtIGlzICV7Y291bnR9IGNoYXJhY3RlcnMpXCI7XG4gICAgICAgIGVycm9ycy5wdXNoKHYuZm9ybWF0KGVyciwge2NvdW50OiBtaW5pbXVtfSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodi5pc051bWJlcihtYXhpbXVtKSAmJiBsZW5ndGggPiBtYXhpbXVtKSB7XG4gICAgICAgIGVyciA9IG9wdGlvbnMudG9vTG9uZyB8fFxuICAgICAgICAgIHRoaXMudG9vTG9uZyB8fFxuICAgICAgICAgIFwiaXMgdG9vIGxvbmcgKG1heGltdW0gaXMgJXtjb3VudH0gY2hhcmFjdGVycylcIjtcbiAgICAgICAgZXJyb3JzLnB1c2godi5mb3JtYXQoZXJyLCB7Y291bnQ6IG1heGltdW19KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5tZXNzYWdlIHx8IGVycm9ycztcbiAgICAgIH1cbiAgICB9LFxuICAgIG51bWVyaWNhbGl0eTogZnVuY3Rpb24odmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgIC8vIEVtcHR5IHZhbHVlcyBhcmUgZmluZVxuICAgICAgaWYgKHYuaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gdi5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgIHZhciBlcnJvcnMgPSBbXVxuICAgICAgICAsIG5hbWVcbiAgICAgICAgLCBjb3VudFxuICAgICAgICAsIGNoZWNrcyA9IHtcbiAgICAgICAgICAgIGdyZWF0ZXJUaGFuOiAgICAgICAgICBmdW5jdGlvbih2LCBjKSB7IHJldHVybiB2ID4gYzsgfSxcbiAgICAgICAgICAgIGdyZWF0ZXJUaGFuT3JFcXVhbFRvOiBmdW5jdGlvbih2LCBjKSB7IHJldHVybiB2ID49IGM7IH0sXG4gICAgICAgICAgICBlcXVhbFRvOiAgICAgICAgICAgICAgZnVuY3Rpb24odiwgYykgeyByZXR1cm4gdiA9PT0gYzsgfSxcbiAgICAgICAgICAgIGxlc3NUaGFuOiAgICAgICAgICAgICBmdW5jdGlvbih2LCBjKSB7IHJldHVybiB2IDwgYzsgfSxcbiAgICAgICAgICAgIGxlc3NUaGFuT3JFcXVhbFRvOiAgICBmdW5jdGlvbih2LCBjKSB7IHJldHVybiB2IDw9IGM7IH1cbiAgICAgICAgICB9O1xuXG4gICAgICAvLyBDb2VyY2UgdGhlIHZhbHVlIHRvIGEgbnVtYmVyIHVubGVzcyB3ZSdyZSBiZWluZyBzdHJpY3QuXG4gICAgICBpZiAob3B0aW9ucy5ub1N0cmluZ3MgIT09IHRydWUgJiYgdi5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl0J3Mgbm90IGEgbnVtYmVyIHdlIHNob3VsZG4ndCBjb250aW51ZSBzaW5jZSBpdCB3aWxsIGNvbXBhcmUgaXQuXG4gICAgICBpZiAoIXYuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLm1lc3NhZ2UgfHwgdGhpcy5ub3RWYWxpZCB8fCBcImlzIG5vdCBhIG51bWJlclwiO1xuICAgICAgfVxuXG4gICAgICAvLyBTYW1lIGxvZ2ljIGFzIGFib3ZlLCBzb3J0IG9mLiBEb24ndCBib3RoZXIgd2l0aCBjb21wYXJpc29ucyBpZiB0aGlzXG4gICAgICAvLyBkb2Vzbid0IHBhc3MuXG4gICAgICBpZiAob3B0aW9ucy5vbmx5SW50ZWdlciAmJiAhdi5pc0ludGVnZXIodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLm1lc3NhZ2UgfHwgdGhpcy5ub3RJbnRlZ2VyICB8fCBcIm11c3QgYmUgYW4gaW50ZWdlclwiO1xuICAgICAgfVxuXG4gICAgICBmb3IgKG5hbWUgaW4gY2hlY2tzKSB7XG4gICAgICAgIGNvdW50ID0gb3B0aW9uc1tuYW1lXTtcbiAgICAgICAgaWYgKHYuaXNOdW1iZXIoY291bnQpICYmICFjaGVja3NbbmFtZV0odmFsdWUsIGNvdW50KSkge1xuICAgICAgICAgIC8vIFRoaXMgcGlja3MgdGhlIGRlZmF1bHQgbWVzc2FnZSBpZiBzcGVjaWZpZWRcbiAgICAgICAgICAvLyBGb3IgZXhhbXBsZSB0aGUgZ3JlYXRlclRoYW4gY2hlY2sgdXNlcyB0aGUgbWVzc2FnZSBmcm9tXG4gICAgICAgICAgLy8gdGhpcy5ub3RHcmVhdGVyVGhhbiBzbyB3ZSBjYXBpdGFsaXplIHRoZSBuYW1lIGFuZCBwcmVwZW5kIFwibm90XCJcbiAgICAgICAgICB2YXIgbXNnID0gdGhpc1tcIm5vdFwiICsgdi5jYXBpdGFsaXplKG5hbWUpXSB8fFxuICAgICAgICAgICAgXCJtdXN0IGJlICV7dHlwZX0gJXtjb3VudH1cIjtcblxuICAgICAgICAgIGVycm9ycy5wdXNoKHYuZm9ybWF0KG1zZywge1xuICAgICAgICAgICAgY291bnQ6IGNvdW50LFxuICAgICAgICAgICAgdHlwZTogdi5wcmV0dGlmeShuYW1lKVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5vZGQgJiYgdmFsdWUgJSAyICE9PSAxKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHRoaXMubm90T2RkIHx8IFwibXVzdCBiZSBvZGRcIik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5ldmVuICYmIHZhbHVlICUgMiAhPT0gMCkge1xuICAgICAgICBlcnJvcnMucHVzaCh0aGlzLm5vdEV2ZW4gfHwgXCJtdXN0IGJlIGV2ZW5cIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLm1lc3NhZ2UgfHwgZXJyb3JzO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0ZXRpbWU6IHYuZXh0ZW5kKGZ1bmN0aW9uKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAvLyBFbXB0eSB2YWx1ZXMgYXJlIGZpbmVcbiAgICAgIGlmICh2LmlzRW1wdHkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgb3B0aW9ucyA9IHYuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICB2YXIgZXJyXG4gICAgICAgICwgZXJyb3JzID0gW11cbiAgICAgICAgLCBlYXJsaWVzdCA9IG9wdGlvbnMuZWFybGllc3QgPyB0aGlzLnBhcnNlKG9wdGlvbnMuZWFybGllc3QsIG9wdGlvbnMpIDogTmFOXG4gICAgICAgICwgbGF0ZXN0ID0gb3B0aW9ucy5sYXRlc3QgPyB0aGlzLnBhcnNlKG9wdGlvbnMubGF0ZXN0LCBvcHRpb25zKSA6IE5hTjtcblxuICAgICAgdmFsdWUgPSB0aGlzLnBhcnNlKHZhbHVlLCBvcHRpb25zKTtcblxuICAgICAgLy8gODY0MDAwMDAgaXMgdGhlIG51bWJlciBvZiBzZWNvbmRzIGluIGEgZGF5LCB0aGlzIGlzIHVzZWQgdG8gcmVtb3ZlXG4gICAgICAvLyB0aGUgdGltZSBmcm9tIHRoZSBkYXRlXG4gICAgICBpZiAoaXNOYU4odmFsdWUpIHx8IG9wdGlvbnMuZGF0ZU9ubHkgJiYgdmFsdWUgJSA4NjQwMDAwMCAhPT0gMCkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5tZXNzYWdlIHx8IHRoaXMubm90VmFsaWQgfHwgXCJtdXN0IGJlIGEgdmFsaWQgZGF0ZVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGVhcmxpZXN0KSAmJiB2YWx1ZSA8IGVhcmxpZXN0KSB7XG4gICAgICAgIGVyciA9IHRoaXMudG9vRWFybHkgfHwgXCJtdXN0IGJlIG5vIGVhcmxpZXIgdGhhbiAle2RhdGV9XCI7XG4gICAgICAgIGVyciA9IHYuZm9ybWF0KGVyciwge2RhdGU6IHRoaXMuZm9ybWF0KGVhcmxpZXN0LCBvcHRpb25zKX0pO1xuICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGxhdGVzdCkgJiYgdmFsdWUgPiBsYXRlc3QpIHtcbiAgICAgICAgZXJyID0gdGhpcy50b29MYXRlIHx8IFwibXVzdCBiZSBubyBsYXRlciB0aGFuICV7ZGF0ZX1cIjtcbiAgICAgICAgZXJyID0gdi5mb3JtYXQoZXJyLCB7ZGF0ZTogdGhpcy5mb3JtYXQobGF0ZXN0LCBvcHRpb25zKX0pO1xuICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5tZXNzYWdlIHx8IGVycm9ycztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICAvLyBUaGlzIGlzIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgdXNlZCB0byBjb252ZXJ0IGlucHV0IHRvIHRoZSBudW1iZXJcbiAgICAgIC8vIG9mIG1pbGxpcyBzaW5jZSB0aGUgZXBvY2guXG4gICAgICAvLyBJdCBzaG91bGQgcmV0dXJuIE5hTiBpZiBpdCdzIG5vdCBhIHZhbGlkIGRhdGUuXG4gICAgICBwYXJzZTogZnVuY3Rpb24odmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHYuaXNGdW5jdGlvbih2LlhEYXRlKSkge1xuICAgICAgICAgIHJldHVybiBuZXcgdi5YRGF0ZSh2YWx1ZSwgdHJ1ZSkuZ2V0VGltZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHYuaXNEZWZpbmVkKHYubW9tZW50KSkge1xuICAgICAgICAgIHJldHVybiArdi5tb21lbnQudXRjKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5laXRoZXIgWERhdGUgb3IgbW9tZW50LmpzIHdhcyBmb3VuZFwiKTtcbiAgICAgIH0sXG4gICAgICAvLyBGb3JtYXRzIHRoZSBnaXZlbiB0aW1lc3RhbXAuIFVzZXMgSVNPODYwMSB0byBmb3JtYXQgdGhlbS5cbiAgICAgIC8vIElmIG9wdGlvbnMuZGF0ZU9ubHkgaXMgdHJ1ZSB0aGVuIG9ubHkgdGhlIHllYXIsIG1vbnRoIGFuZCBkYXkgd2lsbCBiZVxuICAgICAgLy8gb3V0cHV0LlxuICAgICAgZm9ybWF0OiBmdW5jdGlvbihkYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSBvcHRpb25zLmRhdGVGb3JtYXQ7XG5cbiAgICAgICAgaWYgKHYuaXNGdW5jdGlvbih2LlhEYXRlKSkge1xuICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAob3B0aW9ucy5kYXRlT25seSA/IFwieXl5eS1NTS1kZFwiIDogXCJ5eXl5LU1NLWRkIEhIOm1tOnNzXCIpO1xuICAgICAgICAgIHJldHVybiBuZXcgWERhdGUoZGF0ZSwgdHJ1ZSkudG9TdHJpbmcoZm9ybWF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2LmlzRGVmaW5lZCh2Lm1vbWVudCkpIHtcbiAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgKG9wdGlvbnMuZGF0ZU9ubHkgPyBcIllZWVktTU0tRERcIiA6IFwiWVlZWS1NTS1ERCBISDptbTpzc1wiKTtcbiAgICAgICAgICByZXR1cm4gdi5tb21lbnQudXRjKGRhdGUpLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmVpdGhlciBYRGF0ZSBvciBtb21lbnQuanMgd2FzIGZvdW5kXCIpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIGRhdGU6IGZ1bmN0aW9uKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gdi5leHRlbmQoe30sIG9wdGlvbnMsIHtkYXRlT25seTogdHJ1ZX0pO1xuICAgICAgcmV0dXJuIHYudmFsaWRhdG9ycy5kYXRldGltZS5jYWxsKHYudmFsaWRhdG9ycy5kYXRldGltZSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZm9ybWF0OiBmdW5jdGlvbih2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgaWYgKHYuaXNTdHJpbmcob3B0aW9ucykgfHwgKG9wdGlvbnMgaW5zdGFuY2VvZiBSZWdFeHApKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7cGF0dGVybjogb3B0aW9uc307XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMgPSB2LmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgdmFyIG1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2UgfHwgdGhpcy5tZXNzYWdlIHx8IFwiaXMgaW52YWxpZFwiXG4gICAgICAgICwgcGF0dGVybiA9IG9wdGlvbnMucGF0dGVyblxuICAgICAgICAsIG1hdGNoO1xuXG4gICAgICAvLyBFbXB0eSB2YWx1ZXMgYXJlIGFsbG93ZWRcbiAgICAgIGlmICh2LmlzRW1wdHkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdi5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh2LmlzU3RyaW5nKHBhdHRlcm4pKSB7XG4gICAgICAgIHBhdHRlcm4gPSBuZXcgUmVnRXhwKG9wdGlvbnMucGF0dGVybiwgb3B0aW9ucy5mbGFncyk7XG4gICAgICB9XG4gICAgICBtYXRjaCA9IHBhdHRlcm4uZXhlYyh2YWx1ZSk7XG4gICAgICBpZiAoIW1hdGNoIHx8IG1hdGNoWzBdLmxlbmd0aCAhPSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBpbmNsdXNpb246IGZ1bmN0aW9uKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAvLyBFbXB0eSB2YWx1ZXMgYXJlIGZpbmVcbiAgICAgIGlmICh2LmlzRW1wdHkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh2LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt3aXRoaW46IG9wdGlvbnN9O1xuICAgICAgfVxuICAgICAgb3B0aW9ucyA9IHYuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgaWYgKHYuY29udGFpbnMob3B0aW9ucy53aXRoaW4sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZSB8fFxuICAgICAgICB0aGlzLm1lc3NhZ2UgfHxcbiAgICAgICAgXCJeJXt2YWx1ZX0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBsaXN0XCI7XG4gICAgICByZXR1cm4gdi5mb3JtYXQobWVzc2FnZSwge3ZhbHVlOiB2YWx1ZX0pO1xuICAgIH0sXG4gICAgZXhjbHVzaW9uOiBmdW5jdGlvbih2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgLy8gRW1wdHkgdmFsdWVzIGFyZSBmaW5lXG4gICAgICBpZiAodi5pc0VtcHR5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodi5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7d2l0aGluOiBvcHRpb25zfTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMgPSB2LmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgIGlmICghdi5jb250YWlucyhvcHRpb25zLndpdGhpbiwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBtZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlIHx8IHRoaXMubWVzc2FnZSB8fCBcIl4le3ZhbHVlfSBpcyByZXN0cmljdGVkXCI7XG4gICAgICByZXR1cm4gdi5mb3JtYXQobWVzc2FnZSwge3ZhbHVlOiB2YWx1ZX0pO1xuICAgIH0sXG4gICAgZW1haWw6IHYuZXh0ZW5kKGZ1bmN0aW9uKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gdi5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICB2YXIgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZSB8fCB0aGlzLm1lc3NhZ2UgfHwgXCJpcyBub3QgYSB2YWxpZCBlbWFpbFwiO1xuICAgICAgLy8gRW1wdHkgdmFsdWVzIGFyZSBmaW5lXG4gICAgICBpZiAodi5pc0VtcHR5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXYuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLlBBVFRFUk4uZXhlYyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgUEFUVEVSTjogL15bYS16MC05XFx1MDA3Ri1cXHVmZmZmISMkJSYnKitcXC89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05XFx1MDA3Ri1cXHVmZmZmISMkJSYnKitcXC89P15fYHt8fX4tXSspKkAoPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16XXsyLH0kL2lcbiAgICB9KSxcbiAgICBlcXVhbGl0eTogZnVuY3Rpb24odmFsdWUsIG9wdGlvbnMsIGF0dHJpYnV0ZSwgYXR0cmlidXRlcykge1xuICAgICAgaWYgKHYuaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodi5pc1N0cmluZyhvcHRpb25zKSkge1xuICAgICAgICBvcHRpb25zID0ge2F0dHJpYnV0ZTogb3B0aW9uc307XG4gICAgICB9XG4gICAgICBvcHRpb25zID0gdi5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICB2YXIgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZSB8fFxuICAgICAgICB0aGlzLm1lc3NhZ2UgfHxcbiAgICAgICAgXCJpcyBub3QgZXF1YWwgdG8gJXthdHRyaWJ1dGV9XCI7XG5cbiAgICAgIGlmICh2LmlzRW1wdHkob3B0aW9ucy5hdHRyaWJ1dGUpIHx8ICF2LmlzU3RyaW5nKG9wdGlvbnMuYXR0cmlidXRlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgYXR0cmlidXRlIG11c3QgYmUgYSBub24gZW1wdHkgc3RyaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3RoZXJWYWx1ZSA9IHYuZ2V0RGVlcE9iamVjdFZhbHVlKGF0dHJpYnV0ZXMsIG9wdGlvbnMuYXR0cmlidXRlKVxuICAgICAgICAsIGNvbXBhcmF0b3IgPSBvcHRpb25zLmNvbXBhcmF0b3IgfHwgZnVuY3Rpb24odjEsIHYyKSB7XG4gICAgICAgICAgcmV0dXJuIHYxID09PSB2MjtcbiAgICAgICAgfTtcblxuICAgICAgaWYgKCFjb21wYXJhdG9yKHZhbHVlLCBvdGhlclZhbHVlLCBvcHRpb25zLCBhdHRyaWJ1dGUsIGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIHJldHVybiB2LmZvcm1hdChtZXNzYWdlLCB7YXR0cmlidXRlOiB2LnByZXR0aWZ5KG9wdGlvbnMuYXR0cmlidXRlKX0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YWxpZGF0ZS5leHBvc2VNb2R1bGUodmFsaWRhdGUsIHRoaXMsIGV4cG9ydHMsIG1vZHVsZSwgZGVmaW5lKTtcbn0pLmNhbGwodGhpcyxcbiAgICAgICAgdHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZXhwb3J0cyA6IG51bGwsXG4gICAgICAgIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gbW9kdWxlIDogbnVsbCxcbiAgICAgICAgdHlwZW9mIGRlZmluZSAhPT0gJ3VuZGVmaW5lZCcgPyAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBkZWZpbmUgOiBudWxsKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdmVuZG9yL3ZhbGlkYXRlL3ZhbGlkYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA2MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMyA0IDUgNiA3IDggOSIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTsgfTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vYW1kLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gNjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDMgNCA1IDYgNyA4IDkiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyksXG4gICAgICAgIFEgPSByZXF1aXJlKCdxJyksXG4gICAgICAgICQgPSByZXF1aXJlKCdqcXVlcnknKSxcbiAgICAgICAgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50JyksXG4gICAgICAgIHZhbGlkYXRlID0gcmVxdWlyZSgndmFsaWRhdGUnKVxuXG4gICAgICAgIDtcblxudmFyIFN0b3JlID0gcmVxdWlyZSgnY29yZS9zdG9yZScpO1xuXG52YXIgTXlib29raW5nRGF0YSA9IFN0b3JlLmV4dGVuZCh7XG4gICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgcHJpY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF8ucmVkdWNlKHRoaXMuZ2V0KCcgJykpXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlZnJlc2hDdXJyZW50Q2FydDogZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInJlZnJlc2hDdXJyZW50Q2FydFwiKTtcbiAgICAgICAgcmV0dXJuIFEuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBwcm9ncmVzcykge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYy9haXJDYXJ0L2dldENhcnREZXRhaWxzLycgKyBfLnBhcnNlSW50KHZpZXcuZ2V0KCdjdXJyZW50Q2FydElkJykpLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgZGF0YTogeydkYXRhJzogJyd9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXRhaWxzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRhdGEuaWQsIGVtYWlsOiBkYXRhLmVtYWlsLCB1cGNvbWluZzogZGF0YS51cGNvbWluZywgY3JlYXRlZDogZGF0YS5jcmVhdGVkLCB0b3RhbEFtb3VudDogZGF0YS50b3RhbEFtb3VudCwgYm9va2luZ19zdGF0dXM6IGRhdGEuYm9va2luZ19zdGF0dXMsIGJvb2tpbmdfc3RhdHVzbXNnOiBkYXRhLmJvb2tpbmdfc3RhdHVzbXNnLCByZXR1cm5kYXRlOiBkYXRhLnJldHVybmRhdGUsIGlzTXVsdGlDaXR5OiBkYXRhLmlzTXVsdGlDaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyZW5jeTogZGF0YS5jdXJlbmN5LCBmb3A6IGRhdGEuZm9wLCBiYXNlcHJpY2U6IGRhdGEuYmFzZXByaWNlLCB0YXhlczogZGF0YS50YXhlcywgY29udmZlZTogZGF0YS5jb252ZmVlLCBmZWU6IGRhdGEuZmVlLCB0b3RhbEFtb3VudGlud29yZHM6IGRhdGEudG90YWxBbW91bnRpbndvcmRzLCBjdXN0b21lcmNhcmU6IGRhdGEuY3VzdG9tZXJjYXJlLCBwcm9tb2Rpc2NvdW50OiBkYXRhLnByb21vX2Rpc2NvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9va2luZ3M6IF8ubWFwKGRhdGEuYm9va2luZ3MsIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtpZDogaS5pZCwgdXBjb21pbmc6IGkudXBjb21pbmcsIHNvdXJjZV9pZDogaS5zb3VyY2VfaWQsIGRlc3RpbmF0aW9uX2lkOiBpLmRlc3RpbmF0aW9uX2lkLCBzb3VyY2U6IGkuc291cmNlLCBmbGlnaHR0aW1lOiBpLmZsaWdodHRpbWUsIGRlc3RpbmF0aW9uOiBpLmRlc3RpbmF0aW9uLCBkZXBhcnR1cmU6IGkuZGVwYXJ0dXJlLCBhcnJpdmFsOiBpLmFycml2YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYXZlbGxlcjogXy5tYXAoaS50cmF2ZWxsZXIsIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0LmlkLCBib29raW5naWQ6IHQuYm9va2luZ2lkLCBmYXJldHlwZTogdC5mYXJldHlwZSwgdGl0bGU6IHQudGl0bGUsIHR5cGU6IHQudHlwZSwgZmlyc3RfbmFtZTogdC5maXJzdF9uYW1lLCBsYXN0X25hbWU6IHQubGFzdF9uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFpcmxpbmVfcG5yOiB0LmFpcmxpbmVfcG5yLCBjcnNfcG5yOiB0LmNyc19wbnIsIHRpY2tldDogdC50aWNrZXQsIGJvb2tpbmdfY2xhc3M6IHQuYm9va2luZ19jbGFzcywgY2FiaW46IHQuY2FiaW4scHJvZHVjdF9jbGFzczp0LnByb2R1Y3RfY2xhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzaWNmYXJlOiB0LmJhc2ljZmFyZSwgdGF4ZXM6IHQudGF4ZXMsIHRvdGFsOiB0LnRvdGFsLCBzdGF0dXM6IHQuc3RhdHVzLCBzdGF0dXNtc2c6IHQuc3RhdHVzbXNnLCBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVzOiBfLm1hcCh0LnJvdXRlcywgZnVuY3Rpb24gKHJvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcm8uaWQsIG9yaWdpbjogcm8ub3JpZ2luLCBvcmlnaW5EZXRhaWxzOiByby5vcmlnaW5EZXRhaWxzLCBkZXN0aW5hdGlvbkRldGFpbHM6IHJvLmRlc3RpbmF0aW9uRGV0YWlscywgZGVzdGluYXRpb246IHJvLmRlc3RpbmF0aW9uLCBkZXBhcnR1cmU6IHJvLmRlcGFydHVyZSwgYXJyaXZhbDogcm8uYXJyaXZhbCwgY2Fycmllcjogcm8uY2FycmllciwgbG9nbzogcm8ubG9nbywgY2Fycmllck5hbWU6IHJvLmNhcnJpZXJOYW1lLCBmbGlnaHROdW1iZXI6IHJvLmZsaWdodE51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsaWdodHRpbWU6IHJvLmZsaWdodHRpbWUsIG9yaWdpblRlcm1pbmFsOiByby5vcmlnaW5UZXJtaW5hbCwgZGVzdGluYXRpb25UZXJtaW5hbDogcm8uZGVzdGluYXRpb25UZXJtaW5hbCwgbWVhbDogcm8ubWVhbCwgc2VhdDogcm8uc2VhdCwgYWlyY3JhZnQ6IHJvLmFpcmNyYWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQxID0gbmV3IERhdGUoeC5kZXBhcnR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZDIgPSBuZXcgRGF0ZSh5LmRlcGFydHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkMSA+IGQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlczogXy5tYXAoaS5yb3V0ZXMsIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0LmlkLCBvcmlnaW46IHQub3JpZ2luLCBvcmlnaW5EZXRhaWxzOiB0Lm9yaWdpbkRldGFpbHMsIGRlc3RpbmF0aW9uRGV0YWlsczogdC5kZXN0aW5hdGlvbkRldGFpbHMsIGRlc3RpbmF0aW9uOiB0LmRlc3RpbmF0aW9uLCBkZXBhcnR1cmU6IHQuZGVwYXJ0dXJlLCBhcnJpdmFsOiB0LmFycml2YWwsIGNhcnJpZXI6IHQuY2FycmllciwgY2Fycmllck5hbWU6IHQuY2Fycmllck5hbWUsIGZsaWdodE51bWJlcjogdC5mbGlnaHROdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxpZ2h0dGltZTogdC5mbGlnaHR0aW1lLCBvcmlnaW5UZXJtaW5hbDogdC5vcmlnaW5UZXJtaW5hbCwgZGVzdGluYXRpb25UZXJtaW5hbDogdC5kZXN0aW5hdGlvblRlcm1pbmFsLCBtZWFsOiB0Lm1lYWwsIHNlYXQ6IHQuc2VhdCwgYWlyY3JhZnQ6IHQuYWlyY3JhZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuc29ydChmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkMSA9IG5ldyBEYXRlKHguZGVwYXJ0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZDIgPSBuZXcgRGF0ZSh5LmRlcGFydHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQxID4gZDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkZXRhaWxzKTtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2N1cnJlbnRDYXJ0RGV0YWlscycsIGRldGFpbHMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBfLmZpbmRJbmRleCh2aWV3LmdldCgnY2FydHMnKSwgeydpZCc6IGRldGFpbHMuaWR9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2luZGV4OiAnK2luZGV4KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FydHMgPSB2aWV3LmdldCgnY2FydHMnKTtcbiAgICAgICAgICAgICAgICAgICAgY2FydHNbaW5kZXhdLmJvb2tpbmdfc3RhdHVzID0gZGV0YWlscy5ib29raW5nX3N0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2NhcnRzJywgY2FydHMpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgnc3VtbWFyeScsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ3BlbmRpbmcnLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZpbnNpaGVkIHN0b3JlOiAnKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0sXG59KTtcblxuTXlib29raW5nRGF0YS5nZXRDdXJyZW50Q2FydCA9IGZ1bmN0aW9uIChpZCkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwiZ2V0Q3VycmVudENhcnRcIik7XG4gICAgcmV0dXJuIFEuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBwcm9ncmVzcykge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiAnL2IyYy9haXJDYXJ0L2dldENhcnREZXRhaWxzLycgKyBfLnBhcnNlSW50KGlkKSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiB7J2RhdGEnOiAnJ30sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YS5ib29raW5nczogXy5tYXAoZGF0YS5ib29raW5ncywgZnVuY3Rpb24gKGkpIHtjb25zb2xlLmxvZyhpKTt9KSk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJkb25lXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBhbGVydChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICB2YXIgZGV0YWlsczEgPSB7XG4gICAgICAgICAgICAgICAgYm9va2luZ3M6IF8ubWFwKGRhdGEuYm9va2luZ3MsIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7c291cmNlOiBpLnNvdXJjZSwgZGVzdGluYXRpb246IGkuZGVzdGluYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmF2ZWxsZXI6IF8ubWFwKGkudHJhdmVsbGVyLCBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlczogXy5tYXAodC5yb3V0ZXMsIGZ1bmN0aW9uIChybykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtvcmlnaW46IHJvLm9yaWdpbiwgZGVzdGluYXRpb246IHJvLmRlc3RpbmF0aW9ufTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXM6IF8ubWFwKGkucm91dGVzLCBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7b3JpZ2luOiB0Lm9yaWdpbiwgZGVzdGluYXRpb246IHQuZGVzdGluYXRpb259O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KX07XG4gICAgICAgICAgICB2YXIgb2JqX2xlbmd0aCA9IGRldGFpbHMxLmJvb2tpbmdzWzBdLnJvdXRlcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgYWxsb3JpZ2lucyA9IFtdO1xuICAgICAgICAgICAgdmFyIGFsbGRlc3RpbmF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBvYmpfbGVuZ3RoOyBhKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWxsb3JpZ2lucy5wdXNoKGRldGFpbHMxLmJvb2tpbmdzWzBdLnJvdXRlc1thXS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGFsbGRlc3RpbmF0aW9ucy5wdXNoKGRldGFpbHMxLmJvb2tpbmdzWzBdLnJvdXRlc1thXS5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWxsZGVzdGluYXRpb25zLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhbGxvcmlnaW5zKTtjb25zb2xlLmxvZyhhbGxkZXN0aW5hdGlvbnMpO1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2Vfb25lID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYiA9IDA7IGIgPCBhbGxkZXN0aW5hdGlvbnMubGVuZ3RoOyBiKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFsbG9yaWdpbnNbYiArIDFdICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFsbG9yaWdpbnNbYisxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsb3JpZ2luc1tiICsgMV0gIT0gYWxsZGVzdGluYXRpb25zW2JdKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtc2cgPSBcIkFDXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlX29uZS5wdXNoKGFsbG9yaWdpbnNbYiArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2Vfb25lLnB1c2goYWxsZGVzdGluYXRpb25zW2JdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbXNnICE9PSBcInVuZGVmaW5lZFwiICYmIG1zZyA9PSBcIkFDXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIkFpcnBvcnQgQ2hhbmdlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKG1zZyk7Y29uc29sZS5sb2coY2hhbmdlX29uZSk7XG4gICAgICAgICAgICB2YXIgZGV0YWlscyA9IHtcbiAgICAgICAgICAgICAgICBhaXJwb3J0X2NoYW5nZTogbWVzc2FnZSwgYWlycG9ydF9jaGFuZ2VfbmFtZTogY2hhbmdlX29uZSwgdHJhbnNpdDogZGF0YS50cmFuc2l0LFxuICAgICAgICAgICAgICAgIGlkOiBkYXRhLmlkLCBlbWFpbDogZGF0YS5lbWFpbCwgdGlja2V0c3RhdHVzbXNnOiBkYXRhLnRpY2tldHN0YXR1c21zZywgdXBjb21pbmc6IGRhdGEudXBjb21pbmcsIGNyZWF0ZWQ6IGRhdGEuY3JlYXRlZCwgdG90YWxBbW91bnQ6IGRhdGEudG90YWxBbW91bnQsIGJvb2tpbmdfc3RhdHVzOiBkYXRhLmJvb2tpbmdfc3RhdHVzLCBjbGllbnRTb3VyY2VJZDogZGF0YS5jbGllbnRTb3VyY2VJZCwgc2VnTmlnaHRzOiBkYXRhLnNlZ05pZ2h0cyxcbiAgICAgICAgICAgICAgICBib29raW5nX3N0YXR1c21zZzogZGF0YS5ib29raW5nX3N0YXR1c21zZywgcmV0dXJuZGF0ZTogZGF0YS5yZXR1cm5kYXRlLCBpc011bHRpQ2l0eTogZGF0YS5pc011bHRpQ2l0eSwgY3VyZW5jeTogZGF0YS5jdXJlbmN5LCBmb3A6IGRhdGEuZm9wLCBiYXNlcHJpY2U6IGRhdGEuYmFzZXByaWNlLCB0YXhlczogZGF0YS50YXhlcywgY29udmZlZTogZGF0YS5jb252ZmVlLCBmZWU6IGRhdGEuZmVlLCB0b3RhbEFtb3VudGlud29yZHM6IGRhdGEudG90YWxBbW91bnRpbndvcmRzLCBjdXN0b21lcmNhcmU6IGRhdGEuY3VzdG9tZXJjYXJlLCBwcm9tb2Rpc2NvdW50OiBkYXRhLnByb21vX2Rpc2NvdW50LFxuICAgICAgICAgICAgICAgIGJvb2tpbmdzOiBfLm1hcChkYXRhLmJvb2tpbmdzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge2lkOiBpLmlkLCB1cGNvbWluZzogaS51cGNvbWluZywgc291cmNlX2lkOiBpLnNvdXJjZV9pZCwgZGVzdGluYXRpb25faWQ6IGkuZGVzdGluYXRpb25faWQsIHNvdXJjZTogaS5zb3VyY2UsIGZsaWdodHRpbWU6IGkuZmxpZ2h0dGltZSwgZGVzdGluYXRpb246IGkuZGVzdGluYXRpb24sIGRlcGFydHVyZTogaS5kZXBhcnR1cmUsIGFycml2YWw6IGkuYXJyaXZhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYXZlbGxlcjogXy5tYXAoaS50cmF2ZWxsZXIsIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHQuaWQsIGJvb2tpbmdpZDogdC5ib29raW5naWQsIGZhcmV0eXBlOiB0LmZhcmV0eXBlLCB0aXRsZTogdC50aXRsZSwgdHlwZTogdC50eXBlLCBmaXJzdF9uYW1lOiB0LmZpcnN0X25hbWUsIGxhc3RfbmFtZTogdC5sYXN0X25hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFpcmxpbmVfcG5yOiB0LmFpcmxpbmVfcG5yLCBjcnNfcG5yOiB0LmNyc19wbnIsIHRpY2tldDogdC50aWNrZXQsIGJvb2tpbmdfY2xhc3M6IHQuYm9va2luZ19jbGFzcywgY2FiaW46IHQuY2FiaW4scHJvZHVjdF9jbGFzczp0LnByb2R1Y3RfY2xhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2ljZmFyZTogdC5iYXNpY2ZhcmUsIHRheGVzOiB0LnRheGVzLCB0b3RhbDogdC50b3RhbCwgc3RhdHVzOiB0LnN0YXR1cywgc3RhdHVzbXNnOiB0LnN0YXR1c21zZywgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXM6IF8ubWFwKHQucm91dGVzLCBmdW5jdGlvbiAocm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJvLmlkLCBvcmlnaW46IHJvLm9yaWdpbiwgb3JpZ2luRGV0YWlsczogcm8ub3JpZ2luRGV0YWlscywgbG9nbzogcm8ubG9nbywgZGVzdGluYXRpb25EZXRhaWxzOiByby5kZXN0aW5hdGlvbkRldGFpbHMsIGRlc3RpbmF0aW9uOiByby5kZXN0aW5hdGlvbiwgZGVwYXJ0dXJlOiByby5kZXBhcnR1cmUsIGFycml2YWw6IHJvLmFycml2YWwsIGNhcnJpZXI6IHJvLmNhcnJpZXIsIGNhcnJpZXJOYW1lOiByby5jYXJyaWVyTmFtZSwgZmxpZ2h0TnVtYmVyOiByby5mbGlnaHROdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxpZ2h0dGltZTogcm8uZmxpZ2h0dGltZSwgb3JpZ2luVGVybWluYWw6IHJvLm9yaWdpblRlcm1pbmFsLCBkZXN0aW5hdGlvblRlcm1pbmFsOiByby5kZXN0aW5hdGlvblRlcm1pbmFsLCBtZWFsOiByby5tZWFsLCBzZWF0OiByby5zZWF0LCBhaXJjcmFmdDogcm8uYWlyY3JhZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlczogXy5tYXAoaS5yb3V0ZXMsIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHQuaWQsIG9yaWdpbjogdC5vcmlnaW4sIG9yaWdpbkRldGFpbHM6IHQub3JpZ2luRGV0YWlscywgbG9nbzogdC5sb2dvLCBkZXN0aW5hdGlvbkRldGFpbHM6IHQuZGVzdGluYXRpb25EZXRhaWxzLCBkZXN0aW5hdGlvbjogdC5kZXN0aW5hdGlvbiwgZGVwYXJ0dXJlOiB0LmRlcGFydHVyZSwgYXJyaXZhbDogdC5hcnJpdmFsLCBjYXJyaWVyOiB0LmNhcnJpZXIsIGNhcnJpZXJOYW1lOiB0LmNhcnJpZXJOYW1lLCBmbGlnaHROdW1iZXI6IHQuZmxpZ2h0TnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGlnaHR0aW1lOiB0LmZsaWdodHRpbWUsIG9yaWdpblRlcm1pbmFsOiB0Lm9yaWdpblRlcm1pbmFsLCBkZXN0aW5hdGlvblRlcm1pbmFsOiB0LmRlc3RpbmF0aW9uVGVybWluYWwsIG1lYWw6IHQubWVhbCwgc2VhdDogdC5zZWF0LCBhaXJjcmFmdDogdC5haXJjcmFmdCwgdGVjaFN0b3A6IHQudGVjaFN0b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc29ydChmdW5jdGlvbiAoeCwgeSkge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQxID0gbmV3IERhdGUoeC5kZXBhcnR1cmUpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQyID0gbmV3IERhdGUoeS5kZXBhcnR1cmUpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQxID4gZDIpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTFcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIDtcbi8vXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSl9O1xuXG4gICAgICAgICAgICAvKkNIRUNLIEFJUlBPUlQgQ0hBTkdFIEFORCBHRVQqL1xuXG4gICAgICAgICAgICAvKkNIRUNLIEFJUlBPUlQgQ0hBTkdFIEFORCBHRVQqL1xuXG4gICAgICAgICAgICBkYXRhLmN1cnJlbnRDYXJ0RGV0YWlscyA9IGRldGFpbHM7XG5cbiAgICAgICAgICAgIGRhdGEuY2FydHMgPSBbXTtcbiAgICAgICAgICAgIGRhdGEuY2FydHMucHVzaChkZXRhaWxzKTtcbiAgICAgICAgICAgIGRhdGEuY2FiaW5UeXBlID0gMTtcbiAgICAgICAgICAgIGRhdGEuYWRkID0gZmFsc2U7XG4gICAgICAgICAgICBkYXRhLmVkaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGRhdGEuY3VycmVudENhcnRJZCA9IGRldGFpbHMuaWQ7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEuY3VycmVudENhcnREZXRhaWxzKTtcbiAgICAgICAgICAgIGRhdGEuc3VtbWFyeSA9IGZhbHNlO1xuICAgICAgICAgICAgZGF0YS5wcmludCA9IGZhbHNlO1xuICAgICAgICAgICAgZGF0YS5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBkYXRhLmFtZW5kID0gZmFsc2U7XG4gICAgICAgICAgICBkYXRhLmNhbmNlbCA9IGZhbHNlO1xuICAgICAgICAgICAgZGF0YS5yZXNjaGVkdWxlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGRhdGEuZXJyb3JzID0ge307XG4gICAgICAgICAgICBkYXRhLnJlc3VsdHMgPSBbXTtcblxuICAgICAgICAgICAgZGF0YS5maWx0ZXIgPSB7fTtcbiAgICAgICAgICAgIGRhdGEuZmlsdGVyZWQgPSB7fTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG5ldyBNeWJvb2tpbmdEYXRhKHtkYXRhOiBkYXRhfSkpO1xuXG5cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pXG4gICAgfSk7XG59O1xuXG5NeWJvb2tpbmdEYXRhLnBhcnNlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAvL2NvbnNvbGUubG9nKFwiTXlib29raW5nRGF0YS5wYXJzZVwiKTtcbiAgICAvL2RhdGEuZmxpZ2h0cyA9IF8ubWFwKGRhdGEuZmxpZ2h0cywgZnVuY3Rpb24oaSkgeyByZXR1cm4gRmxpZ2h0LnBhcnNlKGkpOyB9KTtcbiAgICAvLyAgIGNvbnNvbGUubG9nKGRhdGEpOyAgIFxuICAgIHZhciBmbGdVcGNvbWluZyA9IGZhbHNlO1xuICAgIHZhciBmbGdQcmV2aW91cyA9IGZhbHNlO1xuICAgIGRhdGEuY2FydHMgPSBfLm1hcChkYXRhLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICBpZiAoaS51cGNvbWluZyA9PSAndHJ1ZScpXG4gICAgICAgICAgICBmbGdVcGNvbWluZyA9IHRydWU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZsZ1ByZXZpb3VzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHtpZDogaS5pZCwgZW1haWw6IGkuZW1haWwsIGNyZWF0ZWQ6IGkuY3JlYXRlZCwgdG90YWxBbW91bnQ6IGkudG90YWxBbW91bnQsIGJvb2tpbmdfc3RhdHVzOiBpLmJvb2tpbmdfc3RhdHVzLFxuICAgICAgICAgICAgcmV0dXJuZGF0ZTogaS5yZXR1cm5kYXRlLCBpc011bHRpQ2l0eTogaS5pc011bHRpQ2l0eSwgY3VyZW5jeTogaS5jdXJlbmN5LCB1cGNvbWluZzogaS51cGNvbWluZyxcbiAgICAgICAgICAgIGJvb2tpbmdzOiBfLm1hcChpLmJvb2tpbmdzLCBmdW5jdGlvbiAoYikge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGIuaWQsIHNvdXJjZTogYi5zb3VyY2UsIGRlc3RpbmF0aW9uOiBiLmRlc3RpbmF0aW9uLCBzb3VyY2VfaWQ6IGIuc291cmNlX2lkLCBkZXN0aW5hdGlvbl9pZDogYi5kZXN0aW5hdGlvbl9pZCxcbiAgICAgICAgICAgICAgICAgICAgZGVwYXJ0dXJlOiBiLmRlcGFydHVyZSwgYXJyaXZhbDogYi5hcnJpdmFsLFxuICAgICAgICAgICAgICAgICAgICB0cmF2ZWxlcnM6IF8ubWFwKGIudHJhdmVsbGVyLCBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtpZDogdC5pZCwgbmFtZTogdC5uYW1lfTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZDEgPSBuZXcgRGF0ZSh4LmRlcGFydHVyZSk7XG4gICAgICAgICAgICAgICAgdmFyIGQyID0gbmV3IERhdGUoeS5kZXBhcnR1cmUpO1xuICAgICAgICAgICAgICAgIGlmIChkMSA+IGQyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDtcblxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0cmF2ZWxlcjogXy5tYXAoaS50cmF2ZWxsZXJkdGwsIGZ1bmN0aW9uIChqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtpZDogai5pZCwgbmFtZTogai5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBzcmM6IF8ubWFwKGouc3JjLCBmdW5jdGlvbiAoZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtuYW1lOiBnfTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGRlc3Q6IF8ubWFwKGouZGVzdCwgZnVuY3Rpb24gKGcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7bmFtZTogZ307XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBkYXRhLmNhcnRzLnNvcnQoZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHguaWQgPCB5LmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC0xXG4gICAgICAgIH1cbiAgICAgICAgO1xuXG4gICAgfSk7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmNhcnRzKTsgIFxuICAgIC8vICAgICAgICAgIGRhdGEuY3VycmVudFRyYXZlbGxlcj0gXy5maXJzdChkYXRhLnRyYXZlbGxlcnMpO1xuICAgIC8vICAgICAgICAgICBkYXRhLmN1cnJlbnRUcmF2ZWxsZXJJZD1kYXRhLmN1cnJlbnRUcmF2ZWxsZXIuaWQ7XG4gICAgZGF0YS5jYWJpblR5cGUgPSAxO1xuICAgIGRhdGEuYWRkID0gZmFsc2U7XG4gICAgZGF0YS5lZGl0ID0gZmFsc2U7XG4gICAgZGF0YS5jdXJyZW50Q2FydElkID0gbnVsbDtcbiAgICBkYXRhLmN1cnJlbnRDYXJ0RGV0YWlscyA9IG51bGw7XG4gICAgZGF0YS5zdW1tYXJ5ID0gdHJ1ZTtcbiAgICBkYXRhLnBlbmRpbmcgPSB0cnVlO1xuICAgIGRhdGEuYW1lbmQgPSBmYWxzZTtcbiAgICBkYXRhLmNhbmNlbCA9IGZhbHNlO1xuICAgIGRhdGEucHJpbnQgPSBmYWxzZTtcbiAgICBkYXRhLnJlc2NoZWR1bGUgPSBmYWxzZTtcbiAgICBkYXRhLmZsZ1VwY29taW5nID0gZmxnVXBjb21pbmc7XG4gICAgZGF0YS5mbGdQcmV2aW91cyA9IGZsZ1ByZXZpb3VzO1xuICAgIGRhdGEuZXJyb3JzID0ge307XG4gICAgZGF0YS5yZXN1bHRzID0gW107XG5cbiAgICBkYXRhLmZpbHRlciA9IHt9O1xuICAgIGRhdGEuZmlsdGVyZWQgPSB7fTtcbiAgICByZXR1cm4gbmV3IE15Ym9va2luZ0RhdGEoe2RhdGE6IGRhdGF9KTtcblxufTtcbk15Ym9va2luZ0RhdGEuZmV0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcIk15Ym9va2luZ0RhdGEuZmV0Y2hcIik7XG4gICAgcmV0dXJuIFEuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICQuZ2V0SlNPTignL2IyYy9haXJDYXJ0L2dldE15Qm9va2luZ3MnKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoTXlib29raW5nRGF0YS5wYXJzZShkYXRhKSk7XG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vVE9ETzogaGFuZGxlIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmFpbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IE15Ym9va2luZ0RhdGE7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9zdG9yZXMvbXlib29raW5ncy9teWJvb2tpbmdzLmpzXG4vLyBtb2R1bGUgaWQgPSA2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSA2IDciLCIndXNlIHN0cmljdCc7XG5cbnZhciBTdG9yZSA9IHJlcXVpcmUoJ2NvcmUvc3RvcmUnKSxcbiAgICBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKSxcbiAgICB2YWxpZGF0ZSA9IHJlcXVpcmUoJ3ZhbGlkYXRlJyksXG4gICAgJCA9IHJlcXVpcmUoJ2pxdWVyeScpLFxuICAgIF8gPSByZXF1aXJlKCdsb2Rhc2gnKVxuICAgIDtcblxubW9kdWxlLmV4cG9ydHMgPSBTdG9yZS5leHRlbmQoe1xuICAgIHF1ZW5lOiBbXSxcblxuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICBcbiAgICAgICAgdmFyIGdldERhdGE9ZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgLy8gIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0RGF0YTE9ZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkb2FqYXg9ZnVuY3Rpb24oZ2V0RGF0YSl7XG4gICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJywgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdXJsOiAnYjJjL3RyYXZlbGVyL2dldE15VHJhdmVsZXJzTGlzdCcsICBcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBnZXREYXRhLFxuICAgICAgICAgICAgICAgIGVycm9yOiBnZXREYXRhMVxuICAgICAgICAgICAgfSk7XG4gICAgfTtcbiAgICAgICAgZG9hamF4KGdldERhdGEpO1xuICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjdXJyZW50VHJhdmVsbGVyOiB7aWQ6IDEsdGl0bGU6J01yLicsIGVtYWlsOiAncHJhc2hhbnRAZ21haWwuY29tJywgbW9iaWxlOiAnOTQxMjM1NzkyNicsICBmaXJzdF9uYW1lOiAnUHJhc2hhbnQnLCBcbiAgICAgICAgICAgICAgICBsYXN0X25hbWU6J0t1bWFyJyxiaXJ0aGRhdGU6JzIwMDEtMDUtMzAnLGJhc2VVcmw6JycscGFzc3BvcnRfbnVtYmVyOiczNDIxMjMnLHBhc3Nwb3J0X3BsYWNlOidJbmRpYSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXJyZW50VHJhdmVsbGVySWQ6MSxcbiAgICAgICAgICAgIGNhYmluVHlwZTogMSxcbiAgICAgICAgICAgIGFkZDpmYWxzZSxcbiAgICAgICAgICAgIGVkaXQ6ZmFsc2UsXG4gICAgICAgICAgICB0aXRsZXM6W3tpZDoxLHRleHQ6J01yLid9LHtpZDoyLHRleHQ6J01ycy4nfSx7aWQ6Myx0ZXh0OidNcy4nfSx7aWQ6NCx0ZXh0OidNaXNzJ30se2lkOjUsdGV4dDonTXN0ci4nfSx7aWQ6Nix0ZXh0OidJbmYuJ31dLFxuICAgICAgICAgICAgcGFzc2VuZ2VyczogWzEsIDAsIDBdLFxuICAgICAgICAgICAgdHJhdmVsbGVyczogW1xuICAgICAgICAgICAgICAgIHsgaWQ6IDEsdGl0bGU6J01yLicsIGVtYWlsOiAncHJhc2hhbnRAZ21haWwuY29tJywgbW9iaWxlOiAnOTQxMjM1NzkyNicscGFzc3BvcnRfbnVtYmVyOicyNTQyMzQyJyxwYXNzcG9ydF9wbGFjZTonSW5kaWEnLCBcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogJ1ByYXNoYW50JywgbGFzdF9uYW1lOidLdW1hcicsYmlydGhkYXRlOicyMDAxLTA1LTMwJyxiYXNlVXJsOicnfSxcbiAgICAgICAgICAgICAgICB7IGlkOiAyLHRpdGxlOidNci4nLCBlbWFpbDogJ01pY2hhZWxAZ21haWwuY29tJywgbW9iaWxlOiAnMTIzNDU2Nzg5MCcscGFzc3BvcnRfbnVtYmVyOiczMTIzMTIzJyxwYXNzcG9ydF9wbGFjZTonSW5kaWEnLCBcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogJ01pY2hhZWwnLCBsYXN0X25hbWU6J0phaW4nLGJpcnRoZGF0ZTonMjAwNS0wMy0wMycsYmFzZVVybDonJ30sXG4gICAgICAgICAgICAgICAgeyBpZDogMyx0aXRsZTonTXIuJywgZW1haWw6ICdiZWxhaXJAZ21haWwuY29tJywgbW9iaWxlOiAnMTIzNDU2Nzg5MCcscGFzc3BvcnRfbnVtYmVyOicxMjMxMjMxJyxwYXNzcG9ydF9wbGFjZTonSW5kaWEnLFxuICAgICAgICAgICAgICAgICAgICBmaXJzdF9uYW1lOiAnQmVsYWlyJywgbGFzdF9uYW1lOidUcmF2ZWxzJyxiaXJ0aGRhdGU6JzIwMDItMDItMjAnLGJhc2VVcmw6Jyd9XG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBwZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yczoge30sXG4gICAgICAgICAgICByZXN1bHRzOiBbXSxcblxuICAgICAgICAgICAgZmlsdGVyOiB7fSxcbiAgICAgICAgICAgIGZpbHRlcmVkOiB7fSxcbiAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgXG4gICAgcnVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzO1xuICAgIGlmKHRoaXMuZ2V0KCkuYWRkKXsgICAgICAgIFxuICAgICAgICB2YXIgbmV3dHJhdmVsbGVyPV8ucGljayh0aGlzLmdldCgpLCAnY3VycmVudFRyYXZlbGxlcicpOyBcbiAgICAgICAgdmFyIHRyYXZlbGxlcnM9dGhpcy5nZXQoKS50cmF2ZWxsZXJzO1xuICAgICAgICB2YXIgdD1uZXd0cmF2ZWxsZXIuY3VycmVudFRyYXZlbGxlci50aXRsZTtcbiAgICAgICAgdmFyIHRpdGxlcz1fLmNsb25lRGVlcCh0aGlzLmdldCgpLnRpdGxlcyk7XG4gICAgICAgIHZhciB0aXRsZTtcbiAgICAgICAgIF8uZWFjaCh0aXRsZXMsIGZ1bmN0aW9uKGksIGspIHsgaWYgKGkuaWQ9PXQpIHRpdGxlPWkudGV4dDsgfSk7XG4gICAgICBcbiAgICAgICAgdmFyIGN1cnJlbnR0cmF2ZWxsZXI9e2lkOiA0LHRpdGxlOnRpdGxlLCBlbWFpbDogbmV3dHJhdmVsbGVyLmN1cnJlbnRUcmF2ZWxsZXIuZW1haWwsIG1vYmlsZTogbmV3dHJhdmVsbGVyLmN1cnJlbnRUcmF2ZWxsZXIubW9iaWxlLCAgZmlyc3RfbmFtZTogbmV3dHJhdmVsbGVyLmN1cnJlbnRUcmF2ZWxsZXIuZmlyc3RfbmFtZSwgXG4gICAgICAgICAgICAgICAgbGFzdF9uYW1lOm5ld3RyYXZlbGxlci5jdXJyZW50VHJhdmVsbGVyLmxhc3RfbmFtZSxiaXJ0aGRhdGU6bmV3dHJhdmVsbGVyLmN1cnJlbnRUcmF2ZWxsZXIuYmlydGhkYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpLGJhc2VVcmw6JycscGFzc3BvcnRfbnVtYmVyOm5ld3RyYXZlbGxlci5jdXJyZW50VHJhdmVsbGVyLnBhc3Nwb3J0X251bWJlcixwYXNzcG9ydF9wbGFjZTpuZXd0cmF2ZWxsZXIuY3VycmVudFRyYXZlbGxlci5wYXNzcG9ydF9wbGFjZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgdHJhdmVsbGVycy5wdXNoKGN1cnJlbnR0cmF2ZWxsZXIpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKHRyYXZlbGxlcnMpO1xuICAgICAgICB0aGlzLnNldCgndHJhdmVsbGVycycsdHJhdmVsbGVycyk7XG4gICAgICAgIHRoaXMuc2V0KCdjdXJyZW50VHJhdmVsbGVyJyxjdXJyZW50dHJhdmVsbGVyKTtcbiAgICAgICAgdGhpcy5zZXQoJ2N1cnJlbnRUcmF2ZWxsZXJJZCcsNCk7XG4gICAgfVxuICAgIGVsc2UgaWYodGhpcy5nZXQoKS5lZGl0KXtcbiAgICAgICAgdmFyIG5ld3RyYXZlbGxlcj10aGlzLmdldCgpLmN1cnJlbnRUcmF2ZWxsZXI7IFxuICAgICAgICB2YXIgdHJhdmVsbGVycz10aGlzLmdldCgpLnRyYXZlbGxlcnM7XG4gICAgICAgIHZhciB0PW5ld3RyYXZlbGxlci50aXRsZTtcbiAgICAgICAgdmFyIHRpdGxlcz1fLmNsb25lRGVlcCh0aGlzLmdldCgpLnRpdGxlcyk7XG4gICAgICAgIHZhciB0aXRsZTtcbiAgICAgICAgdmFyIGlkPXRoaXMuZ2V0KCkuY3VycmVudFRyYXZlbGxlcklkO1xuICAgICAgICAgXy5lYWNoKHRpdGxlcywgZnVuY3Rpb24oaSwgaykgeyAvKmNvbnNvbGUubG9nKGkpOyovIGlmIChpLmlkPT10KSB0aXRsZT1pLnRleHQ7IH0pO1xuICAgICAgXG4gICAgICAgIHZhciBjdXJyZW50dHJhdmVsbGVyPXtpZDogaWQsdGl0bGU6dGl0bGUsIGVtYWlsOiBuZXd0cmF2ZWxsZXIuZW1haWwsIG1vYmlsZTogbmV3dHJhdmVsbGVyLm1vYmlsZSwgIGZpcnN0X25hbWU6IG5ld3RyYXZlbGxlci5maXJzdF9uYW1lLCBcbiAgICAgICAgICAgICAgICBsYXN0X25hbWU6bmV3dHJhdmVsbGVyLmxhc3RfbmFtZSxiaXJ0aGRhdGU6bmV3dHJhdmVsbGVyLmJpcnRoZGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQnKSxiYXNlVXJsOicnLHBhc3Nwb3J0X251bWJlcjpuZXd0cmF2ZWxsZXIucGFzc3BvcnRfbnVtYmVyLHBhc3Nwb3J0X3BsYWNlOm5ld3RyYXZlbGxlci5wYXNzcG9ydF9wbGFjZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgdmFyIGluZGV4PSBfLmZpbmRJbmRleCh0aGlzLmdldCgpLnRyYXZlbGxlcnMsIHsgJ2lkJzogaWR9KTtcbiAgICAgICAgdGhpcy5zcGxpY2UoJ3RyYXZlbGxlcnMnLCBpbmRleCwgMSk7XG4gICAgICAvLyAgY29uc29sZS5sb2coY3VycmVudHRyYXZlbGxlcik7XG4gICAgICAgIHRyYXZlbGxlcnMucHVzaChjdXJyZW50dHJhdmVsbGVyKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0cmF2ZWxsZXJzKTtcbiAgICAgICAgdGhpcy5zZXQoJ3RyYXZlbGxlcnMnLHRyYXZlbGxlcnMpO1xuICAgICAgICB0aGlzLnNldCgnY3VycmVudFRyYXZlbGxlcicsY3VycmVudHRyYXZlbGxlcik7ICAgICAgICBcbiAgICB9XG4gICAgICAgIHRoaXMuc2V0KCdhZGQnLGZhbHNlKTsgXG4gICAgICAgIHRoaXMuc2V0KCdlZGl0JyxmYWxzZSk7IFxuICAgICAgICAvLyxcbiAgICAgLyogICAgICAgc2VhcmNoID0gXy5waWNrKHRoaXMuZ2V0KCksIFsndHJpcFR5cGUnLCAnY2FiaW5UeXBlJywgJ3Bhc3NlbmdlcnMnXSk7XG5cbiAgICAgICAgdGhpcy5zZXQoJ2Vycm9ycycsIHt9KTtcbiAgICAgICAgdGhpcy5zZXQoJ3BlbmRpbmcnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5xdWVuZSA9IFtdO1xuXG5cbiAgICAgICAgXy5lYWNoKHRoaXMuZ2V0KCdmbGlnaHRzJyksIGZ1bmN0aW9uKGksIGspIHtcbiAgICAgICAgICAgIHZpZXcucXVlbmVbdmlldy5xdWVuZS5sZW5ndGhdID0gJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYy9mbGlnaHRzL3NlYXJjaCcsXG4gICAgICAgICAgICAgICAgZGF0YTogXy5leHRlbmQoe30sIHNlYXJjaCwge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBpLmZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvOiBpLnRvLFxuICAgICAgICAgICAgICAgICAgICBkZXBhcnRfYXQ6IG1vbWVudC5pc01vbWVudChpLmRlcGFydF9hdCkgPyBpLmRlcGFydF9hdC5mb3JtYXQoJ1lZWVktTU0tREQnKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJldHVybl9hdDogbW9tZW50LmlzTW9tZW50KGkucmV0dXJuX2F0KSA/IGkucmV0dXJuX2F0LmZvcm1hdCgnWVlZWS1NTS1ERCcpIDogbnVsbFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgeyB2aWV3LmltcG9ydFJlc3VsdHMoaywgZGF0YSk7IH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocikgeyB2aWV3LmhhbmRsZUVycm9yKGssIHhocik7IH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgICQud2hlbi5hcHBseSh1bmRlZmluZWQsIHRoaXMucXVlbmUpXG4gICAgICAgICAgICAuZG9uZShmdW5jdGlvbigpIHsgdmlldy5zZXQoJ3BlbmRpbmcnLCBmYWxzZSk7IHZpZXcuc2V0KCdmaW5pc2hlZCcsIHRydWUpOyB9KTsgKi9cbiAgICB9LFxuXG4gICAgaW1wb3J0UmVzdWx0czogZnVuY3Rpb24oaywgZGF0YSkge1xuICAgICAgICB0aGlzLnNldCgnZmlsdGVyZWQnLCB7fSk7XG4gICAgICAgIHRoaXMuc2V0KCdyZXN1bHRzLicgKyBrLCBkYXRhKTtcblxuICAgICAgICB2YXIgcHJpY2VzID0gW10sXG4gICAgICAgICAgICBjYXJyaWVycyA9IFtdO1xuXG4gICAgICAgIF8uZWFjaChkYXRhLCBmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICBwcmljZXNbcHJpY2VzLmxlbmd0aF0gPSBpLnByaWNlO1xuICAgICAgICAgICAgY2FycmllcnNbY2FycmllcnMubGVuZ3RoXSA9IGkuaXRpbmVyYXJ5WzBdLnNlZ21lbnRzWzBdLmNhcnJpZXI7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgY2FycmllcnMgPSBfLnVuaXF1ZShjYXJyaWVycywgJ2NvZGUnKTtcblxuICAgICAgICB0aGlzLnNldCgnZmlsdGVyJywge1xuICAgICAgICAgICAgcHJpY2VzOiBbTWF0aC5taW4uYXBwbHkobnVsbCwgcHJpY2VzKSwgTWF0aC5tYXguYXBwbHkobnVsbCwgcHJpY2VzKV0sXG4gICAgICAgICAgICBjYXJyaWVyczogY2FycmllcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zZXQoJ2ZpbHRlcmVkLmNhcnJpZXJzJywgXy5tYXAoY2FycmllcnMsIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIGkuY29kZTsgfSkpO1xuICAgIH0sXG5cbiAgICBoYW5kbGVFcnJvcjogZnVuY3Rpb24oaywgeGhyKSB7XG5cbiAgICB9XG5cblxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9zdG9yZXMvbXl0cmF2ZWxsZXIvbXl0cmF2ZWxsZXIuanNcbi8vIG1vZHVsZSBpZCA9IDY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IDYgOSIsIid1c2Ugc3RyaWN0JztcblxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKSxcbiAgICAgICAgUSA9IHJlcXVpcmUoJ3EnKVxuICAgICAgICA7XG5cbnZhciBGb3JtID0gcmVxdWlyZSgnY29yZS9mb3JtJylcbiAgICAgICAgO1xuXG52YXIgRGlhbG9nID0gRm9ybS5leHRlbmQoe1xuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd0ZW1wbGF0ZXMvZmxpZ2h0cy9ib29raW5nL2RpYWxvZy5odG1sJyksXG4gICAgbW9kYWxUeXBlOiAxLFxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlYWRlcjogJ2hlYWRlcicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnbWVzc2FnZScsXG4gICAgICAgICAgICBidXR0b25zOiBbXG4gICAgICAgICAgICAgICAgWydPaycsIGZ1bmN0aW9uKCkgeyBhbGVydCgnenp6Jyk7IH1dLFxuICAgICAgICAgICAgICAgIFsnQ2FuY2VsJywgZnVuY3Rpb24oKSB7IGFsZXJ0KCd5eXknKSB9XVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKERpYWxvZy5tb2RhbFR5cGUgPT09IDIpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGtleWJvYXJkU2hvcnRjdXRzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjbG9zYWJsZTogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkKHRoaXMuZmluZCgnLnVpLm1vZGFsJykpLm1vZGFsKG9wdGlvbnMpLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXMuZmluZCgnLnVpLm1vZGFsJykpLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgIH1cblxuICAgIH0sXG4gICAgY2xpY2s6IGZ1bmN0aW9uIChldmVudCwgY2IpIHtcbiAgICAgICAgY2IuYmluZCh0aGlzKShldmVudCk7XG4gICAgfVxufSk7XG5cblxuRGlhbG9nLm9wZW4gPSBmdW5jdGlvbiAob3B0aW9ucywgdHlwZSkge1xuICAgIHZhciBkaWFsb2cgPSBuZXcgRGlhbG9nKCk7XG4gICAgRGlhbG9nLm1vZGFsVHlwZSA9IHR5cGU7XG4gICAgZGlhbG9nLnNldChvcHRpb25zKTtcbiAgICBkaWFsb2cucmVuZGVyKCcjcG9wdXAtY29udGFpbmVyJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERpYWxvZztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbXBvbmVudHMvZmxpZ2h0cy9ib29raW5nL2RpYWxvZy5qc1xuLy8gbW9kdWxlIGlkID0gNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUiLCJtb2R1bGUuZXhwb3J0cz17XCJ2XCI6MyxcInRcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgIHNtYWxsIG1vZGFsXCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJpXCIsXCJhXCI6e1wiY2xhc3NcIjpcImNsb3NlIGljb25cIn19XSxcIm5cIjo1MCxcInJcIjpcImNsb3NlQnV0dG9uXCJ9LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImhlYWRlclwifSxcImZcIjpbe1widFwiOjIsXCJyXCI6XCJoZWFkZXJcIn1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb250ZW50XCJ9LFwiZlwiOlt7XCJ0XCI6MyxcInJcIjpcIm1lc3NhZ2VcIn1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJhY3Rpb25zXCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgYnV0dG9uXCJ9LFwidlwiOntcImNsaWNrXCI6e1wibVwiOlwiY2xpY2tcIixcImFcIjp7XCJyXCI6W1wiZXZlbnRcIixcIi4vMVwiXSxcInNcIjpcIltfMCxfMV1cIn19fSxcImZcIjpbe1widFwiOjIsXCJyXCI6XCIuLzBcIn1dfV0sXCJuXCI6NTIsXCJyXCI6XCJidXR0b25zXCJ9XX1dfV19O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvYXBwL3dlYi9tb2R1bGUvdGVtcGxhdGVzL2ZsaWdodHMvYm9va2luZy9kaWFsb2cuaHRtbFxuLy8gbW9kdWxlIGlkID0gNjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhY2NvdW50aW5nID0gcmVxdWlyZSgnYWNjb3VudGluZy5qcycpXG4gICAgO1xuXG52YXIgTWV0YSA9IHJlcXVpcmUoJ3N0b3Jlcy9mbGlnaHQvbWV0YScpXG4gICAgO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgIGlmIChNZXRhLm9iamVjdCkge1xuICAgICAgICByZXR1cm4gYWNjb3VudGluZy5mb3JtYXRNb25leShcbiAgICAgICAgICAgIGFtb3VudCAqIE1ldGEub2JqZWN0LmdldCgneENoYW5nZScpW01ldGEub2JqZWN0LmdldCgnZGlzcGxheV9jdXJyZW5jeScpXSxcbiAgICAgICAgICAgICc8aSBjbGFzcz1cIicgKyBNZXRhLm9iamVjdC5nZXQoJ2Rpc3BsYXlfY3VycmVuY3knKS50b0xvd2VyQ2FzZSgpICArICcgaWNvbiBjdXJyZW5jeVwiPjwvaT4nLFxuICAgICAgICAgICAgMFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBhY2NvdW50aW5nLmZvcm1hdE1vbmV5KGFtb3VudCwgJzxpIGNsYXNzPVwiaW5yIGljb24gY3VycmVuY3lcIj48L2k+JywgMCk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvaGVscGVycy9tb25leS5qc1xuLy8gbW9kdWxlIGlkID0gNjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUgMTAiLCIvKiFcbiAqIGFjY291bnRpbmcuanMgdjAuMy4yXG4gKiBDb3B5cmlnaHQgMjAxMSwgSm9zcyBDcm93Y3JvZnRcbiAqXG4gKiBGcmVlbHkgZGlzdHJpYnV0YWJsZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBQb3J0aW9ucyBvZiBhY2NvdW50aW5nLmpzIGFyZSBpbnNwaXJlZCBvciBib3Jyb3dlZCBmcm9tIHVuZGVyc2NvcmUuanNcbiAqXG4gKiBGdWxsIGRldGFpbHMgYW5kIGRvY3VtZW50YXRpb246XG4gKiBodHRwOi8vam9zc2Nyb3djcm9mdC5naXRodWIuY29tL2FjY291bnRpbmcuanMvXG4gKi9cblxuKGZ1bmN0aW9uKHJvb3QsIHVuZGVmaW5lZCkge1xuXG5cdC8qIC0tLSBTZXR1cCAtLS0gKi9cblxuXHQvLyBDcmVhdGUgdGhlIGxvY2FsIGxpYnJhcnkgb2JqZWN0LCB0byBiZSBleHBvcnRlZCBvciByZWZlcmVuY2VkIGdsb2JhbGx5IGxhdGVyXG5cdHZhciBsaWIgPSB7fTtcblxuXHQvLyBDdXJyZW50IHZlcnNpb25cblx0bGliLnZlcnNpb24gPSAnMC4zLjInO1xuXG5cblx0LyogLS0tIEV4cG9zZWQgc2V0dGluZ3MgLS0tICovXG5cblx0Ly8gVGhlIGxpYnJhcnkncyBzZXR0aW5ncyBjb25maWd1cmF0aW9uIG9iamVjdC4gQ29udGFpbnMgZGVmYXVsdCBwYXJhbWV0ZXJzIGZvclxuXHQvLyBjdXJyZW5jeSBhbmQgbnVtYmVyIGZvcm1hdHRpbmdcblx0bGliLnNldHRpbmdzID0ge1xuXHRcdGN1cnJlbmN5OiB7XG5cdFx0XHRzeW1ib2wgOiBcIiRcIixcdFx0Ly8gZGVmYXVsdCBjdXJyZW5jeSBzeW1ib2wgaXMgJyQnXG5cdFx0XHRmb3JtYXQgOiBcIiVzJXZcIixcdC8vIGNvbnRyb2xzIG91dHB1dDogJXMgPSBzeW1ib2wsICV2ID0gdmFsdWUgKGNhbiBiZSBvYmplY3QsIHNlZSBkb2NzKVxuXHRcdFx0ZGVjaW1hbCA6IFwiLlwiLFx0XHQvLyBkZWNpbWFsIHBvaW50IHNlcGFyYXRvclxuXHRcdFx0dGhvdXNhbmQgOiBcIixcIixcdFx0Ly8gdGhvdXNhbmRzIHNlcGFyYXRvclxuXHRcdFx0cHJlY2lzaW9uIDogMixcdFx0Ly8gZGVjaW1hbCBwbGFjZXNcblx0XHRcdGdyb3VwaW5nIDogM1x0XHQvLyBkaWdpdCBncm91cGluZyAobm90IGltcGxlbWVudGVkIHlldClcblx0XHR9LFxuXHRcdG51bWJlcjoge1xuXHRcdFx0cHJlY2lzaW9uIDogMCxcdFx0Ly8gZGVmYXVsdCBwcmVjaXNpb24gb24gbnVtYmVycyBpcyAwXG5cdFx0XHRncm91cGluZyA6IDMsXHRcdC8vIGRpZ2l0IGdyb3VwaW5nIChub3QgaW1wbGVtZW50ZWQgeWV0KVxuXHRcdFx0dGhvdXNhbmQgOiBcIixcIixcblx0XHRcdGRlY2ltYWwgOiBcIi5cIlxuXHRcdH1cblx0fTtcblxuXG5cdC8qIC0tLSBJbnRlcm5hbCBIZWxwZXIgTWV0aG9kcyAtLS0gKi9cblxuXHQvLyBTdG9yZSByZWZlcmVuY2UgdG8gcG9zc2libHktYXZhaWxhYmxlIEVDTUFTY3JpcHQgNSBtZXRob2RzIGZvciBsYXRlclxuXHR2YXIgbmF0aXZlTWFwID0gQXJyYXkucHJvdG90eXBlLm1hcCxcblx0XHRuYXRpdmVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSxcblx0XHR0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cblx0LyoqXG5cdCAqIFRlc3RzIHdoZXRoZXIgc3VwcGxpZWQgcGFyYW1ldGVyIGlzIGEgc3RyaW5nXG5cdCAqIGZyb20gdW5kZXJzY29yZS5qc1xuXHQgKi9cblx0ZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG5cdFx0cmV0dXJuICEhKG9iaiA9PT0gJycgfHwgKG9iaiAmJiBvYmouY2hhckNvZGVBdCAmJiBvYmouc3Vic3RyKSk7XG5cdH1cblxuXHQvKipcblx0ICogVGVzdHMgd2hldGhlciBzdXBwbGllZCBwYXJhbWV0ZXIgaXMgYSBzdHJpbmdcblx0ICogZnJvbSB1bmRlcnNjb3JlLmpzLCBkZWxlZ2F0ZXMgdG8gRUNNQTUncyBuYXRpdmUgQXJyYXkuaXNBcnJheVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNBcnJheShvYmopIHtcblx0XHRyZXR1cm4gbmF0aXZlSXNBcnJheSA/IG5hdGl2ZUlzQXJyYXkob2JqKSA6IHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0fVxuXG5cdC8qKlxuXHQgKiBUZXN0cyB3aGV0aGVyIHN1cHBsaWVkIHBhcmFtZXRlciBpcyBhIHRydWUgb2JqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBpc09iamVjdChvYmopIHtcblx0XHRyZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJztcblx0fVxuXG5cdC8qKlxuXHQgKiBFeHRlbmRzIGFuIG9iamVjdCB3aXRoIGEgZGVmYXVsdHMgb2JqZWN0LCBzaW1pbGFyIHRvIHVuZGVyc2NvcmUncyBfLmRlZmF1bHRzXG5cdCAqXG5cdCAqIFVzZWQgZm9yIGFic3RyYWN0aW5nIHBhcmFtZXRlciBoYW5kbGluZyBmcm9tIEFQSSBtZXRob2RzXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWZhdWx0cyhvYmplY3QsIGRlZnMpIHtcblx0XHR2YXIga2V5O1xuXHRcdG9iamVjdCA9IG9iamVjdCB8fCB7fTtcblx0XHRkZWZzID0gZGVmcyB8fCB7fTtcblx0XHQvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IG5vbi1wcm90b3R5cGUgcHJvcGVydGllczpcblx0XHRmb3IgKGtleSBpbiBkZWZzKSB7XG5cdFx0XHRpZiAoZGVmcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdC8vIFJlcGxhY2UgdmFsdWVzIHdpdGggZGVmYXVsdHMgb25seSBpZiB1bmRlZmluZWQgKGFsbG93IGVtcHR5L3plcm8gdmFsdWVzKTpcblx0XHRcdFx0aWYgKG9iamVjdFtrZXldID09IG51bGwpIG9iamVjdFtrZXldID0gZGVmc1trZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb2JqZWN0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEltcGxlbWVudGF0aW9uIG9mIGBBcnJheS5tYXAoKWAgZm9yIGl0ZXJhdGlvbiBsb29wc1xuXHQgKlxuXHQgKiBSZXR1cm5zIGEgbmV3IEFycmF5IGFzIGEgcmVzdWx0IG9mIGNhbGxpbmcgYGl0ZXJhdG9yYCBvbiBlYWNoIGFycmF5IHZhbHVlLlxuXHQgKiBEZWZlcnMgdG8gbmF0aXZlIEFycmF5Lm1hcCBpZiBhdmFpbGFibGVcblx0ICovXG5cdGZ1bmN0aW9uIG1hcChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG5cdFx0dmFyIHJlc3VsdHMgPSBbXSwgaSwgajtcblxuXHRcdGlmICghb2JqKSByZXR1cm4gcmVzdWx0cztcblxuXHRcdC8vIFVzZSBuYXRpdmUgLm1hcCBtZXRob2QgaWYgaXQgZXhpc3RzOlxuXHRcdGlmIChuYXRpdmVNYXAgJiYgb2JqLm1hcCA9PT0gbmF0aXZlTWFwKSByZXR1cm4gb2JqLm1hcChpdGVyYXRvciwgY29udGV4dCk7XG5cblx0XHQvLyBGYWxsYmFjayBmb3IgbmF0aXZlIC5tYXA6XG5cdFx0Zm9yIChpID0gMCwgaiA9IG9iai5sZW5ndGg7IGkgPCBqOyBpKysgKSB7XG5cdFx0XHRyZXN1bHRzW2ldID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIGFuZCBub3JtYWxpc2UgdGhlIHZhbHVlIG9mIHByZWNpc2lvbiAobXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VyKVxuXHQgKi9cblx0ZnVuY3Rpb24gY2hlY2tQcmVjaXNpb24odmFsLCBiYXNlKSB7XG5cdFx0dmFsID0gTWF0aC5yb3VuZChNYXRoLmFicyh2YWwpKTtcblx0XHRyZXR1cm4gaXNOYU4odmFsKT8gYmFzZSA6IHZhbDtcblx0fVxuXG5cblx0LyoqXG5cdCAqIFBhcnNlcyBhIGZvcm1hdCBzdHJpbmcgb3Igb2JqZWN0IGFuZCByZXR1cm5zIGZvcm1hdCBvYmogZm9yIHVzZSBpbiByZW5kZXJpbmdcblx0ICpcblx0ICogYGZvcm1hdGAgaXMgZWl0aGVyIGEgc3RyaW5nIHdpdGggdGhlIGRlZmF1bHQgKHBvc2l0aXZlKSBmb3JtYXQsIG9yIG9iamVjdFxuXHQgKiBjb250YWluaW5nIGBwb3NgIChyZXF1aXJlZCksIGBuZWdgIGFuZCBgemVyb2AgdmFsdWVzIChvciBhIGZ1bmN0aW9uIHJldHVybmluZ1xuXHQgKiBlaXRoZXIgYSBzdHJpbmcgb3Igb2JqZWN0KVxuXHQgKlxuXHQgKiBFaXRoZXIgc3RyaW5nIG9yIGZvcm1hdC5wb3MgbXVzdCBjb250YWluIFwiJXZcIiAodmFsdWUpIHRvIGJlIHZhbGlkXG5cdCAqL1xuXHRmdW5jdGlvbiBjaGVja0N1cnJlbmN5Rm9ybWF0KGZvcm1hdCkge1xuXHRcdHZhciBkZWZhdWx0cyA9IGxpYi5zZXR0aW5ncy5jdXJyZW5jeS5mb3JtYXQ7XG5cblx0XHQvLyBBbGxvdyBmdW5jdGlvbiBhcyBmb3JtYXQgcGFyYW1ldGVyIChzaG91bGQgcmV0dXJuIHN0cmluZyBvciBvYmplY3QpOlxuXHRcdGlmICggdHlwZW9mIGZvcm1hdCA9PT0gXCJmdW5jdGlvblwiICkgZm9ybWF0ID0gZm9ybWF0KCk7XG5cblx0XHQvLyBGb3JtYXQgY2FuIGJlIGEgc3RyaW5nLCBpbiB3aGljaCBjYXNlIGB2YWx1ZWAgKFwiJXZcIikgbXVzdCBiZSBwcmVzZW50OlxuXHRcdGlmICggaXNTdHJpbmcoIGZvcm1hdCApICYmIGZvcm1hdC5tYXRjaChcIiV2XCIpICkge1xuXG5cdFx0XHQvLyBDcmVhdGUgYW5kIHJldHVybiBwb3NpdGl2ZSwgbmVnYXRpdmUgYW5kIHplcm8gZm9ybWF0czpcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHBvcyA6IGZvcm1hdCxcblx0XHRcdFx0bmVnIDogZm9ybWF0LnJlcGxhY2UoXCItXCIsIFwiXCIpLnJlcGxhY2UoXCIldlwiLCBcIi0ldlwiKSxcblx0XHRcdFx0emVybyA6IGZvcm1hdFxuXHRcdFx0fTtcblxuXHRcdC8vIElmIG5vIGZvcm1hdCwgb3Igb2JqZWN0IGlzIG1pc3NpbmcgdmFsaWQgcG9zaXRpdmUgdmFsdWUsIHVzZSBkZWZhdWx0czpcblx0XHR9IGVsc2UgaWYgKCAhZm9ybWF0IHx8ICFmb3JtYXQucG9zIHx8ICFmb3JtYXQucG9zLm1hdGNoKFwiJXZcIikgKSB7XG5cblx0XHRcdC8vIElmIGRlZmF1bHRzIGlzIGEgc3RyaW5nLCBjYXN0cyBpdCB0byBhbiBvYmplY3QgZm9yIGZhc3RlciBjaGVja2luZyBuZXh0IHRpbWU6XG5cdFx0XHRyZXR1cm4gKCAhaXNTdHJpbmcoIGRlZmF1bHRzICkgKSA/IGRlZmF1bHRzIDogbGliLnNldHRpbmdzLmN1cnJlbmN5LmZvcm1hdCA9IHtcblx0XHRcdFx0cG9zIDogZGVmYXVsdHMsXG5cdFx0XHRcdG5lZyA6IGRlZmF1bHRzLnJlcGxhY2UoXCIldlwiLCBcIi0ldlwiKSxcblx0XHRcdFx0emVybyA6IGRlZmF1bHRzXG5cdFx0XHR9O1xuXG5cdFx0fVxuXHRcdC8vIE90aGVyd2lzZSwgYXNzdW1lIGZvcm1hdCB3YXMgZmluZTpcblx0XHRyZXR1cm4gZm9ybWF0O1xuXHR9XG5cblxuXHQvKiAtLS0gQVBJIE1ldGhvZHMgLS0tICovXG5cblx0LyoqXG5cdCAqIFRha2VzIGEgc3RyaW5nL2FycmF5IG9mIHN0cmluZ3MsIHJlbW92ZXMgYWxsIGZvcm1hdHRpbmcvY3J1ZnQgYW5kIHJldHVybnMgdGhlIHJhdyBmbG9hdCB2YWx1ZVxuXHQgKiBhbGlhczogYWNjb3VudGluZy5gcGFyc2Uoc3RyaW5nKWBcblx0ICpcblx0ICogRGVjaW1hbCBtdXN0IGJlIGluY2x1ZGVkIGluIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggZmxvYXRzIChkZWZhdWx0OiBcIi5cIiksIHNvIGlmIHRoZSBudW1iZXJcblx0ICogdXNlcyBhIG5vbi1zdGFuZGFyZCBkZWNpbWFsIHNlcGFyYXRvciwgcHJvdmlkZSBpdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuXHQgKlxuXHQgKiBBbHNvIG1hdGNoZXMgYnJhY2tldGVkIG5lZ2F0aXZlcyAoZWcuIFwiJCAoMS45OSlcIiA9PiAtMS45OSlcblx0ICpcblx0ICogRG9lc24ndCB0aHJvdyBhbnkgZXJyb3JzIChgTmFOYHMgYmVjb21lIDApIGJ1dCB0aGlzIG1heSBjaGFuZ2UgaW4gZnV0dXJlXG5cdCAqL1xuXHR2YXIgdW5mb3JtYXQgPSBsaWIudW5mb3JtYXQgPSBsaWIucGFyc2UgPSBmdW5jdGlvbih2YWx1ZSwgZGVjaW1hbCkge1xuXHRcdC8vIFJlY3Vyc2l2ZWx5IHVuZm9ybWF0IGFycmF5czpcblx0XHRpZiAoaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdHJldHVybiBtYXAodmFsdWUsIGZ1bmN0aW9uKHZhbCkge1xuXHRcdFx0XHRyZXR1cm4gdW5mb3JtYXQodmFsLCBkZWNpbWFsKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIEZhaWxzIHNpbGVudGx5IChuZWVkIGRlY2VudCBlcnJvcnMpOlxuXHRcdHZhbHVlID0gdmFsdWUgfHwgMDtcblxuXHRcdC8vIFJldHVybiB0aGUgdmFsdWUgYXMtaXMgaWYgaXQncyBhbHJlYWR5IGEgbnVtYmVyOlxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHJldHVybiB2YWx1ZTtcblxuXHRcdC8vIERlZmF1bHQgZGVjaW1hbCBwb2ludCBpcyBcIi5cIiBidXQgY291bGQgYmUgc2V0IHRvIGVnLiBcIixcIiBpbiBvcHRzOlxuXHRcdGRlY2ltYWwgPSBkZWNpbWFsIHx8IFwiLlwiO1xuXG5cdFx0IC8vIEJ1aWxkIHJlZ2V4IHRvIHN0cmlwIG91dCBldmVyeXRoaW5nIGV4Y2VwdCBkaWdpdHMsIGRlY2ltYWwgcG9pbnQgYW5kIG1pbnVzIHNpZ246XG5cdFx0dmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIlteMC05LVwiICsgZGVjaW1hbCArIFwiXVwiLCBbXCJnXCJdKSxcblx0XHRcdHVuZm9ybWF0dGVkID0gcGFyc2VGbG9hdChcblx0XHRcdFx0KFwiXCIgKyB2YWx1ZSlcblx0XHRcdFx0LnJlcGxhY2UoL1xcKCguKilcXCkvLCBcIi0kMVwiKSAvLyByZXBsYWNlIGJyYWNrZXRlZCB2YWx1ZXMgd2l0aCBuZWdhdGl2ZXNcblx0XHRcdFx0LnJlcGxhY2UocmVnZXgsICcnKSAgICAgICAgIC8vIHN0cmlwIG91dCBhbnkgY3J1ZnRcblx0XHRcdFx0LnJlcGxhY2UoZGVjaW1hbCwgJy4nKSAgICAgIC8vIG1ha2Ugc3VyZSBkZWNpbWFsIHBvaW50IGlzIHN0YW5kYXJkXG5cdFx0XHQpO1xuXG5cdFx0Ly8gVGhpcyB3aWxsIGZhaWwgc2lsZW50bHkgd2hpY2ggbWF5IGNhdXNlIHRyb3VibGUsIGxldCdzIHdhaXQgYW5kIHNlZTpcblx0XHRyZXR1cm4gIWlzTmFOKHVuZm9ybWF0dGVkKSA/IHVuZm9ybWF0dGVkIDogMDtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBJbXBsZW1lbnRhdGlvbiBvZiB0b0ZpeGVkKCkgdGhhdCB0cmVhdHMgZmxvYXRzIG1vcmUgbGlrZSBkZWNpbWFsc1xuXHQgKlxuXHQgKiBGaXhlcyBiaW5hcnkgcm91bmRpbmcgaXNzdWVzIChlZy4gKDAuNjE1KS50b0ZpeGVkKDIpID09PSBcIjAuNjFcIikgdGhhdCBwcmVzZW50XG5cdCAqIHByb2JsZW1zIGZvciBhY2NvdW50aW5nLSBhbmQgZmluYW5jZS1yZWxhdGVkIHNvZnR3YXJlLlxuXHQgKi9cblx0dmFyIHRvRml4ZWQgPSBsaWIudG9GaXhlZCA9IGZ1bmN0aW9uKHZhbHVlLCBwcmVjaXNpb24pIHtcblx0XHRwcmVjaXNpb24gPSBjaGVja1ByZWNpc2lvbihwcmVjaXNpb24sIGxpYi5zZXR0aW5ncy5udW1iZXIucHJlY2lzaW9uKTtcblx0XHR2YXIgcG93ZXIgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKTtcblxuXHRcdC8vIE11bHRpcGx5IHVwIGJ5IHByZWNpc2lvbiwgcm91bmQgYWNjdXJhdGVseSwgdGhlbiBkaXZpZGUgYW5kIHVzZSBuYXRpdmUgdG9GaXhlZCgpOlxuXHRcdHJldHVybiAoTWF0aC5yb3VuZChsaWIudW5mb3JtYXQodmFsdWUpICogcG93ZXIpIC8gcG93ZXIpLnRvRml4ZWQocHJlY2lzaW9uKTtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBGb3JtYXQgYSBudW1iZXIsIHdpdGggY29tbWEtc2VwYXJhdGVkIHRob3VzYW5kcyBhbmQgY3VzdG9tIHByZWNpc2lvbi9kZWNpbWFsIHBsYWNlc1xuXHQgKlxuXHQgKiBMb2NhbGlzZSBieSBvdmVycmlkaW5nIHRoZSBwcmVjaXNpb24gYW5kIHRob3VzYW5kIC8gZGVjaW1hbCBzZXBhcmF0b3JzXG5cdCAqIDJuZCBwYXJhbWV0ZXIgYHByZWNpc2lvbmAgY2FuIGJlIGFuIG9iamVjdCBtYXRjaGluZyBgc2V0dGluZ3MubnVtYmVyYFxuXHQgKi9cblx0dmFyIGZvcm1hdE51bWJlciA9IGxpYi5mb3JtYXROdW1iZXIgPSBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbiwgdGhvdXNhbmQsIGRlY2ltYWwpIHtcblx0XHQvLyBSZXN1cnNpdmVseSBmb3JtYXQgYXJyYXlzOlxuXHRcdGlmIChpc0FycmF5KG51bWJlcikpIHtcblx0XHRcdHJldHVybiBtYXAobnVtYmVyLCBmdW5jdGlvbih2YWwpIHtcblx0XHRcdFx0cmV0dXJuIGZvcm1hdE51bWJlcih2YWwsIHByZWNpc2lvbiwgdGhvdXNhbmQsIGRlY2ltYWwpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2xlYW4gdXAgbnVtYmVyOlxuXHRcdG51bWJlciA9IHVuZm9ybWF0KG51bWJlcik7XG5cblx0XHQvLyBCdWlsZCBvcHRpb25zIG9iamVjdCBmcm9tIHNlY29uZCBwYXJhbSAoaWYgb2JqZWN0KSBvciBhbGwgcGFyYW1zLCBleHRlbmRpbmcgZGVmYXVsdHM6XG5cdFx0dmFyIG9wdHMgPSBkZWZhdWx0cyhcblx0XHRcdFx0KGlzT2JqZWN0KHByZWNpc2lvbikgPyBwcmVjaXNpb24gOiB7XG5cdFx0XHRcdFx0cHJlY2lzaW9uIDogcHJlY2lzaW9uLFxuXHRcdFx0XHRcdHRob3VzYW5kIDogdGhvdXNhbmQsXG5cdFx0XHRcdFx0ZGVjaW1hbCA6IGRlY2ltYWxcblx0XHRcdFx0fSksXG5cdFx0XHRcdGxpYi5zZXR0aW5ncy5udW1iZXJcblx0XHRcdCksXG5cblx0XHRcdC8vIENsZWFuIHVwIHByZWNpc2lvblxuXHRcdFx0dXNlUHJlY2lzaW9uID0gY2hlY2tQcmVjaXNpb24ob3B0cy5wcmVjaXNpb24pLFxuXG5cdFx0XHQvLyBEbyBzb21lIGNhbGM6XG5cdFx0XHRuZWdhdGl2ZSA9IG51bWJlciA8IDAgPyBcIi1cIiA6IFwiXCIsXG5cdFx0XHRiYXNlID0gcGFyc2VJbnQodG9GaXhlZChNYXRoLmFicyhudW1iZXIgfHwgMCksIHVzZVByZWNpc2lvbiksIDEwKSArIFwiXCIsXG5cdFx0XHRtb2QgPSBiYXNlLmxlbmd0aCA+IDMgPyBiYXNlLmxlbmd0aCAlIDMgOiAwO1xuXG5cdFx0Ly8gRm9ybWF0IHRoZSBudW1iZXI6XG5cdFx0cmV0dXJuIG5lZ2F0aXZlICsgKG1vZCA/IGJhc2Uuc3Vic3RyKDAsIG1vZCkgKyBvcHRzLnRob3VzYW5kIDogXCJcIikgKyBiYXNlLnN1YnN0cihtb2QpLnJlcGxhY2UoLyhcXGR7M30pKD89XFxkKS9nLCBcIiQxXCIgKyBvcHRzLnRob3VzYW5kKSArICh1c2VQcmVjaXNpb24gPyBvcHRzLmRlY2ltYWwgKyB0b0ZpeGVkKE1hdGguYWJzKG51bWJlciksIHVzZVByZWNpc2lvbikuc3BsaXQoJy4nKVsxXSA6IFwiXCIpO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIEZvcm1hdCBhIG51bWJlciBpbnRvIGN1cnJlbmN5XG5cdCAqXG5cdCAqIFVzYWdlOiBhY2NvdW50aW5nLmZvcm1hdE1vbmV5KG51bWJlciwgc3ltYm9sLCBwcmVjaXNpb24sIHRob3VzYW5kc1NlcCwgZGVjaW1hbFNlcCwgZm9ybWF0KVxuXHQgKiBkZWZhdWx0czogKDAsIFwiJFwiLCAyLCBcIixcIiwgXCIuXCIsIFwiJXMldlwiKVxuXHQgKlxuXHQgKiBMb2NhbGlzZSBieSBvdmVycmlkaW5nIHRoZSBzeW1ib2wsIHByZWNpc2lvbiwgdGhvdXNhbmQgLyBkZWNpbWFsIHNlcGFyYXRvcnMgYW5kIGZvcm1hdFxuXHQgKiBTZWNvbmQgcGFyYW0gY2FuIGJlIGFuIG9iamVjdCBtYXRjaGluZyBgc2V0dGluZ3MuY3VycmVuY3lgIHdoaWNoIGlzIHRoZSBlYXNpZXN0IHdheS5cblx0ICpcblx0ICogVG8gZG86IHRpZHkgdXAgdGhlIHBhcmFtZXRlcnNcblx0ICovXG5cdHZhciBmb3JtYXRNb25leSA9IGxpYi5mb3JtYXRNb25leSA9IGZ1bmN0aW9uKG51bWJlciwgc3ltYm9sLCBwcmVjaXNpb24sIHRob3VzYW5kLCBkZWNpbWFsLCBmb3JtYXQpIHtcblx0XHQvLyBSZXN1cnNpdmVseSBmb3JtYXQgYXJyYXlzOlxuXHRcdGlmIChpc0FycmF5KG51bWJlcikpIHtcblx0XHRcdHJldHVybiBtYXAobnVtYmVyLCBmdW5jdGlvbih2YWwpe1xuXHRcdFx0XHRyZXR1cm4gZm9ybWF0TW9uZXkodmFsLCBzeW1ib2wsIHByZWNpc2lvbiwgdGhvdXNhbmQsIGRlY2ltYWwsIGZvcm1hdCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBDbGVhbiB1cCBudW1iZXI6XG5cdFx0bnVtYmVyID0gdW5mb3JtYXQobnVtYmVyKTtcblxuXHRcdC8vIEJ1aWxkIG9wdGlvbnMgb2JqZWN0IGZyb20gc2Vjb25kIHBhcmFtIChpZiBvYmplY3QpIG9yIGFsbCBwYXJhbXMsIGV4dGVuZGluZyBkZWZhdWx0czpcblx0XHR2YXIgb3B0cyA9IGRlZmF1bHRzKFxuXHRcdFx0XHQoaXNPYmplY3Qoc3ltYm9sKSA/IHN5bWJvbCA6IHtcblx0XHRcdFx0XHRzeW1ib2wgOiBzeW1ib2wsXG5cdFx0XHRcdFx0cHJlY2lzaW9uIDogcHJlY2lzaW9uLFxuXHRcdFx0XHRcdHRob3VzYW5kIDogdGhvdXNhbmQsXG5cdFx0XHRcdFx0ZGVjaW1hbCA6IGRlY2ltYWwsXG5cdFx0XHRcdFx0Zm9ybWF0IDogZm9ybWF0XG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRsaWIuc2V0dGluZ3MuY3VycmVuY3lcblx0XHRcdCksXG5cblx0XHRcdC8vIENoZWNrIGZvcm1hdCAocmV0dXJucyBvYmplY3Qgd2l0aCBwb3MsIG5lZyBhbmQgemVybyk6XG5cdFx0XHRmb3JtYXRzID0gY2hlY2tDdXJyZW5jeUZvcm1hdChvcHRzLmZvcm1hdCksXG5cblx0XHRcdC8vIENob29zZSB3aGljaCBmb3JtYXQgdG8gdXNlIGZvciB0aGlzIHZhbHVlOlxuXHRcdFx0dXNlRm9ybWF0ID0gbnVtYmVyID4gMCA/IGZvcm1hdHMucG9zIDogbnVtYmVyIDwgMCA/IGZvcm1hdHMubmVnIDogZm9ybWF0cy56ZXJvO1xuXG5cdFx0Ly8gUmV0dXJuIHdpdGggY3VycmVuY3kgc3ltYm9sIGFkZGVkOlxuXHRcdHJldHVybiB1c2VGb3JtYXQucmVwbGFjZSgnJXMnLCBvcHRzLnN5bWJvbCkucmVwbGFjZSgnJXYnLCBmb3JtYXROdW1iZXIoTWF0aC5hYnMobnVtYmVyKSwgY2hlY2tQcmVjaXNpb24ob3B0cy5wcmVjaXNpb24pLCBvcHRzLnRob3VzYW5kLCBvcHRzLmRlY2ltYWwpKTtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBGb3JtYXQgYSBsaXN0IG9mIG51bWJlcnMgaW50byBhbiBhY2NvdW50aW5nIGNvbHVtbiwgcGFkZGluZyB3aXRoIHdoaXRlc3BhY2Vcblx0ICogdG8gbGluZSB1cCBjdXJyZW5jeSBzeW1ib2xzLCB0aG91c2FuZCBzZXBhcmF0b3JzIGFuZCBkZWNpbWFscyBwbGFjZXNcblx0ICpcblx0ICogTGlzdCBzaG91bGQgYmUgYW4gYXJyYXkgb2YgbnVtYmVyc1xuXHQgKiBTZWNvbmQgcGFyYW1ldGVyIGNhbiBiZSBhbiBvYmplY3QgY29udGFpbmluZyBrZXlzIHRoYXQgbWF0Y2ggdGhlIHBhcmFtc1xuXHQgKlxuXHQgKiBSZXR1cm5zIGFycmF5IG9mIGFjY291dGluZy1mb3JtYXR0ZWQgbnVtYmVyIHN0cmluZ3Mgb2Ygc2FtZSBsZW5ndGhcblx0ICpcblx0ICogTkI6IGB3aGl0ZS1zcGFjZTpwcmVgIENTUyBydWxlIGlzIHJlcXVpcmVkIG9uIHRoZSBsaXN0IGNvbnRhaW5lciB0byBwcmV2ZW50XG5cdCAqIGJyb3dzZXJzIGZyb20gY29sbGFwc2luZyB0aGUgd2hpdGVzcGFjZSBpbiB0aGUgb3V0cHV0IHN0cmluZ3MuXG5cdCAqL1xuXHRsaWIuZm9ybWF0Q29sdW1uID0gZnVuY3Rpb24obGlzdCwgc3ltYm9sLCBwcmVjaXNpb24sIHRob3VzYW5kLCBkZWNpbWFsLCBmb3JtYXQpIHtcblx0XHRpZiAoIWxpc3QpIHJldHVybiBbXTtcblxuXHRcdC8vIEJ1aWxkIG9wdGlvbnMgb2JqZWN0IGZyb20gc2Vjb25kIHBhcmFtIChpZiBvYmplY3QpIG9yIGFsbCBwYXJhbXMsIGV4dGVuZGluZyBkZWZhdWx0czpcblx0XHR2YXIgb3B0cyA9IGRlZmF1bHRzKFxuXHRcdFx0XHQoaXNPYmplY3Qoc3ltYm9sKSA/IHN5bWJvbCA6IHtcblx0XHRcdFx0XHRzeW1ib2wgOiBzeW1ib2wsXG5cdFx0XHRcdFx0cHJlY2lzaW9uIDogcHJlY2lzaW9uLFxuXHRcdFx0XHRcdHRob3VzYW5kIDogdGhvdXNhbmQsXG5cdFx0XHRcdFx0ZGVjaW1hbCA6IGRlY2ltYWwsXG5cdFx0XHRcdFx0Zm9ybWF0IDogZm9ybWF0XG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRsaWIuc2V0dGluZ3MuY3VycmVuY3lcblx0XHRcdCksXG5cblx0XHRcdC8vIENoZWNrIGZvcm1hdCAocmV0dXJucyBvYmplY3Qgd2l0aCBwb3MsIG5lZyBhbmQgemVybyksIG9ubHkgbmVlZCBwb3MgZm9yIG5vdzpcblx0XHRcdGZvcm1hdHMgPSBjaGVja0N1cnJlbmN5Rm9ybWF0KG9wdHMuZm9ybWF0KSxcblxuXHRcdFx0Ly8gV2hldGhlciB0byBwYWQgYXQgc3RhcnQgb2Ygc3RyaW5nIG9yIGFmdGVyIGN1cnJlbmN5IHN5bWJvbDpcblx0XHRcdHBhZEFmdGVyU3ltYm9sID0gZm9ybWF0cy5wb3MuaW5kZXhPZihcIiVzXCIpIDwgZm9ybWF0cy5wb3MuaW5kZXhPZihcIiV2XCIpID8gdHJ1ZSA6IGZhbHNlLFxuXG5cdFx0XHQvLyBTdG9yZSB2YWx1ZSBmb3IgdGhlIGxlbmd0aCBvZiB0aGUgbG9uZ2VzdCBzdHJpbmcgaW4gdGhlIGNvbHVtbjpcblx0XHRcdG1heExlbmd0aCA9IDAsXG5cblx0XHRcdC8vIEZvcm1hdCB0aGUgbGlzdCBhY2NvcmRpbmcgdG8gb3B0aW9ucywgc3RvcmUgdGhlIGxlbmd0aCBvZiB0aGUgbG9uZ2VzdCBzdHJpbmc6XG5cdFx0XHRmb3JtYXR0ZWQgPSBtYXAobGlzdCwgZnVuY3Rpb24odmFsLCBpKSB7XG5cdFx0XHRcdGlmIChpc0FycmF5KHZhbCkpIHtcblx0XHRcdFx0XHQvLyBSZWN1cnNpdmVseSBmb3JtYXQgY29sdW1ucyBpZiBsaXN0IGlzIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXk6XG5cdFx0XHRcdFx0cmV0dXJuIGxpYi5mb3JtYXRDb2x1bW4odmFsLCBvcHRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBDbGVhbiB1cCB0aGUgdmFsdWVcblx0XHRcdFx0XHR2YWwgPSB1bmZvcm1hdCh2YWwpO1xuXG5cdFx0XHRcdFx0Ly8gQ2hvb3NlIHdoaWNoIGZvcm1hdCB0byB1c2UgZm9yIHRoaXMgdmFsdWUgKHBvcywgbmVnIG9yIHplcm8pOlxuXHRcdFx0XHRcdHZhciB1c2VGb3JtYXQgPSB2YWwgPiAwID8gZm9ybWF0cy5wb3MgOiB2YWwgPCAwID8gZm9ybWF0cy5uZWcgOiBmb3JtYXRzLnplcm8sXG5cblx0XHRcdFx0XHRcdC8vIEZvcm1hdCB0aGlzIHZhbHVlLCBwdXNoIGludG8gZm9ybWF0dGVkIGxpc3QgYW5kIHNhdmUgdGhlIGxlbmd0aDpcblx0XHRcdFx0XHRcdGZWYWwgPSB1c2VGb3JtYXQucmVwbGFjZSgnJXMnLCBvcHRzLnN5bWJvbCkucmVwbGFjZSgnJXYnLCBmb3JtYXROdW1iZXIoTWF0aC5hYnModmFsKSwgY2hlY2tQcmVjaXNpb24ob3B0cy5wcmVjaXNpb24pLCBvcHRzLnRob3VzYW5kLCBvcHRzLmRlY2ltYWwpKTtcblxuXHRcdFx0XHRcdGlmIChmVmFsLmxlbmd0aCA+IG1heExlbmd0aCkgbWF4TGVuZ3RoID0gZlZhbC5sZW5ndGg7XG5cdFx0XHRcdFx0cmV0dXJuIGZWYWw7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0Ly8gUGFkIGVhY2ggbnVtYmVyIGluIHRoZSBsaXN0IGFuZCBzZW5kIGJhY2sgdGhlIGNvbHVtbiBvZiBudW1iZXJzOlxuXHRcdHJldHVybiBtYXAoZm9ybWF0dGVkLCBmdW5jdGlvbih2YWwsIGkpIHtcblx0XHRcdC8vIE9ubHkgaWYgdGhpcyBpcyBhIHN0cmluZyAobm90IGEgbmVzdGVkIGFycmF5LCB3aGljaCB3b3VsZCBoYXZlIGFscmVhZHkgYmVlbiBwYWRkZWQpOlxuXHRcdFx0aWYgKGlzU3RyaW5nKHZhbCkgJiYgdmFsLmxlbmd0aCA8IG1heExlbmd0aCkge1xuXHRcdFx0XHQvLyBEZXBlbmRpbmcgb24gc3ltYm9sIHBvc2l0aW9uLCBwYWQgYWZ0ZXIgc3ltYm9sIG9yIGF0IGluZGV4IDA6XG5cdFx0XHRcdHJldHVybiBwYWRBZnRlclN5bWJvbCA/IHZhbC5yZXBsYWNlKG9wdHMuc3ltYm9sLCBvcHRzLnN5bWJvbCsobmV3IEFycmF5KG1heExlbmd0aCAtIHZhbC5sZW5ndGggKyAxKS5qb2luKFwiIFwiKSkpIDogKG5ldyBBcnJheShtYXhMZW5ndGggLSB2YWwubGVuZ3RoICsgMSkuam9pbihcIiBcIikpICsgdmFsO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9KTtcblx0fTtcblxuXG5cdC8qIC0tLSBNb2R1bGUgRGVmaW5pdGlvbiAtLS0gKi9cblxuXHQvLyBFeHBvcnQgYWNjb3VudGluZyBmb3IgQ29tbW9uSlMuIElmIGJlaW5nIGxvYWRlZCBhcyBhbiBBTUQgbW9kdWxlLCBkZWZpbmUgaXQgYXMgc3VjaC5cblx0Ly8gT3RoZXJ3aXNlLCBqdXN0IGFkZCBgYWNjb3VudGluZ2AgdG8gdGhlIGdsb2JhbCBvYmplY3Rcblx0aWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuXHRcdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdFx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gbGliO1xuXHRcdH1cblx0XHRleHBvcnRzLmFjY291bnRpbmcgPSBsaWI7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gUmV0dXJuIHRoZSBsaWJyYXJ5IGFzIGFuIEFNRCBtb2R1bGU6XG5cdFx0ZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBsaWI7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gVXNlIGFjY291bnRpbmcubm9Db25mbGljdCB0byByZXN0b3JlIGBhY2NvdW50aW5nYCBiYWNrIHRvIGl0cyBvcmlnaW5hbCB2YWx1ZS5cblx0XHQvLyBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBsaWJyYXJ5J3MgYGFjY291bnRpbmdgIG9iamVjdDtcblx0XHQvLyBlLmcuIGB2YXIgbnVtYmVycyA9IGFjY291bnRpbmcubm9Db25mbGljdCgpO2Bcblx0XHRsaWIubm9Db25mbGljdCA9IChmdW5jdGlvbihvbGRBY2NvdW50aW5nKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIFJlc2V0IHRoZSB2YWx1ZSBvZiB0aGUgcm9vdCdzIGBhY2NvdW50aW5nYCB2YXJpYWJsZTpcblx0XHRcdFx0cm9vdC5hY2NvdW50aW5nID0gb2xkQWNjb3VudGluZztcblx0XHRcdFx0Ly8gRGVsZXRlIHRoZSBub0NvbmZsaWN0IG1ldGhvZDpcblx0XHRcdFx0bGliLm5vQ29uZmxpY3QgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdC8vIFJldHVybiByZWZlcmVuY2UgdG8gdGhlIGxpYnJhcnkgdG8gcmUtYXNzaWduIGl0OlxuXHRcdFx0XHRyZXR1cm4gbGliO1xuXHRcdFx0fTtcblx0XHR9KShyb290LmFjY291bnRpbmcpO1xuXG5cdFx0Ly8gRGVjbGFyZSBgZnhgIG9uIHRoZSByb290IChnbG9iYWwvd2luZG93KSBvYmplY3Q6XG5cdFx0cm9vdFsnYWNjb3VudGluZyddID0gbGliO1xuXHR9XG5cblx0Ly8gUm9vdCB3aWxsIGJlIGB3aW5kb3dgIGluIGJyb3dzZXIgb3IgYGdsb2JhbGAgb24gdGhlIHNlcnZlcjpcbn0odGhpcykpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi92ZW5kb3IvYWNjb3VudGluZy5qcy9hY2NvdW50aW5nLmpzXG4vLyBtb2R1bGUgaWQgPSA3MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSA2IDcgMTAiLCJtb2R1bGUuZXhwb3J0cz17XCJ2XCI6MyxcInRcIjpbe1widFwiOjcsXCJlXCI6XCJzdHlsZVwiLFwiZlwiOltcIiNhcHAgPiAud3JhcHBlciA+IC5jb250ZW50IHsgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsgfVwiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY29udGVudFwifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiaWRcIjpcImJvb2tpbmdcIn0sXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBzZWdtZW50IGNlbnRlciBhbGlnbmVkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImgxXCIsXCJmXCI6W3tcInRcIjoyLFwiclwiOlwiYm9va2luZy5lcnJvclwifV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiYVwiLFwidlwiOntcImNsaWNrXCI6e1wibVwiOlwiYmFjazJcIixcImFcIjp7XCJyXCI6W10sXCJzXCI6XCJbXVwifX19LFwiYVwiOntcImNsYXNzXCI6XCJ1aSBidXR0b25cIn0sXCJmXCI6W1wiR28gQmFjayB0byBTZWFyY2ggUmVzdWx0c1wiXX1dfV0sXCJuXCI6NTAsXCJyXCI6XCJib29raW5nLmVycm9yXCJ9LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBzZWdtZW50XCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImgxXCIsXCJmXCI6W1wiVGhlIHNpbXBsZXN0IHdheSB0byBib29rICFcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiYVwiLFwidlwiOntcImNsaWNrXCI6e1wibVwiOlwiYmFja1wiLFwiYVwiOntcInJcIjpbXSxcInNcIjpcIltdXCJ9fX0sXCJhXCI6e1wiY2xhc3NcIjpcInVpIGJ1dHRvbiBtaWRkbGUgZ3JheSBiYWNrXCJ9LFwiZlwiOltcIkdvIEJhY2tcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImN1cnJlbmN5V3JhcFwifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImN1cnRlcm1cIixcInN0eWxlXCI6W1wiZGlzcGxheTpcIix7XCJ0XCI6NCxcImZcIjpbXCJub25lXCJdLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJtZXRhLmRpc3BsYXlfY3VycmVuY3lcIl0sXCJzXCI6XCJfMD09XFxcIklOUlxcXCJcIn19LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOltcImJsb2NrXCJdLFwieFwiOntcInJcIjpbXCJtZXRhLmRpc3BsYXlfY3VycmVuY3lcIl0sXCJzXCI6XCJfMD09XFxcIklOUlxcXCJcIn19XX0sXCJmXCI6W1wiQ3VycmVuY3kgQW1vdW50IGFyZSBJbmRpY2F0aXZlIEVxdWl2YWxlbnQgdG8gSU5SXCJdfV0sXCJuXCI6NTAsXCJyXCI6XCJtZXRhLmRpc3BsYXlfY3VycmVuY3lcIn0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJmXCI6W1wiQ3VycmVuY3k6XCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInNlbGVjdFwiLFwiYVwiOntcImNsYXNzXCI6XCJtZW51IHRyYW5zaXRpb25cIixcInN0eWxlXCI6XCJ6LWluZGV4OiAxMDEwO1wiLFwiaWRcIjpcImN1cnJlbmN5MVwifSxcInZcIjp7XCJjaGFuZ2VcIjp7XCJtXCI6XCJzZXRDdXJyZW5jeUJvb2tpbmdcIixcImFcIjp7XCJyXCI6W10sXCJzXCI6XCJbXVwifX19LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcIm9wdGlvblwiLFwiYVwiOntcInZhbHVlXCI6XCJJTlJcIn0sXCJtXCI6W3tcInRcIjo0LFwiZlwiOltcInNlbGVjdGVkXCJdLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJib29raW5nLmN1cnJlbmN5XCJdLFwic1wiOlwiXzA9PVxcXCJJTlJcXFwiXCJ9fV0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiaVwiLFwiYVwiOntcImNsYXNzXCI6XCJpbnIgaWNvbiBjdXJyZW5jeVwifX0sXCIgUnVwZWVcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwib3B0aW9uXCIsXCJhXCI6e1widmFsdWVcIjpcIlVTRFwifSxcIm1cIjpbe1widFwiOjQsXCJmXCI6W1wic2VsZWN0ZWRcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMD09XFxcIlVTRFxcXCJcIn19XSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJpXCIsXCJhXCI6e1wiY2xhc3NcIjpcInVzZCBpY29uIGN1cnJlbmN5XCJ9fSxcIiBVUyBEb2xsYXJcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwib3B0aW9uXCIsXCJhXCI6e1widmFsdWVcIjpcIkVVUlwifSxcIm1cIjpbe1widFwiOjQsXCJmXCI6W1wic2VsZWN0ZWRcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMD09XFxcIkVVUlxcXCJcIn19XSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJpXCIsXCJhXCI6e1wiY2xhc3NcIjpcImV1ciBpY29uIGN1cnJlbmN5XCJ9fSxcIiBFdXJvXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcIm9wdGlvblwiLFwiYVwiOntcInZhbHVlXCI6XCJHQlBcIn0sXCJtXCI6W3tcInRcIjo0LFwiZlwiOltcInNlbGVjdGVkXCJdLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJib29raW5nLmN1cnJlbmN5XCJdLFwic1wiOlwiXzA9PVxcXCJHQlBcXFwiXCJ9fV0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiaVwiLFwiYVwiOntcImNsYXNzXCI6XCJnYnAgaWNvbiBjdXJyZW5jeVwifX0sXCIgVUsgUG91bmRcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwib3B0aW9uXCIsXCJhXCI6e1widmFsdWVcIjpcIkFVRFwifSxcIm1cIjpbe1widFwiOjQsXCJmXCI6W1wic2VsZWN0ZWRcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMD09XFxcIkFVRFxcXCJcIn19XSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJpXCIsXCJhXCI6e1wiY2xhc3NcIjpcInVzZCBpY29uIGN1cnJlbmN5XCJ9fSxcIiBBdXN0cmFsaWFuIERvbGxhclwiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJvcHRpb25cIixcImFcIjp7XCJ2YWx1ZVwiOlwiSlBZXCJ9LFwibVwiOlt7XCJ0XCI6NCxcImZcIjpbXCJzZWxlY3RlZFwiXSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYm9va2luZy5jdXJyZW5jeVwiXSxcInNcIjpcIl8wPT1cXFwiSlBZXFxcIlwifX1dLFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImlcIixcImFcIjp7XCJjbGFzc1wiOlwianB5IGljb24gY3VycmVuY3lcIn19LFwiIEphcGFuZXNlIFllblwiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJvcHRpb25cIixcImFcIjp7XCJ2YWx1ZVwiOlwiUlVCXCJ9LFwibVwiOlt7XCJ0XCI6NCxcImZcIjpbXCJzZWxlY3RlZFwiXSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYm9va2luZy5jdXJyZW5jeVwiXSxcInNcIjpcIl8wPT1cXFwiUlVCXFxcIlwifX1dLFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImlcIixcImFcIjp7XCJjbGFzc1wiOlwicnViIGljb24gY3VycmVuY3lcIn19LFwiIFJ1c3NpYW4gUnVibGVcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwib3B0aW9uXCIsXCJhXCI6e1widmFsdWVcIjpcIkFFRFwifSxcIm1cIjpbe1widFwiOjQsXCJmXCI6W1wic2VsZWN0ZWRcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMD09XFxcIkFFRFxcXCJcIn19XSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJpXCIsXCJhXCI6e1wiY2xhc3NcIjpcImFlZCBpY29uIGN1cnJlbmN5XCJ9fSxcIiBEaXJoYW1cIl19XX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjbGVhclwifX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJzdGVwMVwiLFwiYVwiOntcImJvb2tpbmdcIjpbe1widFwiOjIsXCJyXCI6XCJib29raW5nXCJ9XSxcIm1ldGFcIjpbe1widFwiOjIsXCJyXCI6XCJtZXRhXCJ9XX19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwic3RlcDJcIixcImFcIjp7XCJib29raW5nXCI6W3tcInRcIjoyLFwiclwiOlwiYm9va2luZ1wifV0sXCJtZXRhXCI6W3tcInRcIjoyLFwiclwiOlwibWV0YVwifV19fSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInN0ZXAzXCIsXCJhXCI6e1wiYm9va2luZ1wiOlt7XCJ0XCI6MixcInJcIjpcImJvb2tpbmdcIn1dLFwibWV0YVwiOlt7XCJ0XCI6MixcInJcIjpcIm1ldGFcIn1dfX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJzdGVwNFwiLFwiYVwiOntcImJvb2tpbmdcIjpbe1widFwiOjIsXCJyXCI6XCJib29raW5nXCJ9XSxcIm1ldGFcIjpbe1widFwiOjIsXCJyXCI6XCJtZXRhXCJ9XX19XX1dLFwiclwiOlwiYm9va2luZy5lcnJvclwifV19XSxcIm5cIjo1MCxcInJcIjpcImJvb2tpbmdcIn0se1widFwiOjQsXCJuXCI6NTEsXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImlkXCI6XCJib29raW5nXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBzZWdtZW50XCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImgxXCIsXCJmXCI6W1wiQm9va2luZyBub3QgZm91bmQhXCJdfV19XX1dLFwiblwiOjUwLFwiclwiOlwiZXJyb3JcIn0se1widFwiOjQsXCJuXCI6NTEsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInBheW1lbnRfbG9hZGVyXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBhY3RpdmUgaW52ZXJ0ZWQgZGltbWVyXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ3YWl0X3RleHRcIn0sXCJmXCI6W1wiUGxlYXNlIFdhaXRcIl19LHtcInRcIjo3LFwiZVwiOlwiYnJcIn0se1widFwiOjcsXCJlXCI6XCJiclwifSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSB0ZXh0IGxvYWRlciBsb2FkZXJfcG9zaXRpb25cIn19XX1dfV0sXCJyXCI6XCJlcnJvclwifV0sXCJyXCI6XCJib29raW5nXCJ9XX1dfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2FwcC93ZWIvbW9kdWxlL3RlbXBsYXRlcy9mbGlnaHRzL2Jvb2tpbmcvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gNzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJylcbiAgICAgICAgO1xuXG52YXIgRm9ybSA9IHJlcXVpcmUoJ2NvcmUvZm9ybScpLFxuICAgICAgICBBdXRoID0gcmVxdWlyZSgnY29tcG9uZW50cy9hcHAvYXV0aCcpXG4gICAgICAgIDtcblxudmFyIGhfbW9uZXkgPSByZXF1aXJlKCdoZWxwZXJzL21vbmV5JyksXG4gICAgICAgIGhfZHVyYXRpb24gPSByZXF1aXJlKCdoZWxwZXJzL2R1cmF0aW9uJykoKVxuICAgICAgICA7XG5cbm1vZHVsZS5leHBvcnRzID0gRm9ybS5leHRlbmQoe1xuICAgIGlzb2xhdGVkOiB0cnVlLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd0ZW1wbGF0ZXMvZmxpZ2h0cy9ib29raW5nL3N0ZXAxLmh0bWwnKSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIGl0aW5lcmFyeTogcmVxdWlyZSgnLi4vaXRpbmVyYXJ5JyksXG4gICAgICAgICd1aS1jb2RlJzogcmVxdWlyZSgnY29yZS9mb3JtL2NvZGUnKSxcbiAgICAgICAgJ3VpLWVtYWlsJzogcmVxdWlyZSgnY29yZS9mb3JtL2VtYWlsJylcbiAgICB9LFxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb21vY29kZTogbnVsbCxcbiAgICAgICAgICAgIHByb21vdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBwcm9tb2Vycm9yOiBudWxsLFxuICAgICAgICAgICAgbW9uZXk6IGhfbW9uZXksXG4gICAgICAgICAgICBkdXJhdGlvbjogaF9kdXJhdGlvbixcbiAgICAgICAgICAgIHNlZ19sZW5ndGg6IGZ1bmN0aW9uIChmbGlnaHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSAwO1xuICAgICAgICAgICAgICAgIF8uZWFjaChmbGlnaHRzLCBmdW5jdGlvbiAoZmxpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGMgKz0gZmxpZ2h0LmdldCgnc2VnbWVudHMnKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgb25jb25maWc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlKCdib29raW5nLnN0ZXBzLjEuYWN0aXZlJywgZnVuY3Rpb24gKGFjdGl2ZSkge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0KCdib29raW5nJykuc2V0Q3VycmVudFN0ZXBGb3JNb2JpbGUoMCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmdldCgnYm9va2luZy5wcm9tb19jb2RlJykgIT09IFwidW5kZWZpbmVkXCIpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldCgncHJvbW9jb2RlJywgdGhpcy5nZXQoJ2Jvb2tpbmcucHJvbW9fY29kZScpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoJ3Byb21vdmFsdWUnLCB0aGlzLmdldCgnYm9va2luZy5wcm9tb192YWx1ZScpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoJ3Byb21vdG5jdXJsJywgdGhpcy5nZXQoJ2Jvb2tpbmcucHJvbW90bmN1cmwnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjdXIgPSB0aGlzLmdldCgnYm9va2luZy5jdXJyZW5jeScpO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coY3VyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnbWV0YS5kaXNwbGF5X2N1cnJlbmN5JywgY3VyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCdtZXRhJyk7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyggdGhpcy5nZXQoJ21ldGEnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgb25jb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMuZmluZCgnLnByaWNlJykpXG4gICAgICAgICAgICAgICAgLnBvcHVwKHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20gcmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICBwb3B1cDogJCh0aGlzLmZpbmQoJy5mYXJlLnBvcHVwJykpLFxuICAgICAgICAgICAgICAgICAgICBvbjogJ2hvdmVyJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgIH0sXG4gICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5nZXQoJ2Jvb2tpbmcuaWQnKSk7XG4gICAgICAgIC8vICQodGhpcy5maW5kKCdmb3JtJykpLmFqYXhTdWJtaXQoe3VybDogJ2Fib3V0OmJsYW5rJywgbWV0aG9kOiAnUE9TVCcsIGlmcmFtZTogdHJ1ZX0pO1xuICAgICAgICB0aGlzLmdldCgnYm9va2luZycpLnN0ZXAxKHRoaXMpO1xuXG4gICAgICAgIGlmIChNT0JJTEUgJiYgd2luZG93LmxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdib29raW5nX2VtYWlsJywgdGhpcy5nZXQoJ2Jvb2tpbmcudXNlci5lbWFpbCcpKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYm9va2luZ19jb3VudHJ5JywgdGhpcy5nZXQoJ2Jvb2tpbmcudXNlci5jb3VudHJ5JykpO1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdib29raW5nX21vYmlsZScsIHRoaXMuZ2V0KCdib29raW5nLnVzZXIubW9iaWxlJykpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBiYWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmJhY2soKTtcbiAgICB9LFxuICAgIGFjdGl2YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5nZXQoJ2Jvb2tpbmcucGF5bWVudC5wYXltZW50X2lkJykpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0KCdib29raW5nJykuYWN0aXZhdGUoMSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNpZ25pbjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXM7XG5cbiAgICAgICAgQXV0aC5sb2dpbigpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ21ldGEudXNlcicsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgnYm9va2luZy51c2VyJywge2lkOiBkYXRhLmlkLCBlbWFpbDogZGF0YS5lbWFpbCwgbW9iaWxlOiBkYXRhLm1vYmlsZSwgY291bnRyeTogZGF0YS5jb3VudHJ5LCBsb2dnZWRfaW46IHRydWV9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFwcGx5UHJvbW9Db2RlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFxuICAgICAgICB2YXIgcHJvbW9jb2RlID0gdGhpcy5nZXQoJ3Byb21vY29kZScpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zZXQoJ3Byb21vZXJyb3InLCBudWxsKTtcbiAgICAgICAgaWYgKHByb21vY29kZSAhPT0gbnVsbCAmJiBwcm9tb2NvZGUgIT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLnNldCgncHJvbW9jb2RlJywgcHJvbW9jb2RlLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICAgICAgcHJvbW9jb2RlID0gdGhpcy5nZXQoJ3Byb21vY29kZScpO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7aWQ6IHRoaXMuZ2V0KCdib29raW5nLmlkJyksIHByb21vOiBwcm9tb2NvZGV9O1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYy9ib29raW5nL2NoZWNrUHJvbW9Db2RlJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ2Vycm9yJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ3Byb21vZXJyb3InLCBkYXRhLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgncHJvbW92YWx1ZScsIGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Jvb2tpbmcucHJvbW9fdmFsdWUnLCBkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdib29raW5nLnByb21vX2NvZGUnLCBkYXRhLmNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ3Byb21vdG5jdXJsJywgZGF0YS5wcm9tb190bmNfdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIpIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICB0aGlzLnNldCgncHJvbW9lcnJvcicsICBcIiBZb3UgaGF2ZW4ndCBlbnRlcmVkIGEgY291cG9uIGNvZGUhXCIpO1xuICAgICAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlUHJvbW9Db2RlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vICAgY29uc29sZS5sb2coJ3JlbW92ZVByb21vQ29kZScpO1xuICAgICAgICB0aGlzLnNldCgncHJvbW9lcnJvcicsIG51bGwpO1xuICAgICAgICB0aGlzLnNldCgncHJvbW9jb2RlJywgbnVsbCk7XG4gICAgICAgIHRoaXMuc2V0KCdwcm9tb3ZhbHVlJywgbnVsbCk7XG4gICAgICAgIHRoaXMuc2V0KCdwcm9tb3RuY3VybCcsIG51bGwpO1xuXG4gICAgICAgIHZhciB2aWV3ID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSB7aWQ6IHRoaXMuZ2V0KCdib29raW5nLmlkJyl9O1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdGltZW91dDogMTAwMDAsXG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmw6ICcvYjJjL2Jvb2tpbmcvcmVtb3ZlUHJvbW9Db2RlJyxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Jvb2tpbmcucHJvbW9fdmFsdWUnLCBudWxsKTtcbiAgICAgICAgICAgICAgICB2aWV3LnNldCgnYm9va2luZy5wcm9tb19jb2RlJywgbnVsbCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHJlbW92ZUVycm9yTXNnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0KCdwcm9tb2Vycm9yJywgbnVsbCk7XG4gICAgfSxcbiAgICBhcHBseVByb21vOiBmdW5jdGlvbiAoKXtcbiAgICAgICAgXG4gICAgdmFyIHByb21vY29kZSA9IHRoaXMuZ2V0KCdwcm9tb2NvZGUnKTtcbiAgICAgICAgaWYgKHByb21vY29kZSAhPT0gbnVsbCAmJiBwcm9tb2NvZGUgIT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLnNldCgncHJvbW9jb2RlJywgcHJvbW9jb2RlLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICAgICAgcHJvbW9jb2RlID0gdGhpcy5nZXQoJ3Byb21vY29kZScpO1xuXG4gICAgICAgICAgICB0aGlzLnNldCgncHJvbW9lcnJvcicsIG51bGwpO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7aWQ6IHRoaXMuZ2V0KCdib29raW5nLmlkJyksIHByb21vOiBwcm9tb2NvZGV9O1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYy9ib29raW5nL2NoZWNrUHJvbW9Db2RlJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ2Vycm9yJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ3Byb21vZXJyb3InLCBkYXRhLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgncHJvbW92YWx1ZScsIGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Jvb2tpbmcucHJvbW9fdmFsdWUnLCBkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdib29raW5nLnByb21vX2NvZGUnLCBkYXRhLmNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ3Byb21vdG5jdXJsJywgZGF0YS5wcm9tb190bmNfdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIpIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICBcbiAgICB9XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbXBvbmVudHMvZmxpZ2h0cy9ib29raW5nL3N0ZXAxLmpzXG4vLyBtb2R1bGUgaWQgPSA3OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSIsIid1c2Ugc3RyaWN0JztcblxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKSxcbiAgICBRID0gcmVxdWlyZSgncScpXG4gICAgO1xuXG52YXIgRm9ybSA9IHJlcXVpcmUoJ2NvcmUvZm9ybScpXG4gICAgO1xuXG52YXIgQXV0aCA9IEZvcm0uZXh0ZW5kKHtcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgndGVtcGxhdGVzL2FwcC9hdXRoLmh0bWwnKSxcblxuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0aW9uOiAnbG9naW4nLFxuICAgICAgICAgICAgc3VibWl0dGluZzogZmFsc2UsXG4gICAgICAgICAgICBmb3Jnb3R0ZW5wYXNzOiBmYWxzZSxcblxuICAgICAgICAgICAgdXNlcjoge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25jb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmdldCgncG9wdXAnKSkge1xuICAgICAgICAgICAgJCh0aGlzLmZpbmQoJy51aS5tb2RhbCcpKS5tb2RhbCgnc2hvdycpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHN1Ym1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcztcblxuICAgICAgICB0aGlzLnNldCgnZXJyb3JNc2cnLCBudWxsKTtcbiAgICAgICAgdGhpcy5zZXQoJ2Vycm9yJywgbnVsbCk7XG4gICAgICAgIHRoaXMuc2V0KCdzdWJtaXR0aW5nJywgdHJ1ZSk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmw6ICcvYjJjL2F1dGgvJyArIHRoaXMuZ2V0KCdhY3Rpb24nKSxcbiAgICAgICAgICAgIGRhdGE6IHsgdXNlcm5hbWU6IHRoaXMuZ2V0KCd1c2VyLmxvZ2luJyksIHBhc3N3b3JkOiB0aGlzLmdldCgndXNlci5wYXNzd29yZCcpIH0sXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdzdWJtaXR0aW5nJywgZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkKHZpZXcuZmluZCgnLnVpLm1vZGFsJykpLm1vZGFsKCdoaWRlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodmlldy5kZWZlcnJlZCkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcblx0XHRcdFx0XHRpZihyZXNwb25zZS5lcnJvcnNbJ3VzZXJuYW1lJ11bMF09PVwiWW91IGFyZSBhbHJlYWR5IG91ciBCMkIgdXNlci5cIikge1xuXHRcdFx0XHRcdFx0JChcIiNCMkJVc2VyUG9wdXBcIikuaGlkZSgpO1xuXHRcdFx0XHRcdFx0JChcIi5sb2dpbiAuaGVhZGVyXCIpLmh0bWwoJ0IyQiBVc2VyIExvZ2luJyk7XG5cdFx0XHRcdFx0XHR2aWV3LnNldCgnQjJCVXNlckxvZ2luUG9wdXBNZXNzYWdlJyx0cnVlKTtcblx0XHRcdFx0XHR9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Vycm9ycycsIHJlc3BvbnNlLmVycm9ycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdlcnJvcnMnLCBbJ1NlcnZlciByZXR1cm5lZCBlcnJvci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlciddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh2aWV3LmdldCgncG9wdXAnKT09bnVsbCAmJiBkYXRhICYmIGRhdGEuaWQpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYjJjL2FpckNhcnQvbXlib29raW5ncyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZXNldFBhc3N3b3JkOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5zZXQoJ2Vycm9ycycsIG51bGwpO1xuICAgICAgICB0aGlzLnNldCgnc3VibWl0dGluZycsIHRydWUpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmw6ICcvYjJjL2F1dGgvZm9yZ290dGVucGFzcycsXG4gICAgICAgICAgICBkYXRhOiB7IGVtYWlsOiB0aGlzLmdldCgndXNlci5sb2dpbicpIH0sXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdzdWJtaXR0aW5nJywgZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2aWV3LnNldCgncmVzZXRzdWNjZXNzJywgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Vycm9ycycsIHJlc3BvbnNlLmVycm9ycyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Vycm9ycycsIFtyZXNwb25zZS5tZXNzYWdlXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdlcnJvcnMnLCBbJ1NlcnZlciByZXR1cm5lZCBlcnJvci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlciddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBzaWdudXA6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcztcblxuICAgICAgICB0aGlzLnNldCgnZXJyb3JzJywgbnVsbCk7XG4gICAgICAgIHRoaXMuc2V0KCdzdWJtaXR0aW5nJywgdHJ1ZSk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmw6ICcvYjJjL2F1dGgvc2lnbnVwJyxcbiAgICAgICAgICAgIGRhdGE6IF8ucGljayh0aGlzLmdldCgndXNlcicpLCBbJ2VtYWlsJywnbmFtZScsICdtb2JpbGUnLCAncGFzc3dvcmQnLCAncGFzc3dvcmQyJ10pLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2aWV3LnNldCgnc3VibWl0dGluZycsIGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmlldy5zZXQoJ3NpZ251cHN1Y2Nlc3MnLCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgnZXJyb3JzJywgcmVzcG9uc2UuZXJyb3JzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgnZXJyb3JzJywgW3Jlc3BvbnNlLm1lc3NhZ2VdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Vycm9ycycsIFsnU2VydmVyIHJldHVybmVkIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyJ10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cblxuQXV0aC5sb2dpbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhdXRoID0gbmV3IEF1dGgoKTtcblxuICAgIGF1dGguc2V0KCdwb3B1cCcsIHRydWUpO1xuICAgIGF1dGguZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG4gICAgYXV0aC5yZW5kZXIoJyNwb3B1cC1jb250YWluZXInKTtcblxuICAgIHJldHVybiBhdXRoLmRlZmVycmVkLnByb21pc2U7XG59O1xuXG5BdXRoLnNpZ251cCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhdXRoID0gbmV3IEF1dGgoKTtcblxuICAgIGF1dGguc2V0KCdwb3B1cCcsIHRydWUpO1xuICAgIGF1dGguc2V0KCdzaWdudXAnLCB0cnVlKTtcbiAgICBhdXRoLmRlZmVycmVkID0gUS5kZWZlcigpO1xuICAgIGF1dGgucmVuZGVyKCcjcG9wdXAtY29udGFpbmVyJyk7XG5cbiAgICByZXR1cm4gYXV0aC5kZWZlcnJlZC5wcm9taXNlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBBdXRoO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tcG9uZW50cy9hcHAvYXV0aC5qc1xuLy8gbW9kdWxlIGlkID0gODBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMyA0IDUgNiA3IDEwIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBwYWRkeShuLCBwLCBjKSB7XG4gICAgdmFyIHBhZF9jaGFyID0gdHlwZW9mIGMgIT09ICd1bmRlZmluZWQnID8gYyA6ICcwJztcbiAgICB2YXIgcGFkID0gbmV3IEFycmF5KDEgKyBwKS5qb2luKHBhZF9jaGFyKTtcbiAgICByZXR1cm4gKHBhZCArIG4pLnNsaWNlKC1wYWQubGVuZ3RoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uKGR1cmF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoIWR1cmF0aW9uKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIGkgPSBkdXJhdGlvbi5hc01pbnV0ZXMoKSxcbiAgICAgICAgICAgICAgICBob3VycyA9IE1hdGguZmxvb3IoaS82MCksXG4gICAgICAgICAgICAgICAgbWludXRlcyA9IGkgJSA2MFxuICAgICAgICAgICAgICAgIDtcblxuICAgICAgICAgICAgcmV0dXJuIHBhZGR5KGhvdXJzLCAyKSArICdoICcgKyBwYWRkeShtaW51dGVzLCAyKSArICdtJztcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvaGVscGVycy9kdXJhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gODFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUgMTAiLCJtb2R1bGUuZXhwb3J0cz17XCJ2XCI6MyxcInRcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpbXCJzdGVwIGhlYWRlciBzdGVwMSBcIix7XCJ0XCI6NCxcImZcIjpbXCJhY3RpdmVcIl0sXCJuXCI6NTAsXCJyXCI6XCJzdGVwLmFjdGl2ZVwifSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjQsXCJmXCI6W1wiY29tcGxldGVkXCJdLFwiblwiOjUwLFwiclwiOlwic3RlcC5jb21wbGV0ZWRcIn1dLFwiclwiOlwic3RlcC5hY3RpdmVcIn1dLFwicm9sZVwiOlwidGFiXCJ9LFwiZlwiOltcIkl0aW5lcmFyeVwiXX0sXCIgXCIse1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidGFibGVcIixcImFcIjp7XCJjbGFzc1wiOlwic3RlcDEtc3VtbWFyeSBzZWdtZW50XCJ9LFwidlwiOntcImNsaWNrXCI6e1wibVwiOlwiYWN0aXZhdGVcIixcImFcIjp7XCJyXCI6W10sXCJzXCI6XCJbMV1cIn19fSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInRyXCIsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidGRcIixcImFcIjp7XCJjbGFzc1wiOlwibG9nb1wifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJpbWdcIixcImFcIjp7XCJzcmNcIjpbe1widFwiOjIsXCJ4XCI6e1wiclwiOltcImZpcnN0XCIsXCIuXCJdLFwic1wiOlwiXzAoXzEpLmNhcnJpZXIubG9nb1wifX1dLFwiYWx0XCI6XCJcIn19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJ0ZFwiLFwiYVwiOntcImNsYXNzXCI6XCJjYXJyaWVyXCJ9LFwiZlwiOlt7XCJ0XCI6MixcInhcIjp7XCJyXCI6W1wiZmlyc3RcIixcIi5cIl0sXCJzXCI6XCJfMChfMSkuY2Fycmllci5uYW1lXCJ9fSx7XCJ0XCI6NyxcImVcIjpcImJyXCJ9LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJzbWFsbFwifSxcImZcIjpbe1widFwiOjIsXCJ4XCI6e1wiclwiOltcImZpcnN0XCIsXCIuXCJdLFwic1wiOlwiXzAoXzEpLmZsaWdodFwifX1dfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidGRcIixcImFcIjp7XCJjbGFzc1wiOlwiaXRpbmVyYXJ5XCJ9LFwiZlwiOlt7XCJ0XCI6MixcInhcIjp7XCJyXCI6W1wiZmlyc3RcIixcIi5cIl0sXCJzXCI6XCJfMChfMSkuZnJvbS5jaXR5XCJ9fSxcIiDihpIgXCIse1widFwiOjIsXCJ4XCI6e1wiclwiOltcImxhc3RcIixcIi5cIl0sXCJzXCI6XCJfMChfMSkudG8uY2l0eVwifX0se1widFwiOjcsXCJlXCI6XCJiclwifSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwic21hbGxcIn0sXCJmXCI6W3tcInRcIjoyLFwieFwiOntcInJcIjpbXCJmaXJzdFwiLFwiLlwiXSxcInNcIjpcIl8wKF8xKS5kZXBhcnQuZm9ybWF0KFxcXCJEIE1NTSwgWVlZWVxcXCIpXCJ9fV19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJ0ZFwiLFwiYVwiOntcImNsYXNzXCI6XCJkdXJhdGlvblwifSxcImZcIjpbe1widFwiOjIsXCJ4XCI6e1wiclwiOltcImZpcnN0XCIsXCIuXCJdLFwic1wiOlwiXzAoXzEpLmRlcGFydC5mb3JtYXQoXFxcIkhIOm1tXFxcIilcIn19LFwiIOKAlCBcIix7XCJ0XCI6MixcInhcIjp7XCJyXCI6W1wibGFzdFwiLFwiLlwiXSxcInNcIjpcIl8wKF8xKS5hcnJpdmUuZm9ybWF0KFxcXCJISDptbVxcXCIpXCJ9fSx7XCJ0XCI6NyxcImVcIjpcImJyXCJ9LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJzbWFsbFwifSxcImZcIjpbe1widFwiOjIsXCJ4XCI6e1wiclwiOltcImR1cmF0aW9uXCIsXCJzZWd0aW1lXCIsXCIuXCJdLFwic1wiOlwiXzAuZm9ybWF0KF8xKF8yKSlcIn19XX1dfSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidGRcIixcImFcIjp7XCJyb3dzcGFuXCI6W3tcInRcIjoyLFwieFwiOntcInJcIjpbXCJzZWdfbGVuZ3RoXCIsXCJib29raW5nLmZsaWdodHNcIl0sXCJzXCI6XCJfMChfMSlcIn19XSxcImNsYXNzXCI6XCJwcmljZVwifSxcImZcIjpbe1widFwiOjMsXCJ4XCI6e1wiclwiOltcIm1vbmV5XCIsXCJib29raW5nLnByaWNlXCIsXCJib29raW5nLmNvbnZlbmllbmNlRmVlXCIsXCJib29raW5nLnByb21vX3ZhbHVlXCIsXCJib29raW5nLmN1cnJlbmN5XCJdLFwic1wiOlwiXzAoXzErXzItXzMsXzQpXCJ9fV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYm9va2luZy5wcm9tb192YWx1ZVwiXSxcInNcIjpcIl8wIT1udWxsXCJ9fSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJ0ZFwiLFwiYVwiOntcInJvd3NwYW5cIjpbe1widFwiOjIsXCJ4XCI6e1wiclwiOltcInNlZ19sZW5ndGhcIixcImJvb2tpbmcuZmxpZ2h0c1wiXSxcInNcIjpcIl8wKF8xKVwifX1dLFwiY2xhc3NcIjpcInByaWNlXCJ9LFwiZlwiOlt7XCJ0XCI6MyxcInhcIjp7XCJyXCI6W1wibW9uZXlcIixcImJvb2tpbmcucHJpY2VcIixcImJvb2tpbmcuY29udmVuaWVuY2VGZWVcIixcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMStfMixfMylcIn19XX1dLFwieFwiOntcInJcIjpbXCJib29raW5nLnByb21vX3ZhbHVlXCJdLFwic1wiOlwiXzAhPW51bGxcIn19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiaVwiLFwialwiXSxcInNcIjpcIl8wPT0wJiZfMT09MFwifX1dfV0sXCJuXCI6NTIsXCJpXCI6XCJqXCIsXCJyXCI6XCJzZWdtZW50c1wifV0sXCJuXCI6NTIsXCJpXCI6XCJpXCIsXCJyXCI6XCJib29raW5nLmZsaWdodHNcIn1dfV0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcInN0ZXAuYWN0aXZlXCIsXCJzdGVwLmNvbXBsZXRlZFwiXSxcInNcIjpcIiFfMCYmXzFcIn19LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJmb3JtXCIsXCJhXCI6e1wiYWN0aW9uXCI6XCJqYXZhc2NyaXB0OjtcIixcImNsYXNzXCI6W1widWkgZm9ybSBzZWdtZW50IHN0ZXAxIFwiLHtcInRcIjo0LFwiZlwiOltcImVycm9yXCJdLFwiblwiOjUwLFwiclwiOlwic3RlcC5lcnJvcnNcIn0sXCIgXCIse1widFwiOjQsXCJmXCI6W10sXCJuXCI6NTAsXCJyXCI6XCJzdGVwLnN1Ym1pdHRpbmdcIn1dfSxcInZcIjp7XCJzdWJtaXRcIjp7XCJtXCI6XCJzdWJtaXRcIixcImFcIjp7XCJyXCI6W10sXCJzXCI6XCJbXVwifX19LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicGF5bWVudF9sb2FkZXJcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInVpIGFjdGl2ZSBpbnZlcnRlZCBkaW1tZXJcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcIndhaXRfdGV4dFwiLFwic3R5bGVcIjpcIm1hcmdpbi10b3A6OTVweCAhaW1wb3J0YW50O1wifSxcImZcIjpbXCJQbGVhc2UgV2FpdFwiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgdGV4dCBsb2FkZXIgbG9hZGVyX3Bvc2l0aW9uXCJ9fV19XX1dLFwiblwiOjUwLFwiclwiOlwic3RlcC5zdWJtaXR0aW5nXCJ9LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcIml0aW5lcmFyeVwiLFwiYVwiOntcImZsaWdodFwiOlt7XCJ0XCI6MixcInJcIjpcIi5cIn1dfX1dLFwiblwiOjUyLFwiclwiOlwiYm9va2luZy5mbGlnaHRzXCJ9LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInVpIGJhc2ljIHNlZ21lbnQgYm9va2luZy1jb250YWN0c1wifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgaGVhZGVyXCJ9LFwiZlwiOltcIkNvbnRhY3QgRGV0YWlsc1wiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgdHdvIGNvbHVtbiBtaWRkbGUgdG9wIGFsaWduZWQgcmVsYXhlZCBmaXR0ZWQgZ3JpZFwiLFwic3R5bGVcIjpcInBvc2l0aW9uOiByZWxhdGl2ZVwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY29sdW1uXCIsXCJzdHlsZVwiOlwid2lkdGg6IDY1JTtcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInR3byBmaWVsZHNcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImxhYmVsXCIsXCJmXCI6W1wiRS1NYWlsXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInVpLWVtYWlsXCIsXCJhXCI6e1wiY2xhc3NcIjpbe1widFwiOjQsXCJmXCI6W1wiYm9sZFwiXSxcIm5cIjo1MCxcInJcIjpcImJvb2tpbmcudXNlci5lbWFpbFwifV0sXCJuYW1lXCI6XCJlbWFpbFwiLFwicGxhY2Vob2xkZXJcIjpcIkUtTWFpbFwiLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJzdGVwLmVycm9ycy5lbWFpbFwifV0sXCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcImJvb2tpbmcudXNlci5lbWFpbFwifV0sXCJyZWFkb25seVwiOlt7XCJ0XCI6NCxcImZcIjpbXCJyZWFkb25seVwiXSxcIm5cIjo1MCxcInJcIjpcIm1ldGEudXNlci5lbWFpbFwifSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbXSxcInJcIjpcIm1ldGEudXNlci5lbWFpbFwifV19fV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImZpZWxkIHBob25lXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImxhYmVsXCIsXCJmXCI6W1wiTW9iaWxlXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInVpLWlucHV0XCIsXCJhXCI6e1wiY2xhc3NcIjpcImNvZGUgaW5wdXRcIixcIm5hbWVcIjpcIm1vYmlsZVwiLFwicGxhY2Vob2xkZXJcIjpcIkNvZGVcIixcImVycm9yXCI6W3tcInRcIjoyLFwiclwiOlwic3RlcC5lcnJvcnMubW9iaWxlXCJ9XSxcInZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwiYm9va2luZy51c2VyLmNvdW50cnlcIn1dfX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJ1aS1pbnB1dFwiLFwiYVwiOntcImNsYXNzXCI6W1wibnVtYmVyIFwiLHtcInRcIjo0LFwiZlwiOltcImJvbGRcIl0sXCJuXCI6NTAsXCJyXCI6XCJib29raW5nLnVzZXIubW9iaWxlXCJ9XSxcIm5hbWVcIjpcIm1vYmlsZVwiLFwicGxhY2Vob2xkZXJcIjpcIk1vYmlsZVwiLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJzdGVwLmVycm9ycy5tb2JpbGVcIn1dLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJib29raW5nLnVzZXIubW9iaWxlXCJ9XSxcInJlYWRvbmx5XCI6W3tcInRcIjo0LFwiZlwiOltcInJlYWRvbmx5XCJdLFwiblwiOjUwLFwiclwiOlwibWV0YS51c2VyLmVtYWlsXCJ9LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOltdLFwiclwiOlwibWV0YS51c2VyLmVtYWlsXCJ9XX19XX1dfSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgZXJyb3IgbWVzc2FnZVwifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInBcIixcImZcIjpbe1widFwiOjIsXCJyXCI6XCIuXCJ9XX1dLFwiblwiOjUwLFwiclwiOlwiLlwifV0sXCJuXCI6NTIsXCJpXCI6XCJpXCIsXCJyXCI6XCJzdGVwLmVycm9yc1wifV19XSxcIm5cIjo1MCxcInJcIjpcInN0ZXAuZXJyb3JzXCJ9XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY29sdW1uIHRvcCBjZW50ZXIgYWxpZ25lZFwiLFwic3R5bGVcIjpcIndpZHRoOiAzNSU7XCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbXCJIYXZlIGEgQ2hlYXBUaWNrZXQuaW4gQWNjb3VudD8gU2lnbiBpbiBoZXJlIVwiLHtcInRcIjo3LFwiZVwiOlwiYnJcIn0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJidXR0b25cIixcImFcIjp7XCJ0eXBlXCI6XCJidXR0b25cIixcImNsYXNzXCI6XCJ1aSBidXR0b24gc21hbGwgYmx1ZVwifSxcInZcIjp7XCJjbGlja1wiOntcIm1cIjpcInNpZ25pblwiLFwiYVwiOntcInJcIjpbXSxcInNcIjpcIltdXCJ9fX0sXCJmXCI6W1wiU2lnbiBpblwiXX1dLFwiblwiOjUxLFwiclwiOlwibWV0YS51c2VyLmVtYWlsXCJ9XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY29sdW1uIHNpeCB3aWRlXCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgaGVhZGVyXCJ9LFwiZlwiOltcIkFwcGx5IFByb21vIENvZGVcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInR3byBmaWVsZHNcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJpdGVtXCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJ1aS1pbnB1dFwiLFwiYVwiOntcIm5hbWVcIjpcInByb21vY29kZVwiLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJwcm9tb2NvZGVcIn1dLFwiY2xhc3NcIjpcImZsdWlkIFwiLFwicGxhY2Vob2xkZXJcIjpcIkVudGVyIFByb21vIENvZGVcIixcImRpc2FibGVkXCI6XCJkaXNhYmxlZFwifSxcImZcIjpbXX1dLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJwcm9tb3ZhbHVlXCJdLFwic1wiOlwiXzAhPW51bGxcIn19LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInVpLWlucHV0XCIsXCJhXCI6e1wibmFtZVwiOlwicHJvbW9jb2RlXCIsXCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcInByb21vY29kZVwifV0sXCJjbGFzc1wiOlwiZmx1aWQgXCIsXCJwbGFjZWhvbGRlclwiOlwiRW50ZXIgUHJvbW8gQ29kZVwifSxcImZcIjpbXX1dLFwieFwiOntcInJcIjpbXCJwcm9tb3ZhbHVlXCJdLFwic1wiOlwiXzAhPW51bGxcIn19XX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJmaWVsZFwifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInVpIGJ1dHRvbiBzbWFsbCByZWRcIn0sXCJ2XCI6e1wiY2xpY2tcIjp7XCJtXCI6XCJyZW1vdmVQcm9tb0NvZGVcIixcImFcIjp7XCJyXCI6W10sXCJzXCI6XCJbXVwifX19LFwiZlwiOltcIlJFTU9WRVwiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicm93IG9uZSBjb2x1bW5cIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImNvbHVtblwifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiYVwiLFwiYVwiOntcImhyZWZcIjpbe1widFwiOjIsXCJyXCI6XCJwcm9tb3RuY3VybFwifV0sXCJ0YXJnZXRcIjpcIl9ibGFua1wifSxcImZcIjpbXCJQcm9tbyBDb2RlIFQmQydzXCJdfV0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcInByb21vdG5jdXJsXCJdLFwic1wiOlwiXzAhPW51bGxcIn19LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOltcIsKgXCJdLFwieFwiOntcInJcIjpbXCJwcm9tb3RuY3VybFwiXSxcInNcIjpcIl8wIT1udWxsXCJ9fV19XX1dLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJwcm9tb3ZhbHVlXCJdLFwic1wiOlwiXzAhPW51bGxcIn19LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBidXR0b24gc21hbGwgZ3JlZW5cIn0sXCJ2XCI6e1wiY2xpY2tcIjp7XCJtXCI6XCJhcHBseVByb21vQ29kZVwiLFwiYVwiOntcInJcIjpbXSxcInNcIjpcIltdXCJ9fX0sXCJmXCI6W1wiQVBQTFlcIl19XSxcInhcIjp7XCJyXCI6W1wicHJvbW92YWx1ZVwiXSxcInNcIjpcIl8wIT1udWxsXCJ9fV19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcInN0eWxlXCI6XCJjbGVhcjpib3RoO1wifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgc21hbGwgZmllbGQgbmVnYXRpdmUgbWVzc2FnZVwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJpXCIsXCJhXCI6e1wiY2xhc3NcIjpcImNsb3NlIGljb25cIn0sXCJ2XCI6e1wiY2xpY2tcIjp7XCJtXCI6XCJyZW1vdmVFcnJvck1zZ1wiLFwiYVwiOntcInJcIjpbXSxcInNcIjpcIltdXCJ9fX19LFwiIFwiLHtcInRcIjoyLFwiclwiOlwicHJvbW9lcnJvclwifV19XX1dLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJwcm9tb2Vycm9yXCJdLFwic1wiOlwiXzAhPW51bGxcIn19XX1dLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJib29raW5nLmNsaWVudFNvdXJjZUlkXCJdLFwic1wiOlwiXzA9PTFcIn19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiYnV0dG9uXCIsXCJhXCI6e1widHlwZVwiOlwic3VibWl0XCIsXCJjbGFzc1wiOlwidWkgd2l6YXJkIGJ1dHRvbiBtYXNzaXZlIGJsdWVcIn0sXCJmXCI6W1wiQ09OVElOVUVcIl19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicmlnaHQgYWxpZ25lZCBjb2x1bW4gdGVuIHdpZGVcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInVpIHR3byBjb2x1bW4gbWlkZGxlIHRvcCBhbGlnbmVkIHJlbGF4ZWQgZml0dGVkIGdyaWRcIixcInN0eWxlXCI6XCJwb3NpdGlvbjogcmVsYXRpdmVcIn0sXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJyb3dcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImNvbHVtbiB0ZW4gd2lkZSByaWdodCBhbGlnbmVkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwicHJpY2VcIn0sXCJmXCI6W1wiVE9UQUw6XCJdfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImNvbHVtbiBzaXggd2lkZSByaWdodCBhbGlnbmVkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwicHJpY2VcIn0sXCJmXCI6W3tcInRcIjozLFwieFwiOntcInJcIjpbXCJtb25leVwiLFwiYm9va2luZy5wcmljZVwiLFwiYm9va2luZy5jb252ZW5pZW5jZUZlZVwiLFwiYm9va2luZy5jdXJyZW5jeVwiXSxcInNcIjpcIl8wKF8xK18yLF8zKVwifX1dfV19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicm93XCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb2x1bW4gdGVuIHdpZGUgcmlnaHQgYWxpZ25lZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcInByaWNlXCJ9LFwiZlwiOltcIkRJU0NPVU5UOlwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb2x1bW4gc2l4IHdpZGUgcmlnaHQgYWxpZ25lZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcInByaWNlXCJ9LFwiZlwiOlt7XCJ0XCI6MyxcInhcIjp7XCJyXCI6W1wibW9uZXlcIixcInByb21vdmFsdWVcIixcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMSxfMilcIn19XX1dfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInJvd1wifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY29sdW1uIHRlbiB3aWRlIHJpZ2h0IGFsaWduZWRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJwcmljZVwifSxcImZcIjpbXCJBTU9VTlQgVE8gUEFZOlwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb2x1bW4gc2l4IHdpZGUgcmlnaHQgYWxpZ25lZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcInByaWNlXCJ9LFwiZlwiOlt7XCJ0XCI6MyxcInhcIjp7XCJyXCI6W1wibW9uZXlcIixcImJvb2tpbmcucHJpY2VcIixcImJvb2tpbmcuY29udmVuaWVuY2VGZWVcIixcInByb21vdmFsdWVcIixcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMStfMi1fMyxfNClcIn19XX1dfV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wicHJvbW92YWx1ZVwiXSxcInNcIjpcIl8wIT1udWxsXCJ9fSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicm93XCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb2x1bW4gdGVuIHdpZGUgcmlnaHQgYWxpZ25lZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcInByaWNlXCJ9LFwiZlwiOltcIkFNT1VOVCBUTyBQQVk6XCJdfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImNvbHVtbiBzaXggd2lkZSByaWdodCBhbGlnbmVkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwicHJpY2VcIn0sXCJmXCI6W3tcInRcIjozLFwieFwiOntcInJcIjpbXCJtb25leVwiLFwiYm9va2luZy5wcmljZVwiLFwiYm9va2luZy5jb252ZW5pZW5jZUZlZVwiLFwiYm9va2luZy5jdXJyZW5jeVwiXSxcInNcIjpcIl8wKF8xK18yLF8zKVwifX1dfV19XX1dLFwieFwiOntcInJcIjpbXCJwcm9tb3ZhbHVlXCJdLFwic1wiOlwiXzAhPW51bGxcIn19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInJvdyBvbmUgY29sdW1uXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb2x1bW4gcmlnaHQgYWxpZ25lZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidGF4ZXNcIn0sXCJmXCI6W1wiQmFzaWMgRmFyZTogXCIse1widFwiOjMsXCJ4XCI6e1wiclwiOltcIm1vbmV5XCIsXCJib29raW5nLnRheGVzLmJhc2ljX2ZhcmVcIixcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMSxfMilcIn19LFwiICwgWVE6IFwiLHtcInRcIjozLFwieFwiOntcInJcIjpbXCJtb25leVwiLFwiYm9va2luZy50YXhlcy55cVwiLFwiYm9va2luZy5jdXJyZW5jeVwiXSxcInNcIjpcIl8wKF8xLF8yKVwifX0sXCIsIFNlcnZpY2UgVGF4OiBcIix7XCJ0XCI6MyxcInhcIjp7XCJyXCI6W1wibW9uZXlcIixcImJvb2tpbmcudGF4ZXMuam5cIixcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMSxfMilcIn19LFwiLCBPdGhlcjogXCIse1widFwiOjMsXCJ4XCI6e1wiclwiOltcIm1vbmV5XCIsXCJib29raW5nLnRheGVzLm90aGVyXCIsXCJib29raW5nLmNvbnZlbmllbmNlRmVlXCIsXCJib29raW5nLmN1cnJlbmN5XCJdLFwic1wiOlwiXzAoXzErXzIsXzMpXCJ9fSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbXCIsIERpc2NvdW50OiBcIix7XCJ0XCI6MyxcInhcIjp7XCJyXCI6W1wibW9uZXlcIixcInByb21vdmFsdWVcIixcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMSxfMilcIn19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wicHJvbW92YWx1ZVwiXSxcInNcIjpcIl8wIT1udWxsXCJ9fV19XX1dfV19XX1dfV19XX1dLFwiblwiOjUwLFwiclwiOlwic3RlcC5hY3RpdmVcIn1dLFwieFwiOntcInJcIjpbXCJzdGVwLmFjdGl2ZVwiLFwic3RlcC5jb21wbGV0ZWRcIl0sXCJzXCI6XCIhXzAmJl8xXCJ9fV0sXCJ4XCI6e1wiclwiOltcImJvb2tpbmcuc3RlcHMuMVwiXSxcInNcIjpcIntzdGVwOl8wfVwifX0se1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInVpIGZhcmUgZmx1aWQgcG9wdXBcIixcInN0eWxlXCI6XCJ0ZXh0LWFsaWduOiBsZWZ0OyBtYXgtd2lkdGg6IDM1MHB4O1wifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjoyLFwiclwiOlwicGF4VGF4ZXMuMS5jXCJ9LFwieCBhZHVsdHM6IFwiLHtcInRcIjozLFwieFwiOntcInJcIjpbXCJtb25leVwiLFwicGF4VGF4ZXMuMS5iYXNpY19mYXJlXCIsXCJtZXRhLmRpc3BsYXlfY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMSxfMilcIn19LFwiIFlROlwiLHtcInRcIjozLFwieFwiOntcInJcIjpbXCJtb25leVwiLFwicGF4VGF4ZXMuMS55cVwiLFwibWV0YS5kaXNwbGF5X2N1cnJlbmN5XCJdLFwic1wiOlwiXzAoXzEsXzIpXCJ9fSxcIiBKTjpcIix7XCJ0XCI6MyxcInhcIjp7XCJyXCI6W1wibW9uZXlcIixcInBheFRheGVzLjEuam5cIixcIm1ldGEuZGlzcGxheV9jdXJyZW5jeVwiXSxcInNcIjpcIl8wKF8xLF8yKVwifX0sXCIgT1RIRVI6XCIse1widFwiOjMsXCJ4XCI6e1wiclwiOltcIm1vbmV5XCIsXCJwYXhUYXhlcy4xLm90aGVyXCIsXCJtZXRhLmRpc3BsYXlfY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMSxfMilcIn19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiYnJcIn1dLFwiblwiOjUwLFwiclwiOlwicGF4VGF4ZXMuMVwifSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjIsXCJyXCI6XCJwYXhUYXhlcy4yLmNcIn0sXCJ4IGNoaWxkcmVuOiBcIix7XCJ0XCI6MyxcInhcIjp7XCJyXCI6W1wibW9uZXlcIixcInBheFRheGVzLjIuYmFzaWNfZmFyZVwiLFwibWV0YS5kaXNwbGF5X2N1cnJlbmN5XCJdLFwic1wiOlwiXzAoXzEsXzIpXCJ9fSxcIiBZUTpcIix7XCJ0XCI6MyxcInhcIjp7XCJyXCI6W1wibW9uZXlcIixcInBheFRheGVzLjIueXFcIixcIm1ldGEuZGlzcGxheV9jdXJyZW5jeVwiXSxcInNcIjpcIl8wKF8xLF8yKVwifX0sXCIgSk46XCIse1widFwiOjMsXCJ4XCI6e1wiclwiOltcIm1vbmV5XCIsXCJwYXhUYXhlcy4yLmpuXCIsXCJtZXRhLmRpc3BsYXlfY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMSxfMilcIn19LFwiIE9USEVSOlwiLHtcInRcIjozLFwieFwiOntcInJcIjpbXCJtb25leVwiLFwicGF4VGF4ZXMuMi5vdGhlclwiLFwibWV0YS5kaXNwbGF5X2N1cnJlbmN5XCJdLFwic1wiOlwiXzAoXzEsXzIpXCJ9fSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImJyXCJ9XSxcIm5cIjo1MCxcInJcIjpcInBheFRheGVzLjJcIn0sXCIgXCIse1widFwiOjQsXCJmXCI6W3tcInRcIjoyLFwiclwiOlwicGF4VGF4ZXMuMy5jXCJ9LFwieCBpbmZhbnRzOiBcIix7XCJ0XCI6MyxcInhcIjp7XCJyXCI6W1wibW9uZXlcIixcInBheFRheGVzLjMuYmFzaWNfZmFyZVwiLFwibWV0YS5kaXNwbGF5X2N1cnJlbmN5XCJdLFwic1wiOlwiXzAoXzEsXzIpXCJ9fSxcIiBZUTpcIix7XCJ0XCI6MyxcInhcIjp7XCJyXCI6W1wibW9uZXlcIixcInBheFRheGVzLjMueXFcIixcIm1ldGEuZGlzcGxheV9jdXJyZW5jeVwiXSxcInNcIjpcIl8wKF8xLF8yKVwifX0sXCIgSk46XCIse1widFwiOjMsXCJ4XCI6e1wiclwiOltcIm1vbmV5XCIsXCJwYXhUYXhlcy4zLmpuXCIsXCJtZXRhLmRpc3BsYXlfY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMSxfMilcIn19LFwiIE9USEVSOlwiLHtcInRcIjozLFwieFwiOntcInJcIjpbXCJtb25leVwiLFwicGF4VGF4ZXMuMy5vdGhlclwiLFwibWV0YS5kaXNwbGF5X2N1cnJlbmN5XCJdLFwic1wiOlwiXzAoXzEsXzIpXCJ9fSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImJyXCJ9XSxcIm5cIjo1MCxcInJcIjpcInBheFRheGVzLjNcIn1dfV0sXCJyXCI6XCJib29raW5nXCJ9XX07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9hcHAvd2ViL21vZHVsZS90ZW1wbGF0ZXMvZmxpZ2h0cy9ib29raW5nL3N0ZXAxLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRm9ybSA9IHJlcXVpcmUoJ2NvcmUvZm9ybScpLFxuICAgIG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpLFxuICAgIF8gPSByZXF1aXJlKCdsb2Rhc2gnKSxcblxuICAgIGhfbW9uZXkgPSByZXF1aXJlKCdoZWxwZXJzL21vbmV5JykoKSxcbiAgICBoX2R1cmF0aW9uID0gcmVxdWlyZSgnaGVscGVycy9kdXJhdGlvbicpKClcbiAgICA7XG5cbm1vZHVsZS5leHBvcnRzID0gRm9ybS5leHRlbmQoe1xuICAgIGlzb2xhdGVkOiB0cnVlLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd0ZW1wbGF0ZXMvZmxpZ2h0cy9pdGluZXJhcnkuaHRtbCcpLFxuXG4gICAgZGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfLmV4dGVuZChcbiAgICAgICAgICAgIHsgbW9tZW50OiBtb21lbnQsIG1vbmV5OiBoX21vbmV5Lm1vbmV5LCBkdXJhdGlvbjogaF9kdXJhdGlvbiB9XG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21wb25lbnRzL2ZsaWdodHMvaXRpbmVyYXJ5LmpzXG4vLyBtb2R1bGUgaWQgPSA4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSIsIm1vZHVsZS5leHBvcnRzPXtcInZcIjozLFwidFwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjQsXCJmXCI6W1wiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpbXCJ1aSBzZWdtZW50IGZsaWdodC1pdGluZXJhcnkgXCIse1widFwiOjQsXCJmXCI6W1wic21hbGxcIl0sXCJuXCI6NTAsXCJyXCI6XCJzbWFsbFwiLFwic1wiOnRydWV9LFwiIFwiLHtcInRcIjoyLFwiclwiOlwiY2xhc3NcIixcInNcIjp0cnVlfV19LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ0aXRsZVwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcImNpdHlcIn0sXCJmXCI6W3tcInRcIjoyLFwieFwiOntcInJcIjpbXCJmaXJzdFwiLFwiLlwiXSxcInNcIjpcIl8wKF8xKS5mcm9tLmNpdHlcIn19LFwiIOKGkiBcIix7XCJ0XCI6MixcInhcIjp7XCJyXCI6W1wibGFzdFwiLFwiLlwiXSxcInNcIjpcIl8wKF8xKS50by5jaXR5XCJ9fV19LFwiIFwiLHtcInRcIjoyLFwieFwiOntcInJcIjpbXCJmaXJzdFwiLFwiLlwiXSxcInNcIjpcIl8wKF8xKS5kZXBhcnQuZm9ybWF0KFxcXCJkZGQgTU1NIEQgWVlZWVxcXCIpXCJ9fSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwidGltZVwifSxcImZcIjpbe1widFwiOjIsXCJ4XCI6e1wiclwiOltcImR1cmF0aW9uXCIsXCJzZWd0aW1lXCIsXCIuXCJdLFwic1wiOlwiXzAuZm9ybWF0KF8xKF8yKSlcIn19XX0sXCIgXCIse1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImlkXCI6XCJhaXJwb3J0X2NoYW5nZV9zdHlsZVwifSxcImZcIjpbe1widFwiOjIsXCJ4XCI6e1wiclwiOltcImZpcnN0XCIsXCIuXCJdLFwic1wiOlwiXzAoXzEpLmFpcnBvcnRfY2hhbmdlXCJ9fV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiZmlyc3RcIixcIi5cIl0sXCJzXCI6XCJfMChfMSkuYWlycG9ydF9jaGFuZ2VcIn19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJpZFwiOlwidHJhbnNpdHZpc2FfbXNnX3N0eWxlXCJ9LFwiZlwiOlt7XCJ0XCI6MixcInhcIjp7XCJyXCI6W1wiZmlyc3RcIixcIi5cIl0sXCJzXCI6XCJfMChfMSkudHJhbnNpdHZpc2FfbXNnXCJ9fV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiZmlyc3RcIixcIi5cIl0sXCJzXCI6XCJfMChfMSkudHJhbnNpdHZpc2FfbXNnXCJ9fSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcInRlY2hTdG9wXCJ9LFwiZlwiOltcIlRlY2huaWNhbCBTdG9wOiBcIix7XCJ0XCI6MixcInhcIjp7XCJyXCI6W1wiZmlyc3RcIixcIi5cIl0sXCJzXCI6XCJfMChfMSkudGVjaFN0b3BcIn19XX1dLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJmaXJzdFwiLFwiLlwiXSxcInNcIjpcIl8wKF8xKS50ZWNoU3RvcCE9bnVsbFwifX0sXCIgXCIse1widFwiOjQsXCJmXCI6W3tcInRcIjoyLFwieFwiOntcInJcIjpbXCJmbGlnaHQucmVmdW5kYWJsZVwiXSxcInNcIjpcIltudWxsLFxcXCJOb24gcmVmdW5kYWJsZVxcXCIsXFxcIlJlZnVuZGFibGVcXFwiXVtfMF1cIn19XSxcIm5cIjo1MCxcInJcIjpcInNtYWxsXCIsXCJzXCI6dHJ1ZX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInRhYmxlXCIsXCJhXCI6e1wiY2xhc3NcIjpcInNlZ21lbnRzXCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidHJcIixcImFcIjp7XCJjbGFzc1wiOlwiZGl2aWRlclwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJ0ZFwiLFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImZcIjpbXCLCoFwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInRkXCIsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiZlwiOltcIsKgXCJdfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidGRcIixcImFcIjp7XCJhbGlnblwiOlwiY2VudGVyXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwibGF5b3ZlclwifSxcImZcIjpbXCJMYXlvdmVyOiBcIix7XCJ0XCI6MixcInhcIjp7XCJyXCI6W1wiZHVyYXRpb25cIixcImxheW92ZXJcIl0sXCJzXCI6XCJfMC5mb3JtYXQoXzEpXCJ9fV19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwibGF5b3ZlciBjc3NfbGF5b3ZlclwifSxcImZcIjpbXCJTaG9ydCBMYXlvdmVyXCJdfV0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImxheW92ZXJcIl0sXCJzXCI6XCJfMC5hc1NlY29uZHMoKTw9NzIwMFwifX0sXCIgXCIse1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJsYXlvdmVyIGNzc19sYXlvdmVyXCJ9LFwiZlwiOltcIkxvbmcgTGF5b3ZlclwiXX1dLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJsYXlvdmVyXCJdLFwic1wiOlwiXzAuYXNTZWNvbmRzKCk+PTE4MDAwXCJ9fV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidGRcIixcImZcIjpbe1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJmXCI6W1wiwqBcIl19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJ0ZFwiLFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImZcIjpbXCLCoFwiXX1dfV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wibGF5b3ZlclwiXSxcInNcIjpcIl8wLmFzU2Vjb25kcygpXCJ9fSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInRyXCIsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidGRcIixcImFcIjp7XCJjbGFzc1wiOlwiYWlybGluZVwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibG9nb3NcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiaW1nXCIsXCJhXCI6e1wiY2xhc3NcIjpcInVpIHRvcCBhbGlnbmVkIGF2YXRhciBpbWFnZVwiLFwic3JjXCI6W3tcInRcIjoyLFwiclwiOlwiY2Fycmllci5sb2dvXCJ9XSxcImFsdFwiOlt7XCJ0XCI6MixcInJcIjpcImNhcnJpZXIubmFtZVwifV0sXCJ0aXRsZVwiOlt7XCJ0XCI6MixcInJcIjpcImNhcnJpZXIubmFtZVwifV19fV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcIm5hbWVcIn0sXCJmXCI6W3tcInRcIjoyLFwiclwiOlwiY2Fycmllci5uYW1lXCJ9LHtcInRcIjo3LFwiZVwiOlwiYnJcIn0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcImZsaWdodC1ub1wifSxcImZcIjpbe1widFwiOjIsXCJyXCI6XCJmbGlnaHRcIn0se1widFwiOjcsXCJlXCI6XCJiclwifSxcIiBcIix7XCJ0XCI6MixcInJcIjpcImNhYmluVHlwZVwifV19XX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInRkXCIsXCJhXCI6e1wiY2xhc3NcIjpcImZyb21cIixcInN0eWxlXCI6XCJ0ZXh0LWFsaWduOiByaWdodDtcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiYlwiLFwibVwiOlt7XCJ0XCI6NCxcImZcIjpbXCJpZD1cXFwiYmFja2dyb3VuZF9haXJwb3J0X2NoYW5nZVxcXCJcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcIm5hbWVfYWlycG9ydF9jaGFuZ2UuMFwiLFwibmFtZV9haXJwb3J0X2NoYW5nZS4xXCIsXCJuYW1lX2FpcnBvcnRfY2hhbmdlLjJcIixcImZyb20uYWlycG9ydENvZGVcIixcIm5hbWVfYWlycG9ydF9jaGFuZ2UuM1wiXSxcInNcIjpcIl8zPT1fMHx8XzM9PV8xfHxfMz09XzJ8fF8zPT1fNFwifX1dLFwiZlwiOlt7XCJ0XCI6MixcInJcIjpcImZyb20uYWlycG9ydENvZGVcIn0sXCI6XCJdfSx7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJiclwifV0sXCJuXCI6NTAsXCJyXCI6XCJzbWFsbFwiLFwic1wiOnRydWV9LHtcInRcIjoyLFwieFwiOntcInJcIjpbXCJkZXBhcnRcIl0sXCJzXCI6XCJfMC5mb3JtYXQoXFxcImRkZCBISDptbVxcXCIpXCJ9fSx7XCJ0XCI6NyxcImVcIjpcImJyXCJ9LFwiIFwiLHtcInRcIjoyLFwieFwiOntcInJcIjpbXCJzbWFsbFwiLFwiZGVwYXJ0XCJdLFwic1wiOlwiXzA/XzEuZm9ybWF0KFxcXCJEIE1NTVxcXCIpOl8xLmZvcm1hdChcXFwiRCBNTU0sIFlZWVlcXFwiKVwifX0se1widFwiOjcsXCJlXCI6XCJiclwifSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcImFpcnBvcnRcIn0sXCJmXCI6W3tcInRcIjoyLFwiclwiOlwiZnJvbS5haXJwb3J0XCJ9LFwiLCBcIix7XCJ0XCI6MixcInJcIjpcImZyb20uY2l0eVwifSxcIsKgKFwiLHtcInRcIjoyLFwiclwiOlwiZnJvbS5haXJwb3J0Q29kZVwifSxcIiksIFRlcm1pbmFswqBcIix7XCJ0XCI6MixcInJcIjpcIm9yaWdpblRlcm1pbmFsXCJ9XX1dLFwiblwiOjUxLFwiclwiOlwic21hbGxcIixcInNcIjp0cnVlfV19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInRkXCIsXCJhXCI6e1wiY2xhc3NcIjpcImZsaWdodFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiZHVyYXRpb25cIn0sXCJmXCI6W3tcInRcIjoyLFwieFwiOntcInJcIjpbXCJkdXJhdGlvblwiLFwidGltZVwiXSxcInNcIjpcIl8wLmZvcm1hdChfMSlcIn19XX1dfV0sXCJuXCI6NTEsXCJyXCI6XCJzbWFsbFwiLFwic1wiOnRydWV9LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidGRcIixcImFcIjp7XCJjbGFzc1wiOlwidG9cIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiYlwiLFwibVwiOlt7XCJ0XCI6NCxcImZcIjpbXCJpZD1cXFwiYmFja2dyb3VuZF9haXJwb3J0X2NoYW5nZVxcXCJcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcIm5hbWVfYWlycG9ydF9jaGFuZ2UuMFwiLFwibmFtZV9haXJwb3J0X2NoYW5nZS4xXCIsXCJuYW1lX2FpcnBvcnRfY2hhbmdlLjJcIixcInRvLmFpcnBvcnRDb2RlXCIsXCJuYW1lX2FpcnBvcnRfY2hhbmdlLjNcIl0sXCJzXCI6XCJfMz09XzB8fF8zPT1fMXx8XzM9PV8yfHxfMz09XzRcIn19XSxcImZcIjpbe1widFwiOjIsXCJyXCI6XCJ0by5haXJwb3J0Q29kZVwifSxcIjpcIl19LHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImJyXCJ9XSxcIm5cIjo1MCxcInJcIjpcInNtYWxsXCIsXCJzXCI6dHJ1ZX0se1widFwiOjIsXCJ4XCI6e1wiclwiOltcImFycml2ZVwiXSxcInNcIjpcIl8wLmZvcm1hdChcXFwiZGRkIEhIOm1tXFxcIilcIn19LHtcInRcIjo3LFwiZVwiOlwiYnJcIn0sXCIgXCIse1widFwiOjIsXCJ4XCI6e1wiclwiOltcInNtYWxsXCIsXCJhcnJpdmVcIl0sXCJzXCI6XCJfMD9fMS5mb3JtYXQoXFxcIkQgTU1NXFxcIik6XzEuZm9ybWF0KFxcXCJEIE1NTSwgWVlZWVxcXCIpXCJ9fSx7XCJ0XCI6NyxcImVcIjpcImJyXCJ9LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwiYWlycG9ydFwifSxcImZcIjpbe1widFwiOjIsXCJyXCI6XCJ0by5haXJwb3J0XCJ9LFwiLCBcIix7XCJ0XCI6MixcInJcIjpcInRvLmNpdHlcIn0sXCLCoChcIix7XCJ0XCI6MixcInJcIjpcInRvLmFpcnBvcnRDb2RlXCJ9LFwiKSwgVGVybWluYWzCoFwiLHtcInRcIjoyLFwiclwiOlwiZGVzdGluYXRpb25UZXJtaW5hbFwifV19XSxcIm5cIjo1MSxcInJcIjpcInNtYWxsXCIsXCJzXCI6dHJ1ZX1dfV19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInRyXCIsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidGRcIixcImFcIjp7XCJjb2xzcGFuXCI6XCI0XCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJpdGVtIHN0b3BzXCIsXCJpZFwiOlwiYm94X2hlaWdodFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiaXRlbSBiYWdnYWdlX25vdF9hbGxvd2VkX2ltYWdlXCJ9LFwiZlwiOltcIsKgXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJoYW5kX2JhZ2dhZ2Vfc3R5bGluZ1wifSxcImZcIjpbXCJIYW5kIGJhZ2dhZ2Ugb25seSBubyBjaGVja2VkLWluIGJhZ2dhZ2VcIl19XX1dfV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiZmlyc3RcIixcInNlZ21lbnRzLjBcIl0sXCJzXCI6XCJfMChfMSkucHJvZHVjdF9jbGFzcz09PVxcXCJMSVRFXFxcIlwifX1dLFwiblwiOjUyLFwiclwiOlwiLlwifV19XX1dLFwiblwiOjUyLFwiclwiOlwic2VnbWVudHNcIn1dLFwiclwiOlwiZmxpZ2h0XCJ9XX07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9hcHAvd2ViL21vZHVsZS90ZW1wbGF0ZXMvZmxpZ2h0cy9pdGluZXJhcnkuaHRtbFxuLy8gbW9kdWxlIGlkID0gODRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUiLCIndXNlIHN0cmljdCc7XG5cbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCdjb3JlL2NvbXBvbmVudCcpLFxuICAgICQgPSByZXF1aXJlKCdqcXVlcnknKSxcbiAgICBfID0gcmVxdWlyZSgnbG9kYXNoJylcbiAgICA7XG5cbnZhciBhbGxDb3VudHJpZXMgPSBbXG4gICAgW1xuICAgICAgICBcIkluZGlhICjgpK3gpL7gpLDgpKQpXCIsXG4gICAgICAgIFwiaW5cIixcbiAgICAgICAgXCI5MVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQWZnaGFuaXN0YW4gKOKAq9in2YHYutin2YbYs9iq2KfZhuKArOKAjilcIixcbiAgICAgICAgXCJhZlwiLFxuICAgICAgICBcIjkzXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJBbGJhbmlhIChTaHFpcMOrcmkpXCIsXG4gICAgICAgIFwiYWxcIixcbiAgICAgICAgXCIzNTVcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkFsZ2VyaWEgKOKAq9in2YTYrNiy2KfYptix4oCs4oCOKVwiLFxuICAgICAgICBcImR6XCIsXG4gICAgICAgIFwiMjEzXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJBbWVyaWNhbiBTYW1vYVwiLFxuICAgICAgICBcImFzXCIsXG4gICAgICAgIFwiMTY4NFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQW5kb3JyYVwiLFxuICAgICAgICBcImFkXCIsXG4gICAgICAgIFwiMzc2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJBbmdvbGFcIixcbiAgICAgICAgXCJhb1wiLFxuICAgICAgICBcIjI0NFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQW5ndWlsbGFcIixcbiAgICAgICAgXCJhaVwiLFxuICAgICAgICBcIjEyNjRcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkFudGlndWEgYW5kIEJhcmJ1ZGFcIixcbiAgICAgICAgXCJhZ1wiLFxuICAgICAgICBcIjEyNjhcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkFyZ2VudGluYVwiLFxuICAgICAgICBcImFyXCIsXG4gICAgICAgIFwiNTRcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkFybWVuaWEgKNWA1aHVtdWh1b3Vv9Wh1bYpXCIsXG4gICAgICAgIFwiYW1cIixcbiAgICAgICAgXCIzNzRcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkFydWJhXCIsXG4gICAgICAgIFwiYXdcIixcbiAgICAgICAgXCIyOTdcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkF1c3RyYWxpYVwiLFxuICAgICAgICBcImF1XCIsXG4gICAgICAgIFwiNjFcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkF1c3RyaWEgKMOWc3RlcnJlaWNoKVwiLFxuICAgICAgICBcImF0XCIsXG4gICAgICAgIFwiNDNcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkF6ZXJiYWlqYW4gKEF6yZlyYmF5Y2FuKVwiLFxuICAgICAgICBcImF6XCIsXG4gICAgICAgIFwiOTk0XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJCYWhhbWFzXCIsXG4gICAgICAgIFwiYnNcIixcbiAgICAgICAgXCIxMjQyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJCYWhyYWluICjigKvYp9mE2KjYrdix2YrZhuKArOKAjilcIixcbiAgICAgICAgXCJiaFwiLFxuICAgICAgICBcIjk3M1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQmFuZ2xhZGVzaCAo4Kas4Ka+4KaC4Kay4Ka+4Kam4KeH4Ka2KVwiLFxuICAgICAgICBcImJkXCIsXG4gICAgICAgIFwiODgwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJCYXJiYWRvc1wiLFxuICAgICAgICBcImJiXCIsXG4gICAgICAgIFwiMTI0NlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQmVsYXJ1cyAo0JHQtdC70LDRgNGD0YHRjClcIixcbiAgICAgICAgXCJieVwiLFxuICAgICAgICBcIjM3NVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQmVsZ2l1bSAoQmVsZ2nDqylcIixcbiAgICAgICAgXCJiZVwiLFxuICAgICAgICBcIjMyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJCZWxpemVcIixcbiAgICAgICAgXCJielwiLFxuICAgICAgICBcIjUwMVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQmVuaW4gKELDqW5pbilcIixcbiAgICAgICAgXCJialwiLFxuICAgICAgICBcIjIyOVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQmVybXVkYVwiLFxuICAgICAgICBcImJtXCIsXG4gICAgICAgIFwiMTQ0MVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQmh1dGFuICjgvaDgvZbgvrLgvbTgvYIpXCIsXG4gICAgICAgIFwiYnRcIixcbiAgICAgICAgXCI5NzVcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkJvbGl2aWFcIixcbiAgICAgICAgXCJib1wiLFxuICAgICAgICBcIjU5MVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQm9zbmlhIGFuZCBIZXJ6ZWdvdmluYSAo0JHQvtGB0L3QsCDQuCDQpdC10YDRhtC10LPQvtCy0LjQvdCwKVwiLFxuICAgICAgICBcImJhXCIsXG4gICAgICAgIFwiMzg3XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJCb3Rzd2FuYVwiLFxuICAgICAgICBcImJ3XCIsXG4gICAgICAgIFwiMjY3XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJCcmF6aWwgKEJyYXNpbClcIixcbiAgICAgICAgXCJiclwiLFxuICAgICAgICBcIjU1XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJCcml0aXNoIEluZGlhbiBPY2VhbiBUZXJyaXRvcnlcIixcbiAgICAgICAgXCJpb1wiLFxuICAgICAgICBcIjI0NlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQnJpdGlzaCBWaXJnaW4gSXNsYW5kc1wiLFxuICAgICAgICBcInZnXCIsXG4gICAgICAgIFwiMTI4NFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQnJ1bmVpXCIsXG4gICAgICAgIFwiYm5cIixcbiAgICAgICAgXCI2NzNcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkJ1bGdhcmlhICjQkdGK0LvQs9Cw0YDQuNGPKVwiLFxuICAgICAgICBcImJnXCIsXG4gICAgICAgIFwiMzU5XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJCdXJraW5hIEZhc29cIixcbiAgICAgICAgXCJiZlwiLFxuICAgICAgICBcIjIyNlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQnVydW5kaSAoVWJ1cnVuZGkpXCIsXG4gICAgICAgIFwiYmlcIixcbiAgICAgICAgXCIyNTdcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkNhbWJvZGlhICjhnoDhnpjhn5LhnpbhnrvhnofhnrYpXCIsXG4gICAgICAgIFwia2hcIixcbiAgICAgICAgXCI4NTVcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkNhbWVyb29uIChDYW1lcm91bilcIixcbiAgICAgICAgXCJjbVwiLFxuICAgICAgICBcIjIzN1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQ2FuYWRhXCIsXG4gICAgICAgIFwiY2FcIixcbiAgICAgICAgXCIxXCIsXG4gICAgICAgIDEsXG4gICAgICAgIFtcIjIwNFwiLCBcIjIyNlwiLCBcIjIzNlwiLCBcIjI0OVwiLCBcIjI1MFwiLCBcIjI4OVwiLCBcIjMwNlwiLCBcIjM0M1wiLCBcIjM2NVwiLCBcIjM4N1wiLCBcIjQwM1wiLCBcIjQxNlwiLCBcIjQxOFwiLCBcIjQzMVwiLCBcIjQzN1wiLCBcIjQzOFwiLCBcIjQ1MFwiLCBcIjUwNlwiLCBcIjUxNFwiLCBcIjUxOVwiLCBcIjU0OFwiLCBcIjU3OVwiLCBcIjU4MVwiLCBcIjU4N1wiLCBcIjYwNFwiLCBcIjYxM1wiLCBcIjYzOVwiLCBcIjY0N1wiLCBcIjY3MlwiLCBcIjcwNVwiLCBcIjcwOVwiLCBcIjc0MlwiLCBcIjc3OFwiLCBcIjc4MFwiLCBcIjc4MlwiLCBcIjgwN1wiLCBcIjgxOVwiLCBcIjgyNVwiLCBcIjg2N1wiLCBcIjg3M1wiLCBcIjkwMlwiLCBcIjkwNVwiXVxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkNhcGUgVmVyZGUgKEthYnUgVmVyZGkpXCIsXG4gICAgICAgIFwiY3ZcIixcbiAgICAgICAgXCIyMzhcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkNhcmliYmVhbiBOZXRoZXJsYW5kc1wiLFxuICAgICAgICBcImJxXCIsXG4gICAgICAgIFwiNTk5XCIsXG4gICAgICAgIDFcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJDYXltYW4gSXNsYW5kc1wiLFxuICAgICAgICBcImt5XCIsXG4gICAgICAgIFwiMTM0NVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQ2VudHJhbCBBZnJpY2FuIFJlcHVibGljIChSw6lwdWJsaXF1ZSBjZW50cmFmcmljYWluZSlcIixcbiAgICAgICAgXCJjZlwiLFxuICAgICAgICBcIjIzNlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQ2hhZCAoVGNoYWQpXCIsXG4gICAgICAgIFwidGRcIixcbiAgICAgICAgXCIyMzVcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkNoaWxlXCIsXG4gICAgICAgIFwiY2xcIixcbiAgICAgICAgXCI1NlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQ2hpbmEgKOS4reWbvSlcIixcbiAgICAgICAgXCJjblwiLFxuICAgICAgICBcIjg2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJDb2xvbWJpYVwiLFxuICAgICAgICBcImNvXCIsXG4gICAgICAgIFwiNTdcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkNvbW9yb3MgKOKAq9is2LLYsSDYp9mE2YLZhdix4oCs4oCOKVwiLFxuICAgICAgICBcImttXCIsXG4gICAgICAgIFwiMjY5XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJDb25nbyAoRFJDKSAoSmFtaHVyaSB5YSBLaWRlbW9rcmFzaWEgeWEgS29uZ28pXCIsXG4gICAgICAgIFwiY2RcIixcbiAgICAgICAgXCIyNDNcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkNvbmdvIChSZXB1YmxpYykgKENvbmdvLUJyYXp6YXZpbGxlKVwiLFxuICAgICAgICBcImNnXCIsXG4gICAgICAgIFwiMjQyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJDb29rIElzbGFuZHNcIixcbiAgICAgICAgXCJja1wiLFxuICAgICAgICBcIjY4MlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQ29zdGEgUmljYVwiLFxuICAgICAgICBcImNyXCIsXG4gICAgICAgIFwiNTA2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJDw7R0ZSBk4oCZSXZvaXJlXCIsXG4gICAgICAgIFwiY2lcIixcbiAgICAgICAgXCIyMjVcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkNyb2F0aWEgKEhydmF0c2thKVwiLFxuICAgICAgICBcImhyXCIsXG4gICAgICAgIFwiMzg1XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJDdWJhXCIsXG4gICAgICAgIFwiY3VcIixcbiAgICAgICAgXCI1M1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQ3VyYcOnYW9cIixcbiAgICAgICAgXCJjd1wiLFxuICAgICAgICBcIjU5OVwiLFxuICAgICAgICAwXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiQ3lwcnVzICjOms+Nz4DPgc6/z4IpXCIsXG4gICAgICAgIFwiY3lcIixcbiAgICAgICAgXCIzNTdcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkN6ZWNoIFJlcHVibGljICjEjGVza8OhIHJlcHVibGlrYSlcIixcbiAgICAgICAgXCJjelwiLFxuICAgICAgICBcIjQyMFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiRGVubWFyayAoRGFubWFyaylcIixcbiAgICAgICAgXCJka1wiLFxuICAgICAgICBcIjQ1XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJEamlib3V0aVwiLFxuICAgICAgICBcImRqXCIsXG4gICAgICAgIFwiMjUzXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJEb21pbmljYVwiLFxuICAgICAgICBcImRtXCIsXG4gICAgICAgIFwiMTc2N1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiRG9taW5pY2FuIFJlcHVibGljIChSZXDDumJsaWNhIERvbWluaWNhbmEpXCIsXG4gICAgICAgIFwiZG9cIixcbiAgICAgICAgXCIxXCIsXG4gICAgICAgIDIsXG4gICAgICAgIFtcIjgwOVwiLCBcIjgyOVwiLCBcIjg0OVwiXVxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkVjdWFkb3JcIixcbiAgICAgICAgXCJlY1wiLFxuICAgICAgICBcIjU5M1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiRWd5cHQgKOKAq9mF2LXYseKArOKAjilcIixcbiAgICAgICAgXCJlZ1wiLFxuICAgICAgICBcIjIwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJFbCBTYWx2YWRvclwiLFxuICAgICAgICBcInN2XCIsXG4gICAgICAgIFwiNTAzXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJFcXVhdG9yaWFsIEd1aW5lYSAoR3VpbmVhIEVjdWF0b3JpYWwpXCIsXG4gICAgICAgIFwiZ3FcIixcbiAgICAgICAgXCIyNDBcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkVyaXRyZWFcIixcbiAgICAgICAgXCJlclwiLFxuICAgICAgICBcIjI5MVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiRXN0b25pYSAoRWVzdGkpXCIsXG4gICAgICAgIFwiZWVcIixcbiAgICAgICAgXCIzNzJcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkV0aGlvcGlhXCIsXG4gICAgICAgIFwiZXRcIixcbiAgICAgICAgXCIyNTFcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkZhbGtsYW5kIElzbGFuZHMgKElzbGFzIE1hbHZpbmFzKVwiLFxuICAgICAgICBcImZrXCIsXG4gICAgICAgIFwiNTAwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJGYXJvZSBJc2xhbmRzIChGw7hyb3lhcilcIixcbiAgICAgICAgXCJmb1wiLFxuICAgICAgICBcIjI5OFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiRmlqaVwiLFxuICAgICAgICBcImZqXCIsXG4gICAgICAgIFwiNjc5XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJGaW5sYW5kIChTdW9taSlcIixcbiAgICAgICAgXCJmaVwiLFxuICAgICAgICBcIjM1OFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiRnJhbmNlXCIsXG4gICAgICAgIFwiZnJcIixcbiAgICAgICAgXCIzM1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiRnJlbmNoIEd1aWFuYSAoR3V5YW5lIGZyYW7Dp2Fpc2UpXCIsXG4gICAgICAgIFwiZ2ZcIixcbiAgICAgICAgXCI1OTRcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkZyZW5jaCBQb2x5bmVzaWEgKFBvbHluw6lzaWUgZnJhbsOnYWlzZSlcIixcbiAgICAgICAgXCJwZlwiLFxuICAgICAgICBcIjY4OVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiR2Fib25cIixcbiAgICAgICAgXCJnYVwiLFxuICAgICAgICBcIjI0MVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiR2FtYmlhXCIsXG4gICAgICAgIFwiZ21cIixcbiAgICAgICAgXCIyMjBcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkdlb3JnaWEgKOGDoeGDkOGDpeGDkOGDoOGDl+GDleGDlOGDmuGDnSlcIixcbiAgICAgICAgXCJnZVwiLFxuICAgICAgICBcIjk5NVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiR2VybWFueSAoRGV1dHNjaGxhbmQpXCIsXG4gICAgICAgIFwiZGVcIixcbiAgICAgICAgXCI0OVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiR2hhbmEgKEdhYW5hKVwiLFxuICAgICAgICBcImdoXCIsXG4gICAgICAgIFwiMjMzXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJHaWJyYWx0YXJcIixcbiAgICAgICAgXCJnaVwiLFxuICAgICAgICBcIjM1MFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiR3JlZWNlICjOlc67zrvOrM60zrEpXCIsXG4gICAgICAgIFwiZ3JcIixcbiAgICAgICAgXCIzMFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiR3JlZW5sYW5kIChLYWxhYWxsaXQgTnVuYWF0KVwiLFxuICAgICAgICBcImdsXCIsXG4gICAgICAgIFwiMjk5XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJHcmVuYWRhXCIsXG4gICAgICAgIFwiZ2RcIixcbiAgICAgICAgXCIxNDczXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJHdWFkZWxvdXBlXCIsXG4gICAgICAgIFwiZ3BcIixcbiAgICAgICAgXCI1OTBcIixcbiAgICAgICAgMFxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkd1YW1cIixcbiAgICAgICAgXCJndVwiLFxuICAgICAgICBcIjE2NzFcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkd1YXRlbWFsYVwiLFxuICAgICAgICBcImd0XCIsXG4gICAgICAgIFwiNTAyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJHdWluZWEgKEd1aW7DqWUpXCIsXG4gICAgICAgIFwiZ25cIixcbiAgICAgICAgXCIyMjRcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkd1aW5lYS1CaXNzYXUgKEd1aW7DqSBCaXNzYXUpXCIsXG4gICAgICAgIFwiZ3dcIixcbiAgICAgICAgXCIyNDVcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkd1eWFuYVwiLFxuICAgICAgICBcImd5XCIsXG4gICAgICAgIFwiNTkyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJIYWl0aVwiLFxuICAgICAgICBcImh0XCIsXG4gICAgICAgIFwiNTA5XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJIb25kdXJhc1wiLFxuICAgICAgICBcImhuXCIsXG4gICAgICAgIFwiNTA0XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJIb25nIEtvbmcgKOmmmea4rylcIixcbiAgICAgICAgXCJoa1wiLFxuICAgICAgICBcIjg1MlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiSHVuZ2FyeSAoTWFneWFyb3JzesOhZylcIixcbiAgICAgICAgXCJodVwiLFxuICAgICAgICBcIjM2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJJY2VsYW5kICjDjXNsYW5kKVwiLFxuICAgICAgICBcImlzXCIsXG4gICAgICAgIFwiMzU0XCJcbiAgICBdLFxuICAgIFxuICAgIFtcbiAgICAgICAgXCJJbmRvbmVzaWFcIixcbiAgICAgICAgXCJpZFwiLFxuICAgICAgICBcIjYyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJJcmFuICjigKvYp9uM2LHYp9mG4oCs4oCOKVwiLFxuICAgICAgICBcImlyXCIsXG4gICAgICAgIFwiOThcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIklyYXEgKOKAq9in2YTYudix2KfZguKArOKAjilcIixcbiAgICAgICAgXCJpcVwiLFxuICAgICAgICBcIjk2NFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiSXJlbGFuZFwiLFxuICAgICAgICBcImllXCIsXG4gICAgICAgIFwiMzUzXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJJc3JhZWwgKOKAq9eZ16nXqNeQ15zigKzigI4pXCIsXG4gICAgICAgIFwiaWxcIixcbiAgICAgICAgXCI5NzJcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkl0YWx5IChJdGFsaWEpXCIsXG4gICAgICAgIFwiaXRcIixcbiAgICAgICAgXCIzOVwiLFxuICAgICAgICAwXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiSmFtYWljYVwiLFxuICAgICAgICBcImptXCIsXG4gICAgICAgIFwiMTg3NlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiSmFwYW4gKOaXpeacrClcIixcbiAgICAgICAgXCJqcFwiLFxuICAgICAgICBcIjgxXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJKb3JkYW4gKOKAq9in2YTYo9ix2K/ZhuKArOKAjilcIixcbiAgICAgICAgXCJqb1wiLFxuICAgICAgICBcIjk2MlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiS2F6YWtoc3RhbiAo0JrQsNC30LDRhdGB0YLQsNC9KVwiLFxuICAgICAgICBcImt6XCIsXG4gICAgICAgIFwiN1wiLFxuICAgICAgICAxXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiS2VueWFcIixcbiAgICAgICAgXCJrZVwiLFxuICAgICAgICBcIjI1NFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiS2lyaWJhdGlcIixcbiAgICAgICAgXCJraVwiLFxuICAgICAgICBcIjY4NlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiS3V3YWl0ICjigKvYp9mE2YPZiNmK2KrigKzigI4pXCIsXG4gICAgICAgIFwia3dcIixcbiAgICAgICAgXCI5NjVcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkt5cmd5enN0YW4gKNCa0YvRgNCz0YvQt9GB0YLQsNC9KVwiLFxuICAgICAgICBcImtnXCIsXG4gICAgICAgIFwiOTk2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJMYW9zICjguqXgurLguqcpXCIsXG4gICAgICAgIFwibGFcIixcbiAgICAgICAgXCI4NTZcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkxhdHZpYSAoTGF0dmlqYSlcIixcbiAgICAgICAgXCJsdlwiLFxuICAgICAgICBcIjM3MVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTGViYW5vbiAo4oCr2YTYqNmG2KfZhuKArOKAjilcIixcbiAgICAgICAgXCJsYlwiLFxuICAgICAgICBcIjk2MVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTGVzb3Rob1wiLFxuICAgICAgICBcImxzXCIsXG4gICAgICAgIFwiMjY2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJMaWJlcmlhXCIsXG4gICAgICAgIFwibHJcIixcbiAgICAgICAgXCIyMzFcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkxpYnlhICjigKvZhNmK2KjZitin4oCs4oCOKVwiLFxuICAgICAgICBcImx5XCIsXG4gICAgICAgIFwiMjE4XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJMaWVjaHRlbnN0ZWluXCIsXG4gICAgICAgIFwibGlcIixcbiAgICAgICAgXCI0MjNcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIkxpdGh1YW5pYSAoTGlldHV2YSlcIixcbiAgICAgICAgXCJsdFwiLFxuICAgICAgICBcIjM3MFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTHV4ZW1ib3VyZ1wiLFxuICAgICAgICBcImx1XCIsXG4gICAgICAgIFwiMzUyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJNYWNhdSAo5r6z6ZaAKVwiLFxuICAgICAgICBcIm1vXCIsXG4gICAgICAgIFwiODUzXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJNYWNlZG9uaWEgKEZZUk9NKSAo0JzQsNC60LXQtNC+0L3QuNGY0LApXCIsXG4gICAgICAgIFwibWtcIixcbiAgICAgICAgXCIzODlcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIk1hZGFnYXNjYXIgKE1hZGFnYXNpa2FyYSlcIixcbiAgICAgICAgXCJtZ1wiLFxuICAgICAgICBcIjI2MVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTWFsYXdpXCIsXG4gICAgICAgIFwibXdcIixcbiAgICAgICAgXCIyNjVcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIk1hbGF5c2lhXCIsXG4gICAgICAgIFwibXlcIixcbiAgICAgICAgXCI2MFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTWFsZGl2ZXNcIixcbiAgICAgICAgXCJtdlwiLFxuICAgICAgICBcIjk2MFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTWFsaVwiLFxuICAgICAgICBcIm1sXCIsXG4gICAgICAgIFwiMjIzXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJNYWx0YVwiLFxuICAgICAgICBcIm10XCIsXG4gICAgICAgIFwiMzU2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJNYXJzaGFsbCBJc2xhbmRzXCIsXG4gICAgICAgIFwibWhcIixcbiAgICAgICAgXCI2OTJcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIk1hcnRpbmlxdWVcIixcbiAgICAgICAgXCJtcVwiLFxuICAgICAgICBcIjU5NlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTWF1cml0YW5pYSAo4oCr2YXZiNix2YrYqtin2YbZitin4oCs4oCOKVwiLFxuICAgICAgICBcIm1yXCIsXG4gICAgICAgIFwiMjIyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJNYXVyaXRpdXMgKE1vcmlzKVwiLFxuICAgICAgICBcIm11XCIsXG4gICAgICAgIFwiMjMwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJNZXhpY28gKE3DqXhpY28pXCIsXG4gICAgICAgIFwibXhcIixcbiAgICAgICAgXCI1MlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTWljcm9uZXNpYVwiLFxuICAgICAgICBcImZtXCIsXG4gICAgICAgIFwiNjkxXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJNb2xkb3ZhIChSZXB1YmxpY2EgTW9sZG92YSlcIixcbiAgICAgICAgXCJtZFwiLFxuICAgICAgICBcIjM3M1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTW9uYWNvXCIsXG4gICAgICAgIFwibWNcIixcbiAgICAgICAgXCIzNzdcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIk1vbmdvbGlhICjQnNC+0L3Qs9C+0LspXCIsXG4gICAgICAgIFwibW5cIixcbiAgICAgICAgXCI5NzZcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIk1vbnRlbmVncm8gKENybmEgR29yYSlcIixcbiAgICAgICAgXCJtZVwiLFxuICAgICAgICBcIjM4MlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTW9udHNlcnJhdFwiLFxuICAgICAgICBcIm1zXCIsXG4gICAgICAgIFwiMTY2NFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTW9yb2NjbyAo4oCr2KfZhNmF2LrYsdio4oCs4oCOKVwiLFxuICAgICAgICBcIm1hXCIsXG4gICAgICAgIFwiMjEyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJNb3phbWJpcXVlIChNb8OnYW1iaXF1ZSlcIixcbiAgICAgICAgXCJtelwiLFxuICAgICAgICBcIjI1OFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTXlhbm1hciAoQnVybWEpICjhgJnhgLzhgJThgLrhgJnhgKwpXCIsXG4gICAgICAgIFwibW1cIixcbiAgICAgICAgXCI5NVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTmFtaWJpYSAoTmFtaWJpw6spXCIsXG4gICAgICAgIFwibmFcIixcbiAgICAgICAgXCIyNjRcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIk5hdXJ1XCIsXG4gICAgICAgIFwibnJcIixcbiAgICAgICAgXCI2NzRcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIk5lcGFsICjgpKjgpYfgpKrgpL7gpLIpXCIsXG4gICAgICAgIFwibnBcIixcbiAgICAgICAgXCI5NzdcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIk5ldGhlcmxhbmRzIChOZWRlcmxhbmQpXCIsXG4gICAgICAgIFwibmxcIixcbiAgICAgICAgXCIzMVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTmV3IENhbGVkb25pYSAoTm91dmVsbGUtQ2Fsw6lkb25pZSlcIixcbiAgICAgICAgXCJuY1wiLFxuICAgICAgICBcIjY4N1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTmV3IFplYWxhbmRcIixcbiAgICAgICAgXCJuelwiLFxuICAgICAgICBcIjY0XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJOaWNhcmFndWFcIixcbiAgICAgICAgXCJuaVwiLFxuICAgICAgICBcIjUwNVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTmlnZXIgKE5pamFyKVwiLFxuICAgICAgICBcIm5lXCIsXG4gICAgICAgIFwiMjI3XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJOaWdlcmlhXCIsXG4gICAgICAgIFwibmdcIixcbiAgICAgICAgXCIyMzRcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIk5pdWVcIixcbiAgICAgICAgXCJudVwiLFxuICAgICAgICBcIjY4M1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTm9yZm9sayBJc2xhbmRcIixcbiAgICAgICAgXCJuZlwiLFxuICAgICAgICBcIjY3MlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTm9ydGggS29yZWEgKOyhsOyEoCDrr7zso7zso7zsnZgg7J2466+8IOqzte2ZlOq1rSlcIixcbiAgICAgICAgXCJrcFwiLFxuICAgICAgICBcIjg1MFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiTm9ydGhlcm4gTWFyaWFuYSBJc2xhbmRzXCIsXG4gICAgICAgIFwibXBcIixcbiAgICAgICAgXCIxNjcwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJOb3J3YXkgKE5vcmdlKVwiLFxuICAgICAgICBcIm5vXCIsXG4gICAgICAgIFwiNDdcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIk9tYW4gKOKAq9i52Y/Zhdin2YbigKzigI4pXCIsXG4gICAgICAgIFwib21cIixcbiAgICAgICAgXCI5NjhcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlBha2lzdGFuICjigKvZvtin2qnYs9iq2KfZhuKArOKAjilcIixcbiAgICAgICAgXCJwa1wiLFxuICAgICAgICBcIjkyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJQYWxhdVwiLFxuICAgICAgICBcInB3XCIsXG4gICAgICAgIFwiNjgwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJQYWxlc3RpbmUgKOKAq9mB2YTYs9i32YrZhuKArOKAjilcIixcbiAgICAgICAgXCJwc1wiLFxuICAgICAgICBcIjk3MFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiUGFuYW1hIChQYW5hbcOhKVwiLFxuICAgICAgICBcInBhXCIsXG4gICAgICAgIFwiNTA3XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJQYXB1YSBOZXcgR3VpbmVhXCIsXG4gICAgICAgIFwicGdcIixcbiAgICAgICAgXCI2NzVcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlBhcmFndWF5XCIsXG4gICAgICAgIFwicHlcIixcbiAgICAgICAgXCI1OTVcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlBlcnUgKFBlcsO6KVwiLFxuICAgICAgICBcInBlXCIsXG4gICAgICAgIFwiNTFcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlBoaWxpcHBpbmVzXCIsXG4gICAgICAgIFwicGhcIixcbiAgICAgICAgXCI2M1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiUG9sYW5kIChQb2xza2EpXCIsXG4gICAgICAgIFwicGxcIixcbiAgICAgICAgXCI0OFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiUG9ydHVnYWxcIixcbiAgICAgICAgXCJwdFwiLFxuICAgICAgICBcIjM1MVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiUHVlcnRvIFJpY29cIixcbiAgICAgICAgXCJwclwiLFxuICAgICAgICBcIjFcIixcbiAgICAgICAgMyxcbiAgICAgICAgW1wiNzg3XCIsIFwiOTM5XCJdXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiUWF0YXIgKOKAq9mC2LfYseKArOKAjilcIixcbiAgICAgICAgXCJxYVwiLFxuICAgICAgICBcIjk3NFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiUsOpdW5pb24gKExhIFLDqXVuaW9uKVwiLFxuICAgICAgICBcInJlXCIsXG4gICAgICAgIFwiMjYyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJSb21hbmlhIChSb23Dom5pYSlcIixcbiAgICAgICAgXCJyb1wiLFxuICAgICAgICBcIjQwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJSdXNzaWEgKNCg0L7RgdGB0LjRjylcIixcbiAgICAgICAgXCJydVwiLFxuICAgICAgICBcIjdcIixcbiAgICAgICAgMFxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlJ3YW5kYVwiLFxuICAgICAgICBcInJ3XCIsXG4gICAgICAgIFwiMjUwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTYWludCBCYXJ0aMOpbGVteSAoU2FpbnQtQmFydGjDqWxlbXkpXCIsXG4gICAgICAgIFwiYmxcIixcbiAgICAgICAgXCI1OTBcIixcbiAgICAgICAgMVxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlNhaW50IEhlbGVuYVwiLFxuICAgICAgICBcInNoXCIsXG4gICAgICAgIFwiMjkwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTYWludCBLaXR0cyBhbmQgTmV2aXNcIixcbiAgICAgICAgXCJrblwiLFxuICAgICAgICBcIjE4NjlcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlNhaW50IEx1Y2lhXCIsXG4gICAgICAgIFwibGNcIixcbiAgICAgICAgXCIxNzU4XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTYWludCBNYXJ0aW4gKFNhaW50LU1hcnRpbiAocGFydGllIGZyYW7Dp2Fpc2UpKVwiLFxuICAgICAgICBcIm1mXCIsXG4gICAgICAgIFwiNTkwXCIsXG4gICAgICAgIDJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTYWludCBQaWVycmUgYW5kIE1pcXVlbG9uIChTYWludC1QaWVycmUtZXQtTWlxdWVsb24pXCIsXG4gICAgICAgIFwicG1cIixcbiAgICAgICAgXCI1MDhcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlNhaW50IFZpbmNlbnQgYW5kIHRoZSBHcmVuYWRpbmVzXCIsXG4gICAgICAgIFwidmNcIixcbiAgICAgICAgXCIxNzg0XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTYW1vYVwiLFxuICAgICAgICBcIndzXCIsXG4gICAgICAgIFwiNjg1XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTYW4gTWFyaW5vXCIsXG4gICAgICAgIFwic21cIixcbiAgICAgICAgXCIzNzhcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlPDo28gVG9tw6kgYW5kIFByw61uY2lwZSAoU8OjbyBUb23DqSBlIFByw61uY2lwZSlcIixcbiAgICAgICAgXCJzdFwiLFxuICAgICAgICBcIjIzOVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiU2F1ZGkgQXJhYmlhICjigKvYp9mE2YXZhdmE2YPYqSDYp9mE2LnYsdio2YrYqSDYp9mE2LPYudmI2K/Zitip4oCs4oCOKVwiLFxuICAgICAgICBcInNhXCIsXG4gICAgICAgIFwiOTY2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTZW5lZ2FsIChTw6luw6lnYWwpXCIsXG4gICAgICAgIFwic25cIixcbiAgICAgICAgXCIyMjFcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlNlcmJpYSAo0KHRgNCx0LjRmNCwKVwiLFxuICAgICAgICBcInJzXCIsXG4gICAgICAgIFwiMzgxXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTZXljaGVsbGVzXCIsXG4gICAgICAgIFwic2NcIixcbiAgICAgICAgXCIyNDhcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlNpZXJyYSBMZW9uZVwiLFxuICAgICAgICBcInNsXCIsXG4gICAgICAgIFwiMjMyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTaW5nYXBvcmVcIixcbiAgICAgICAgXCJzZ1wiLFxuICAgICAgICBcIjY1XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTaW50IE1hYXJ0ZW5cIixcbiAgICAgICAgXCJzeFwiLFxuICAgICAgICBcIjE3MjFcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlNsb3Zha2lhIChTbG92ZW5za28pXCIsXG4gICAgICAgIFwic2tcIixcbiAgICAgICAgXCI0MjFcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlNsb3ZlbmlhIChTbG92ZW5pamEpXCIsXG4gICAgICAgIFwic2lcIixcbiAgICAgICAgXCIzODZcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlNvbG9tb24gSXNsYW5kc1wiLFxuICAgICAgICBcInNiXCIsXG4gICAgICAgIFwiNjc3XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTb21hbGlhIChTb29tYWFsaXlhKVwiLFxuICAgICAgICBcInNvXCIsXG4gICAgICAgIFwiMjUyXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTb3V0aCBBZnJpY2FcIixcbiAgICAgICAgXCJ6YVwiLFxuICAgICAgICBcIjI3XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTb3V0aCBLb3JlYSAo64yA7ZWc66+86rWtKVwiLFxuICAgICAgICBcImtyXCIsXG4gICAgICAgIFwiODJcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlNvdXRoIFN1ZGFuICjigKvYrNmG2YjYqCDYp9mE2LPZiNiv2KfZhuKArOKAjilcIixcbiAgICAgICAgXCJzc1wiLFxuICAgICAgICBcIjIxMVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiU3BhaW4gKEVzcGHDsWEpXCIsXG4gICAgICAgIFwiZXNcIixcbiAgICAgICAgXCIzNFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiU3JpIExhbmthICjgt4Hgt4rigI3gtrvgt5Mg4La94LaC4Laa4LeP4LeAKVwiLFxuICAgICAgICBcImxrXCIsXG4gICAgICAgIFwiOTRcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlN1ZGFuICjigKvYp9mE2LPZiNiv2KfZhuKArOKAjilcIixcbiAgICAgICAgXCJzZFwiLFxuICAgICAgICBcIjI0OVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiU3VyaW5hbWVcIixcbiAgICAgICAgXCJzclwiLFxuICAgICAgICBcIjU5N1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiU3dhemlsYW5kXCIsXG4gICAgICAgIFwic3pcIixcbiAgICAgICAgXCIyNjhcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlN3ZWRlbiAoU3ZlcmlnZSlcIixcbiAgICAgICAgXCJzZVwiLFxuICAgICAgICBcIjQ2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTd2l0emVybGFuZCAoU2Nod2VpeilcIixcbiAgICAgICAgXCJjaFwiLFxuICAgICAgICBcIjQxXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJTeXJpYSAo4oCr2LPZiNix2YrYp+KArOKAjilcIixcbiAgICAgICAgXCJzeVwiLFxuICAgICAgICBcIjk2M1wiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVGFpd2FuICjlj7DngaMpXCIsXG4gICAgICAgIFwidHdcIixcbiAgICAgICAgXCI4ODZcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlRhamlraXN0YW5cIixcbiAgICAgICAgXCJ0alwiLFxuICAgICAgICBcIjk5MlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVGFuemFuaWFcIixcbiAgICAgICAgXCJ0elwiLFxuICAgICAgICBcIjI1NVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVGhhaWxhbmQgKOC5hOC4l+C4oilcIixcbiAgICAgICAgXCJ0aFwiLFxuICAgICAgICBcIjY2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJUaW1vci1MZXN0ZVwiLFxuICAgICAgICBcInRsXCIsXG4gICAgICAgIFwiNjcwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJUb2dvXCIsXG4gICAgICAgIFwidGdcIixcbiAgICAgICAgXCIyMjhcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlRva2VsYXVcIixcbiAgICAgICAgXCJ0a1wiLFxuICAgICAgICBcIjY5MFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVG9uZ2FcIixcbiAgICAgICAgXCJ0b1wiLFxuICAgICAgICBcIjY3NlwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVHJpbmlkYWQgYW5kIFRvYmFnb1wiLFxuICAgICAgICBcInR0XCIsXG4gICAgICAgIFwiMTg2OFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVHVuaXNpYSAo4oCr2KrZiNmG2LPigKzigI4pXCIsXG4gICAgICAgIFwidG5cIixcbiAgICAgICAgXCIyMTZcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlR1cmtleSAoVMO8cmtpeWUpXCIsXG4gICAgICAgIFwidHJcIixcbiAgICAgICAgXCI5MFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVHVya21lbmlzdGFuXCIsXG4gICAgICAgIFwidG1cIixcbiAgICAgICAgXCI5OTNcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlR1cmtzIGFuZCBDYWljb3MgSXNsYW5kc1wiLFxuICAgICAgICBcInRjXCIsXG4gICAgICAgIFwiMTY0OVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVHV2YWx1XCIsXG4gICAgICAgIFwidHZcIixcbiAgICAgICAgXCI2ODhcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlUuUy4gVmlyZ2luIElzbGFuZHNcIixcbiAgICAgICAgXCJ2aVwiLFxuICAgICAgICBcIjEzNDBcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlVnYW5kYVwiLFxuICAgICAgICBcInVnXCIsXG4gICAgICAgIFwiMjU2XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJVa3JhaW5lICjQo9C60YDQsNGX0L3QsClcIixcbiAgICAgICAgXCJ1YVwiLFxuICAgICAgICBcIjM4MFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVW5pdGVkIEFyYWIgRW1pcmF0ZXMgKOKAq9in2YTYpdmF2KfYsdin2Kog2KfZhNi52LHYqNmK2Kkg2KfZhNmF2KrYrdiv2KnigKzigI4pXCIsXG4gICAgICAgIFwiYWVcIixcbiAgICAgICAgXCI5NzFcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlVuaXRlZCBLaW5nZG9tXCIsXG4gICAgICAgIFwiZ2JcIixcbiAgICAgICAgXCI0NFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVW5pdGVkIFN0YXRlc1wiLFxuICAgICAgICBcInVzXCIsXG4gICAgICAgIFwiMVwiLFxuICAgICAgICAwXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVXJ1Z3VheVwiLFxuICAgICAgICBcInV5XCIsXG4gICAgICAgIFwiNTk4XCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJVemJla2lzdGFuIChPyrt6YmVraXN0b24pXCIsXG4gICAgICAgIFwidXpcIixcbiAgICAgICAgXCI5OThcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlZhbnVhdHVcIixcbiAgICAgICAgXCJ2dVwiLFxuICAgICAgICBcIjY3OFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiVmF0aWNhbiBDaXR5IChDaXR0w6AgZGVsIFZhdGljYW5vKVwiLFxuICAgICAgICBcInZhXCIsXG4gICAgICAgIFwiMzlcIixcbiAgICAgICAgMVxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlZlbmV6dWVsYVwiLFxuICAgICAgICBcInZlXCIsXG4gICAgICAgIFwiNThcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlZpZXRuYW0gKFZp4buHdCBOYW0pXCIsXG4gICAgICAgIFwidm5cIixcbiAgICAgICAgXCI4NFwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiV2FsbGlzIGFuZCBGdXR1bmFcIixcbiAgICAgICAgXCJ3ZlwiLFxuICAgICAgICBcIjY4MVwiXG4gICAgXSxcbiAgICBbXG4gICAgICAgIFwiWWVtZW4gKOKAq9in2YTZitmF2YbigKzigI4pXCIsXG4gICAgICAgIFwieWVcIixcbiAgICAgICAgXCI5NjdcIlxuICAgIF0sXG4gICAgW1xuICAgICAgICBcIlphbWJpYVwiLFxuICAgICAgICBcInptXCIsXG4gICAgICAgIFwiMjYwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgICAgXCJaaW1iYWJ3ZVwiLFxuICAgICAgICBcInp3XCIsXG4gICAgICAgIFwiMjYzXCJcbiAgICBdXG5dO1xuXG52YXIgb3B0aW9ucyA9IFtdO1xuXG4vLyBsb29wIG92ZXIgYWxsIG9mIHRoZSBjb3VudHJpZXMgYWJvdmVcbmZvciAodmFyIGkgPSAwOyBpIDwgYWxsQ291bnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGMgPSBhbGxDb3VudHJpZXNbaV07XG4gICAgb3B0aW9uc1tpXSA9IHtcbiAgICAgICAgaWQ6ICcrJyArIGNbMl0sXG4gICAgICAgIHZhbHVlOiAnKycgKyBjWzJdLFxuICAgICAgICB0ZXh0OiBjWzBdICsgJyA8c3BhbiBjbGFzcz1cInNtYWxsXCI+KycgKyBjWzJdICsgJzwvc3Bhbj4nLFxuICAgIH07XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBpc29sYXRlZDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogTU9CSUxFID8gJzxkaXYgY2xhc3M9XCJzZWxlY3RcIj48L2Rpdj4nIDogcmVxdWlyZSgndGVtcGxhdGVzL2NvbXBvbmVudHMvZm9ybS9zZWxlY3QuaHRtbCcpLFxuXG4gICAgZGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKE1PQklMRSkge1xuICAgICAgICAgICAgdmFyIGVsID0gJCh0aGlzLmZpbmQoJy5zZWxlY3QnKSk7XG5cbiAgICAgICAgICAgIHZhciB2aWV3ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBkZWJvdW5jZSxcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZCA9IG9wdGlvbnMuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICBxdWVyeSA9ICcnLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ7XG5cbiAgICAgICAgICAgIGVsLm1vYmlzY3JvbGwoKS5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtdLFxuICAgICAgICAgICAgICAgIHRoZW1lOiAnbW9iaXNjcm9sbCcsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ3RvcCcsXG4gICAgICAgICAgICAgICAgZGF0YTogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJys5MScsXG4gICAgICAgICAgICAgICAgbGF5b3V0OiAnbGlxdWlkJyxcbiAgICAgICAgICAgICAgICBzaG93TGFiZWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhlaWdodDogNDAsXG4gICAgICAgICAgICAgICAgcm93czogMyxcbiAgICAgICAgICAgICAgICBvbk1hcmt1cFJlYWR5OiBmdW5jdGlvbiAobWFya3VwLCBpbnN0KSB7XG4gICAgICAgICAgICAgICAgICAgICQoJzxkaXYgc3R5bGU9XCJwYWRkaW5nOi41ZW1cIj48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm1kLWZpbHRlci1pbnB1dFwiIHZhbHVlPVwiKzkxXCIgdGFiaW5kZXg9XCIwXCIgcGxhY2Vob2xkZXI9XCJDb3VudHJ5IGNvZGVcIiAvPjwvZGl2PicpXG4gICAgICAgICAgICAgICAgICAgICAgICAucHJlcGVuZFRvKCQoJy5kd2NjJywgbWFya3VwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhhdCA9ICQoJ2lucHV0JywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IHRoYXQudmFsKCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZCA9ICQuZ3JlcChvcHRpb25zLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsLmlkLmluZGV4T2YocXVlcnkpID4gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3Quc2V0dGluZ3MuZGF0YSA9IGZpbHRlcmVkLmxlbmd0aCA/IGZpbHRlcmVkIDogW3t0ZXh0OiAnTm8gcmVzdWx0cycsIHZhbHVlOiAnJ31dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0LnNldHRpbmdzLnBhcnNlVmFsdWUoaW5zdC5zZXR0aW5ncy5kYXRhWzBdLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdC5yZWZyZXNoKCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25CZWZvcmVTaG93OiBmdW5jdGlvbiAoaW5zdCkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0LnNldHRpbmdzLmRhdGEgPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBpbnN0LnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uU2VsZWN0OiBmdW5jdGlvbiAodiwgaW5zdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICQoJzxzcGFuPicgKyB2ICsgJzwvc3Bhbj4nKS5maW5kKCcuc21hbGwnKS50ZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ3ZhbHVlJywgY29kZSk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5tYnNjLWNvbnRyb2wnLCB2aWV3LmVsKS52YWwoY29kZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgICAgICAkKCcubWJzYy1jb250cm9sJywgdmlldy5lbCkudmFsKHYpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Jbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLm1ic2MtY29udHJvbCcsIHZpZXcuZWwpLnZhbCh2aWV3LmdldCgndmFsdWUnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZWwgPSAkKHRoaXMuZmluZCgnLnVpLmRyb3Bkb3duJykpXG4gICAgICAgICAgICAgICAgICAgIC5kcm9wZG93bih7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdWxsVGV4dFNlYXJjaDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRyb3Bkb3duKCdoaWRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCd2YWx1ZScsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy51cGRhdGUoJ3ZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5kZWxheShmdW5jdGlvbigpIHsgaWYgKHZpZXcuZ2V0KCdlcnJvcicpKSB2aWV3LnNldCgnZXJyb3InLCBmYWxzZSkgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICB0aGlzLm9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLmdldCgnb3B0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBfLmZpbmQob3B0aW9ucywge2lkOiB2YWx1ZX0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmRyb3Bkb3duKCdzZXQgdmFsdWUnLCBvLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5kcm9wZG93bignc2V0IHRleHQnLCBvLmlkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWwuZHJvcGRvd24oJ3Jlc3RvcmUgZGVmYXVsdHMnKTtcblxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZmluZCgnLnNlYXJjaCcpKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzLmZpbmQoJy5zZWFyY2gnKSkua2V5cHJlc3MoZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmICggZS53aGljaCA9PSAxMyApIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICB9LFxuXG4gICAgb250ZWFkb3duOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy90aGlzLnNldCgnb3B0aW9ucycsIG51bGwpO1xuICAgIH1cbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29yZS9mb3JtL2NvZGUuanNcbi8vIG1vZHVsZSBpZCA9IDg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWFpbGNoZWNrID0gcmVxdWlyZSgnbWFpbGNoZWNrJyk7XG5cbnZhciBJbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnB1dC5leHRlbmQoe1xuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2VtYWlsJ1xuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBvbmNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fc3VwZXIoKTtcblxuICAgICAgICB2YXIgdmlldyA9IHRoaXM7XG4gICAgICAgICQodGhpcy5maW5kKCdpbnB1dCcpKVxuICAgICAgICAgICAgLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5tYWlsY2hlY2soe1xuICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHN1Z2dlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdzdWdnZXN0aW9uJywgc3VnZ2VzdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgnc3VnZ2VzdGlvbicsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgY29ycmVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0KCd2YWx1ZScsIHRoaXMuZ2V0KCdzdWdnZXN0aW9uLmZ1bGwnKSk7XG4gICAgICAgIHRoaXMuc2V0KCdzdWdnZXN0aW9uJywgbnVsbCk7XG4gICAgfVxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb3JlL2Zvcm0vZW1haWwuanNcbi8vIG1vZHVsZSBpZCA9IDg2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IDggOSIsIi8qXG4gKiBNYWlsY2hlY2sgaHR0cHM6Ly9naXRodWIuY29tL21haWxjaGVjay9tYWlsY2hlY2tcbiAqIEF1dGhvclxuICogRGVycmljayBLbyAoQGRlcnJpY2trbylcbiAqXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKlxuICogdiAxLjEuMlxuICovXG5cbnZhciBNYWlsY2hlY2sgPSB7XG4gIGRvbWFpblRocmVzaG9sZDogMixcbiAgc2Vjb25kTGV2ZWxUaHJlc2hvbGQ6IDIsXG4gIHRvcExldmVsVGhyZXNob2xkOiAyLFxuXG4gIGRlZmF1bHREb21haW5zOiBbJ21zbi5jb20nLCAnYmVsbHNvdXRoLm5ldCcsXG4gICAgJ3RlbHVzLm5ldCcsICdjb21jYXN0Lm5ldCcsICdvcHR1c25ldC5jb20uYXUnLFxuICAgICdlYXJ0aGxpbmsubmV0JywgJ3FxLmNvbScsICdza3kuY29tJywgJ2ljbG91ZC5jb20nLFxuICAgICdtYWMuY29tJywgJ3N5bXBhdGljby5jYScsICdnb29nbGVtYWlsLmNvbScsXG4gICAgJ2F0dC5uZXQnLCAneHRyYS5jby5ueicsICd3ZWIuZGUnLFxuICAgICdjb3gubmV0JywgJ2dtYWlsLmNvbScsICd5bWFpbC5jb20nLFxuICAgICdhaW0uY29tJywgJ3JvZ2Vycy5jb20nLCAndmVyaXpvbi5uZXQnLFxuICAgICdyb2NrZXRtYWlsLmNvbScsICdnb29nbGUuY29tJywgJ29wdG9ubGluZS5uZXQnLFxuICAgICdzYmNnbG9iYWwubmV0JywgJ2FvbC5jb20nLCAnbWUuY29tJywgJ2J0aW50ZXJuZXQuY29tJyxcbiAgICAnY2hhcnRlci5uZXQnLCAnc2hhdy5jYSddLFxuXG4gIGRlZmF1bHRTZWNvbmRMZXZlbERvbWFpbnM6IFtcInlhaG9vXCIsIFwiaG90bWFpbFwiLCBcIm1haWxcIiwgXCJsaXZlXCIsIFwib3V0bG9va1wiLCBcImdteFwiXSxcblxuICBkZWZhdWx0VG9wTGV2ZWxEb21haW5zOiBbXCJjb21cIiwgXCJjb20uYXVcIiwgXCJjb20udHdcIiwgXCJjYVwiLCBcImNvLm56XCIsIFwiY28udWtcIiwgXCJkZVwiLFxuICAgIFwiZnJcIiwgXCJpdFwiLCBcInJ1XCIsIFwibmV0XCIsIFwib3JnXCIsIFwiZWR1XCIsIFwiZ292XCIsIFwianBcIiwgXCJubFwiLCBcImtyXCIsIFwic2VcIiwgXCJldVwiLFxuICAgIFwiaWVcIiwgXCJjby5pbFwiLCBcInVzXCIsIFwiYXRcIiwgXCJiZVwiLCBcImRrXCIsIFwiaGtcIiwgXCJlc1wiLCBcImdyXCIsIFwiY2hcIiwgXCJub1wiLCBcImN6XCIsXG4gICAgXCJpblwiLCBcIm5ldFwiLCBcIm5ldC5hdVwiLCBcImluZm9cIiwgXCJiaXpcIiwgXCJtaWxcIiwgXCJjby5qcFwiLCBcInNnXCIsIFwiaHVcIiwgXCJ1a1wiXSxcblxuICBydW46IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICBvcHRzLmRvbWFpbnMgPSBvcHRzLmRvbWFpbnMgfHwgTWFpbGNoZWNrLmRlZmF1bHREb21haW5zO1xuICAgIG9wdHMuc2Vjb25kTGV2ZWxEb21haW5zID0gb3B0cy5zZWNvbmRMZXZlbERvbWFpbnMgfHwgTWFpbGNoZWNrLmRlZmF1bHRTZWNvbmRMZXZlbERvbWFpbnM7XG4gICAgb3B0cy50b3BMZXZlbERvbWFpbnMgPSBvcHRzLnRvcExldmVsRG9tYWlucyB8fCBNYWlsY2hlY2suZGVmYXVsdFRvcExldmVsRG9tYWlucztcbiAgICBvcHRzLmRpc3RhbmNlRnVuY3Rpb24gPSBvcHRzLmRpc3RhbmNlRnVuY3Rpb24gfHwgTWFpbGNoZWNrLnNpZnQzRGlzdGFuY2U7XG5cbiAgICB2YXIgZGVmYXVsdENhbGxiYWNrID0gZnVuY3Rpb24ocmVzdWx0KXsgcmV0dXJuIHJlc3VsdCB9O1xuICAgIHZhciBzdWdnZXN0ZWRDYWxsYmFjayA9IG9wdHMuc3VnZ2VzdGVkIHx8IGRlZmF1bHRDYWxsYmFjaztcbiAgICB2YXIgZW1wdHlDYWxsYmFjayA9IG9wdHMuZW1wdHkgfHwgZGVmYXVsdENhbGxiYWNrO1xuXG4gICAgdmFyIHJlc3VsdCA9IE1haWxjaGVjay5zdWdnZXN0KE1haWxjaGVjay5lbmNvZGVFbWFpbChvcHRzLmVtYWlsKSwgb3B0cy5kb21haW5zLCBvcHRzLnNlY29uZExldmVsRG9tYWlucywgb3B0cy50b3BMZXZlbERvbWFpbnMsIG9wdHMuZGlzdGFuY2VGdW5jdGlvbik7XG5cbiAgICByZXR1cm4gcmVzdWx0ID8gc3VnZ2VzdGVkQ2FsbGJhY2socmVzdWx0KSA6IGVtcHR5Q2FsbGJhY2soKVxuICB9LFxuXG4gIHN1Z2dlc3Q6IGZ1bmN0aW9uKGVtYWlsLCBkb21haW5zLCBzZWNvbmRMZXZlbERvbWFpbnMsIHRvcExldmVsRG9tYWlucywgZGlzdGFuY2VGdW5jdGlvbikge1xuICAgIGVtYWlsID0gZW1haWwudG9Mb3dlckNhc2UoKTtcblxuICAgIHZhciBlbWFpbFBhcnRzID0gdGhpcy5zcGxpdEVtYWlsKGVtYWlsKTtcblxuICAgIGlmIChzZWNvbmRMZXZlbERvbWFpbnMgJiYgdG9wTGV2ZWxEb21haW5zKSB7XG4gICAgICAgIC8vIElmIHRoZSBlbWFpbCBpcyBhIHZhbGlkIDJuZC1sZXZlbCArIHRvcC1sZXZlbCwgZG8gbm90IHN1Z2dlc3QgYW55dGhpbmcuXG4gICAgICAgIGlmIChzZWNvbmRMZXZlbERvbWFpbnMuaW5kZXhPZihlbWFpbFBhcnRzLnNlY29uZExldmVsRG9tYWluKSAhPT0gLTEgJiYgdG9wTGV2ZWxEb21haW5zLmluZGV4T2YoZW1haWxQYXJ0cy50b3BMZXZlbERvbWFpbikgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY2xvc2VzdERvbWFpbiA9IHRoaXMuZmluZENsb3Nlc3REb21haW4oZW1haWxQYXJ0cy5kb21haW4sIGRvbWFpbnMsIGRpc3RhbmNlRnVuY3Rpb24sIHRoaXMuZG9tYWluVGhyZXNob2xkKTtcblxuICAgIGlmIChjbG9zZXN0RG9tYWluKSB7XG4gICAgICBpZiAoY2xvc2VzdERvbWFpbiA9PSBlbWFpbFBhcnRzLmRvbWFpbikge1xuICAgICAgICAvLyBUaGUgZW1haWwgYWRkcmVzcyBleGFjdGx5IG1hdGNoZXMgb25lIG9mIHRoZSBzdXBwbGllZCBkb21haW5zOyBkbyBub3QgcmV0dXJuIGEgc3VnZ2VzdGlvbi5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlIGVtYWlsIGFkZHJlc3MgY2xvc2VseSBtYXRjaGVzIG9uZSBvZiB0aGUgc3VwcGxpZWQgZG9tYWluczsgcmV0dXJuIGEgc3VnZ2VzdGlvblxuICAgICAgICByZXR1cm4geyBhZGRyZXNzOiBlbWFpbFBhcnRzLmFkZHJlc3MsIGRvbWFpbjogY2xvc2VzdERvbWFpbiwgZnVsbDogZW1haWxQYXJ0cy5hZGRyZXNzICsgXCJAXCIgKyBjbG9zZXN0RG9tYWluIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhlIGVtYWlsIGFkZHJlc3MgZG9lcyBub3QgY2xvc2VseSBtYXRjaCBvbmUgb2YgdGhlIHN1cHBsaWVkIGRvbWFpbnNcbiAgICB2YXIgY2xvc2VzdFNlY29uZExldmVsRG9tYWluID0gdGhpcy5maW5kQ2xvc2VzdERvbWFpbihlbWFpbFBhcnRzLnNlY29uZExldmVsRG9tYWluLCBzZWNvbmRMZXZlbERvbWFpbnMsIGRpc3RhbmNlRnVuY3Rpb24sIHRoaXMuc2Vjb25kTGV2ZWxUaHJlc2hvbGQpO1xuICAgIHZhciBjbG9zZXN0VG9wTGV2ZWxEb21haW4gICAgPSB0aGlzLmZpbmRDbG9zZXN0RG9tYWluKGVtYWlsUGFydHMudG9wTGV2ZWxEb21haW4sIHRvcExldmVsRG9tYWlucywgZGlzdGFuY2VGdW5jdGlvbiwgdGhpcy50b3BMZXZlbFRocmVzaG9sZCk7XG5cbiAgICBpZiAoZW1haWxQYXJ0cy5kb21haW4pIHtcbiAgICAgIHZhciBjbG9zZXN0RG9tYWluID0gZW1haWxQYXJ0cy5kb21haW47XG4gICAgICB2YXIgcnRybiA9IGZhbHNlO1xuXG4gICAgICBpZihjbG9zZXN0U2Vjb25kTGV2ZWxEb21haW4gJiYgY2xvc2VzdFNlY29uZExldmVsRG9tYWluICE9IGVtYWlsUGFydHMuc2Vjb25kTGV2ZWxEb21haW4pIHtcbiAgICAgICAgLy8gVGhlIGVtYWlsIGFkZHJlc3MgbWF5IGhhdmUgYSBtaXNwZWxsZWQgc2Vjb25kLWxldmVsIGRvbWFpbjsgcmV0dXJuIGEgc3VnZ2VzdGlvblxuICAgICAgICBjbG9zZXN0RG9tYWluID0gY2xvc2VzdERvbWFpbi5yZXBsYWNlKGVtYWlsUGFydHMuc2Vjb25kTGV2ZWxEb21haW4sIGNsb3Nlc3RTZWNvbmRMZXZlbERvbWFpbik7XG4gICAgICAgIHJ0cm4gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZihjbG9zZXN0VG9wTGV2ZWxEb21haW4gJiYgY2xvc2VzdFRvcExldmVsRG9tYWluICE9IGVtYWlsUGFydHMudG9wTGV2ZWxEb21haW4pIHtcbiAgICAgICAgLy8gVGhlIGVtYWlsIGFkZHJlc3MgbWF5IGhhdmUgYSBtaXNwZWxsZWQgdG9wLWxldmVsIGRvbWFpbjsgcmV0dXJuIGEgc3VnZ2VzdGlvblxuICAgICAgICBjbG9zZXN0RG9tYWluID0gY2xvc2VzdERvbWFpbi5yZXBsYWNlKG5ldyBSZWdFeHAoZW1haWxQYXJ0cy50b3BMZXZlbERvbWFpbiArIFwiJFwiKSwgY2xvc2VzdFRvcExldmVsRG9tYWluKTtcbiAgICAgICAgcnRybiA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChydHJuID09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHsgYWRkcmVzczogZW1haWxQYXJ0cy5hZGRyZXNzLCBkb21haW46IGNsb3Nlc3REb21haW4sIGZ1bGw6IGVtYWlsUGFydHMuYWRkcmVzcyArIFwiQFwiICsgY2xvc2VzdERvbWFpbiB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qIFRoZSBlbWFpbCBhZGRyZXNzIGV4YWN0bHkgbWF0Y2hlcyBvbmUgb2YgdGhlIHN1cHBsaWVkIGRvbWFpbnMsIGRvZXMgbm90IGNsb3NlbHlcbiAgICAgKiBtYXRjaCBhbnkgZG9tYWluIGFuZCBkb2VzIG5vdCBhcHBlYXIgdG8gc2ltcGx5IGhhdmUgYSBtaXNwZWxsZWQgdG9wLWxldmVsIGRvbWFpbixcbiAgICAgKiBvciBpcyBhbiBpbnZhbGlkIGVtYWlsIGFkZHJlc3M7IGRvIG5vdCByZXR1cm4gYSBzdWdnZXN0aW9uLlxuICAgICAqL1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICBmaW5kQ2xvc2VzdERvbWFpbjogZnVuY3Rpb24oZG9tYWluLCBkb21haW5zLCBkaXN0YW5jZUZ1bmN0aW9uLCB0aHJlc2hvbGQpIHtcbiAgICB0aHJlc2hvbGQgPSB0aHJlc2hvbGQgfHwgdGhpcy50b3BMZXZlbFRocmVzaG9sZDtcbiAgICB2YXIgZGlzdDtcbiAgICB2YXIgbWluRGlzdCA9IEluZmluaXR5O1xuICAgIHZhciBjbG9zZXN0RG9tYWluID0gbnVsbDtcblxuICAgIGlmICghZG9tYWluIHx8ICFkb21haW5zKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmKCFkaXN0YW5jZUZ1bmN0aW9uKSB7XG4gICAgICBkaXN0YW5jZUZ1bmN0aW9uID0gdGhpcy5zaWZ0M0Rpc3RhbmNlO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9tYWlucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGRvbWFpbiA9PT0gZG9tYWluc1tpXSkge1xuICAgICAgICByZXR1cm4gZG9tYWluO1xuICAgICAgfVxuICAgICAgZGlzdCA9IGRpc3RhbmNlRnVuY3Rpb24oZG9tYWluLCBkb21haW5zW2ldKTtcbiAgICAgIGlmIChkaXN0IDwgbWluRGlzdCkge1xuICAgICAgICBtaW5EaXN0ID0gZGlzdDtcbiAgICAgICAgY2xvc2VzdERvbWFpbiA9IGRvbWFpbnNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1pbkRpc3QgPD0gdGhyZXNob2xkICYmIGNsb3Nlc3REb21haW4gIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBjbG9zZXN0RG9tYWluO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIHNpZnQzRGlzdGFuY2U6IGZ1bmN0aW9uKHMxLCBzMikge1xuICAgIC8vIHNpZnQzOiBodHRwOi8vc2lkZXJpdGUuYmxvZ3Nwb3QuY29tLzIwMDcvMDQvc3VwZXItZmFzdC1hbmQtYWNjdXJhdGUtc3RyaW5nLWRpc3RhbmNlLmh0bWxcbiAgICBpZiAoczEgPT0gbnVsbCB8fCBzMS5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmIChzMiA9PSBudWxsIHx8IHMyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzMi5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHMyID09IG51bGwgfHwgczIubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gczEubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBjID0gMDtcbiAgICB2YXIgb2Zmc2V0MSA9IDA7XG4gICAgdmFyIG9mZnNldDIgPSAwO1xuICAgIHZhciBsY3MgPSAwO1xuICAgIHZhciBtYXhPZmZzZXQgPSA1O1xuXG4gICAgd2hpbGUgKChjICsgb2Zmc2V0MSA8IHMxLmxlbmd0aCkgJiYgKGMgKyBvZmZzZXQyIDwgczIubGVuZ3RoKSkge1xuICAgICAgaWYgKHMxLmNoYXJBdChjICsgb2Zmc2V0MSkgPT0gczIuY2hhckF0KGMgKyBvZmZzZXQyKSkge1xuICAgICAgICBsY3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9mZnNldDEgPSAwO1xuICAgICAgICBvZmZzZXQyID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhPZmZzZXQ7IGkrKykge1xuICAgICAgICAgIGlmICgoYyArIGkgPCBzMS5sZW5ndGgpICYmIChzMS5jaGFyQXQoYyArIGkpID09IHMyLmNoYXJBdChjKSkpIHtcbiAgICAgICAgICAgIG9mZnNldDEgPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoYyArIGkgPCBzMi5sZW5ndGgpICYmIChzMS5jaGFyQXQoYykgPT0gczIuY2hhckF0KGMgKyBpKSkpIHtcbiAgICAgICAgICAgIG9mZnNldDIgPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjKys7XG4gICAgfVxuICAgIHJldHVybiAoczEubGVuZ3RoICsgczIubGVuZ3RoKSAvMiAtIGxjcztcbiAgfSxcblxuICBzcGxpdEVtYWlsOiBmdW5jdGlvbihlbWFpbCkge1xuICAgIHZhciBwYXJ0cyA9IGVtYWlsLnRyaW0oKS5zcGxpdCgnQCcpO1xuXG4gICAgaWYgKHBhcnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocGFydHNbaV0gPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZG9tYWluID0gcGFydHMucG9wKCk7XG4gICAgdmFyIGRvbWFpblBhcnRzID0gZG9tYWluLnNwbGl0KCcuJyk7XG4gICAgdmFyIHNsZCA9ICcnO1xuICAgIHZhciB0bGQgPSAnJztcblxuICAgIGlmIChkb21haW5QYXJ0cy5sZW5ndGggPT0gMCkge1xuICAgICAgLy8gVGhlIGFkZHJlc3MgZG9lcyBub3QgaGF2ZSBhIHRvcC1sZXZlbCBkb21haW5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGRvbWFpblBhcnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAvLyBUaGUgYWRkcmVzcyBoYXMgb25seSBhIHRvcC1sZXZlbCBkb21haW4gKHZhbGlkIHVuZGVyIFJGQylcbiAgICAgIHRsZCA9IGRvbWFpblBhcnRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgYWRkcmVzcyBoYXMgYSBkb21haW4gYW5kIGEgdG9wLWxldmVsIGRvbWFpblxuICAgICAgc2xkID0gZG9tYWluUGFydHNbMF07XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGRvbWFpblBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRsZCArPSBkb21haW5QYXJ0c1tpXSArICcuJztcbiAgICAgIH1cbiAgICAgIHRsZCA9IHRsZC5zdWJzdHJpbmcoMCwgdGxkLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0b3BMZXZlbERvbWFpbjogdGxkLFxuICAgICAgc2Vjb25kTGV2ZWxEb21haW46IHNsZCxcbiAgICAgIGRvbWFpbjogZG9tYWluLFxuICAgICAgYWRkcmVzczogcGFydHMuam9pbignQCcpXG4gICAgfVxuICB9LFxuXG4gIC8vIEVuY29kZSB0aGUgZW1haWwgYWRkcmVzcyB0byBwcmV2ZW50IFhTUyBidXQgbGVhdmUgaW4gdmFsaWRcbiAgLy8gY2hhcmFjdGVycywgZm9sbG93aW5nIHRoaXMgb2ZmaWNpYWwgc3BlYzpcbiAgLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbWFpbF9hZGRyZXNzI1N5bnRheFxuICBlbmNvZGVFbWFpbDogZnVuY3Rpb24oZW1haWwpIHtcbiAgICB2YXIgcmVzdWx0ID0gZW5jb2RlVVJJKGVtYWlsKTtcbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgnJTIwJywgJyAnKS5yZXBsYWNlKCclMjUnLCAnJScpLnJlcGxhY2UoJyU1RScsICdeJylcbiAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTYwJywgJ2AnKS5yZXBsYWNlKCclN0InLCAneycpLnJlcGxhY2UoJyU3QycsICd8JylcbiAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTdEJywgJ30nKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuXG4vLyBFeHBvcnQgdGhlIG1haWxjaGVjayBvYmplY3QgaWYgd2UncmUgaW4gYSBDb21tb25KUyBlbnYgKGUuZy4gTm9kZSkuXG4vLyBNb2RlbGVkIG9mZiBvZiBVbmRlcnNjb3JlLmpzLlxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBNYWlsY2hlY2s7XG59XG5cbi8vIFN1cHBvcnQgQU1EIHN0eWxlIGRlZmluaXRpb25zXG4vLyBCYXNlZCBvbiBqUXVlcnkgKHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzk1NDg4Mi8xMzIyNDEwKVxuaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShcIm1haWxjaGVja1wiLCBbXSwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE1haWxjaGVjaztcbiAgfSk7XG59XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cualF1ZXJ5KSB7XG4gIChmdW5jdGlvbigkKXtcbiAgICAkLmZuLm1haWxjaGVjayA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmIChvcHRzLnN1Z2dlc3RlZCkge1xuICAgICAgICB2YXIgb2xkU3VnZ2VzdGVkID0gb3B0cy5zdWdnZXN0ZWQ7XG4gICAgICAgIG9wdHMuc3VnZ2VzdGVkID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgb2xkU3VnZ2VzdGVkKHNlbGYsIHJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRzLmVtcHR5KSB7XG4gICAgICAgIHZhciBvbGRFbXB0eSA9IG9wdHMuZW1wdHk7XG4gICAgICAgIG9wdHMuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBvbGRFbXB0eS5jYWxsKG51bGwsIHNlbGYpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBvcHRzLmVtYWlsID0gdGhpcy52YWwoKTtcbiAgICAgIE1haWxjaGVjay5ydW4ob3B0cyk7XG4gICAgfVxuICB9KShqUXVlcnkpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi92ZW5kb3IvbWFpbGNoZWNrL3NyYy9tYWlsY2hlY2suanNcbi8vIG1vZHVsZSBpZCA9IDg3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IDggOSIsIid1c2Ugc3RyaWN0JztcblxudmFyIEZvcm0gPSByZXF1aXJlKCdjb3JlL2Zvcm0nKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gRm9ybS5leHRlbmQoe1xuICAgIGlzb2xhdGVkOiB0cnVlLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd0ZW1wbGF0ZXMvZmxpZ2h0cy9ib29raW5nL3N0ZXAyLmh0bWwnKSxcblxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgcGFzc2VuZ2VyOiByZXF1aXJlKCdjb21wb25lbnRzL3Bhc3NlbmdlcicpXG4gICAgfSxcblxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHFhOiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3FhJylcbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgb25jb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlKCdib29raW5nLnN0ZXBzLjIuYWN0aXZlJywgZnVuY3Rpb24gKGFjdGl2ZSkge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3Njcm9sbCB0byB0b3AnKTtcblxuICAgICAgICAgICAgICAgIHZpZXcuZ2V0KCdib29raW5nJykuc2V0Q3VycmVudFN0ZXBGb3JNb2JpbGUoMik7XG4gICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IDBcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9iMmMvYm9va2luZy90cmF2ZWxlcnMnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7Ym9va2luZ19pZDogdGhpcy5nZXQoJ2Jvb2tpbmcuaWQnKX0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coJ2dvdCB0cmF2ZWxlcnMnLCBkYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgndHJhdmVsZXJzJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzdWJtaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrZHVwbGljYXRlVXNlcigpKSB7XG4gICAgICAgICAgICB0aGlzLmdldCgnYm9va2luZycpLnN0ZXAyKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY2hlY2tBdmFpbGFiaWxpdHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5nZXQoJ2Jvb2tpbmcnKS5zdGVwMih7Y2hlY2s6IHRydWV9KVxuICAgIH0sXG5cbiAgICBhY3RpdmF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0KCdib29raW5nLnBheW1lbnQucGF5bWVudF9pZCcpKVxuICAgICAgICAgICAgdGhpcy5nZXQoJ2Jvb2tpbmcnKS5hY3RpdmF0ZSgyKTtcbiAgICB9LFxuXG4gICAgYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmdldCgnYm9va2luZycpLmFjdGl2YXRlKDEpO1xuICAgIH0sXG5cbiAgICBjaGVja2R1cGxpY2F0ZVVzZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhc3NlbmdlcnMgPSB0aGlzLmdldCgnYm9va2luZy5wYXNzZW5nZXJzJyksXG4gICAgICAgICAgICAgICAgcGFzc2VuZ2VyX3N0ciA9IG5ldyBBcnJheSgpLFxuICAgICAgICAgICAgICAgIGR1cF9wYXNzZW5nZXIgPSBuZXcgQXJyYXkoKSxcbiAgICAgICAgICAgICAgICBuID0gMCxcbiAgICAgICAgICAgICAgICBodG1sID0gJycsXG4gICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIHN0ciA9ICcnLFxuICAgICAgICAgICAgICAgIGksIGosXG4gICAgICAgICAgICAgICAgbmFtZSA9ICcnLFxuICAgICAgICAgICAgICAgIG9uY2UgPSB0cnVlLFxuICAgICAgICAgICAgICAgIGZpbmFsX2FyciA9IG5ldyBBcnJheSgpO1xuICAgICAgICAkLmVhY2gocGFzc2VuZ2VycywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHN0ciA9IHZhbHVlLnRyYXZlbGVyLnRpdGxlX2lkICsgdmFsdWUudHJhdmVsZXIuZmlyc3RuYW1lLnRvVXBwZXJDYXNlKCkudHJpbSgpICsgdmFsdWUudHJhdmVsZXIubGFzdG5hbWUudG9VcHBlckNhc2UoKS50cmltKCk7XG4gICAgICAgICAgICBpZiAoc3RyICE9PSAndW5kZWZpbmVkJyAmJiBzdHIgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcGFzc2VuZ2VyX3N0ci5wdXNoKHN0ci5yZXBsYWNlKC9cXHMrL2csICcnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBkdXBsaWNhdGUgdmFsdWUgYXJyYXlcbiAgICAgICAgbiA9IHBhc3Nlbmdlcl9zdHIubGVuZ3RoO1xuICAgICAgICAvLyBjb3VudCB0aGUgYXJyYXkgbGVuZ3RoXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhc3Nlbmdlcl9zdHJbaV0gPT0gcGFzc2VuZ2VyX3N0cltqXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmluYWxfYXJyLmluZGV4T2YoaikgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInVpIGVycm9yIG1lc3NhZ2VcIiBzdHlsZT1cImRpc3BsYXk6YmxvY2s7XCI+JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBwYXNzZW5nZXJzW2pdLnRyYXZlbGVyLmZpcnN0bmFtZSArICcgJyArIHBhc3NlbmdlcnNbal0udHJhdmVsZXIubGFzdG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8cD5QbGVhc2UgQ2hlY2sgRHVwbGljYXRlIFBhc3NlbmdlciAnICsgbmFtZSArICc8L3A+JztcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxfYXJyLnB1c2goaik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmbGFnKSB7XG4gICAgICAgICAgICAkKCcjZHVwLWVycm9yJykucmVtb3ZlQ2xhc3MoJ3VpIHNlZ21lbnQgcGFzc2VuZ2VyIGJhc2ljJykuaHRtbCgnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgJCgnI2R1cC1lcnJvcicpLmFkZENsYXNzKCd1aSBzZWdtZW50IHBhc3NlbmdlciBiYXNpYycpLmh0bWwoaHRtbCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmxhZztcbiAgICB9XG59KTtcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21wb25lbnRzL2ZsaWdodHMvYm9va2luZy9zdGVwMi5qc1xuLy8gbW9kdWxlIGlkID0gODhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUiLCJtb2R1bGUuZXhwb3J0cz17XCJ2XCI6MyxcInRcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpbXCJzdGVwIGhlYWRlciBzdGVwMiBcIix7XCJ0XCI6NCxcImZcIjpbXCJhY3RpdmVcIl0sXCJuXCI6NTAsXCJyXCI6XCJzdGVwLmFjdGl2ZVwifSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjQsXCJmXCI6W1wiY29tcGxldGVkXCJdLFwiblwiOjUwLFwiclwiOlwic3RlcC5jb21wbGV0ZWRcIn1dLFwiclwiOlwic3RlcC5hY3RpdmVcIn1dLFwicm9sZVwiOlwidGFiXCJ9LFwiZlwiOltcIlBhc3NlbmdlcnNcIl19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJzdGVwMi1zdW1tYXJ5IHNlZ21lbnRcIn0sXCJ2XCI6e1wiY2xpY2tcIjp7XCJtXCI6XCJhY3RpdmF0ZVwiLFwiYVwiOntcInJcIjpbXSxcInNcIjpcIlsyXVwifX19LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBob3Jpem9udGFsIGxpc3RcIn0sXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJpdGVtXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb250ZW50XCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImlcIixcImFcIjp7XCJjbGFzc1wiOlwidXNlciBpY29uXCJ9fSxcIiBcIix7XCJ0XCI6MixcInJcIjpcInRyYXZlbGVyLmZpcnN0bmFtZVwifSxcIiBcIix7XCJ0XCI6MixcInJcIjpcInRyYXZlbGVyLmxhc3RuYW1lXCJ9XX1dfV0sXCJuXCI6NTIsXCJpXCI6XCJpXCIsXCJyXCI6XCJib29raW5nLnBhc3NlbmdlcnNcIn1dfV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wic3RlcC5jb21wbGV0ZWRcIixcInN0ZXAuYWN0aXZlXCJdLFwic1wiOlwiXzAmJiFfMVwifX0se1widFwiOjQsXCJuXCI6NTEsXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImZvcm1cIixcImFcIjp7XCJhY3Rpb25cIjpcImphdmFzY3JpcHQ6O1wiLFwiY2xhc3NcIjpbXCJ1aSBmb3JtIHNlZ21lbnQgc3RlcDIgXCIse1widFwiOjQsXCJmXCI6W1wiZXJyb3JcIl0sXCJuXCI6NTAsXCJyXCI6XCJzdGVwLmVycm9yc1wifSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbXSxcIm5cIjo1MCxcInJcIjpcInN0ZXAuc3VibWl0dGluZ1wifV19LFwidlwiOntcInN1Ym1pdFwiOntcIm1cIjpcInN1Ym1pdFwiLFwiYVwiOntcInJcIjpbXSxcInNcIjpcIltdXCJ9fX0sXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJwYXltZW50X2xvYWRlclwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgYWN0aXZlIGludmVydGVkIGRpbW1lclwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwid2FpdF90ZXh0XCJ9LFwiZlwiOltcIlBsZWFzZSBXYWl0XCJdfSx7XCJ0XCI6NyxcImVcIjpcImJyXCJ9LHtcInRcIjo3LFwiZVwiOlwiYnJcIn0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgdGV4dCBsb2FkZXIgbG9hZGVyX3Bvc2l0aW9uXCJ9fV19XX1dLFwiblwiOjUwLFwiclwiOlwic3RlcC5zdWJtaXR0aW5nXCJ9LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJwYXNzZW5nZXItaGVhZGVyIGhlYWRlclwifSxcImZcIjpbe1widFwiOjIsXCJyeFwiOntcInJcIjpcIm1ldGEudHJhdmVsZXJUeXBlc1wiLFwibVwiOlt7XCJ0XCI6MzAsXCJuXCI6XCJ0eXBlX2lkXCJ9XX19LFwiKFwiLHtcInRcIjoyLFwiclwiOlwibm9cIn0sXCIpKiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wic3R5bGVcIjpcImZvbnQtc2l6ZTogMTJweDtmb250LXdlaWdodDogbm9ybWFsOyBtYXJnaW4tbGVmdDogNXB4O1wifSxcImZcIjpbXCIoXCIse1widFwiOjIsXCJyeFwiOntcInJcIjpcIm1ldGEudHJhdmVsZXJUeXBlc1wiLFwibVwiOlt7XCJ0XCI6MzAsXCJuXCI6XCJ0eXBlX2lkXCJ9XX19LFwiIGFnZSBzaG91bGQgYmUgYmV0d2VlbiBcIix7XCJ0XCI6NCxcImZcIjpbXCIyIC0gMTJcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcInR5cGVfaWRcIl0sXCJzXCI6XCJfMD09MlwifX0sXCIgXCIse1widFwiOjQsXCJmXCI6W1wiMCAtIDJcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcInR5cGVfaWRcIl0sXCJzXCI6XCJfMD09M1wifX0sXCIgeWVhcnMpXCJdfV0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcInR5cGVfaWRcIl0sXCJzXCI6XCJfMD09M3x8XzA9PTJcIn19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJwYXNzZW5nZXJcIixcImFcIjp7XCJjbGFzc1wiOlwiYmFzaWNcIixcInZhbGlkYXRpb25cIjpbe1widFwiOjIsXCJyXCI6XCJib29raW5nLnBhc3NlbmdlclZhbGlkYXRvblwifV0sXCJ0cmF2ZWxlcnNcIjpbe1widFwiOjIsXCJyXCI6XCJ0cmF2ZWxlcnNcIn1dLFwicGFzc2VuZ2VyXCI6W3tcInRcIjoyLFwiclwiOlwiLlwifV0sXCJlcnJvcnNcIjpbe1widFwiOjIsXCJyeFwiOntcInJcIjpcInN0ZXAuZXJyb3JzXCIsXCJtXCI6W3tcInRcIjozMCxcIm5cIjpcImlcIn1dfX1dLFwibWV0YVwiOlt7XCJ0XCI6MixcInJcIjpcIm1ldGFcIn1dfX1dLFwiblwiOjUyLFwiaVwiOlwiaVwiLFwiclwiOlwiYm9va2luZy5wYXNzZW5nZXJzXCJ9LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiaWRcIjpcImR1cC1lcnJvclwifX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgYmFzaWMgc2VnbWVudFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgb25lIGNvbHVtbiBncmlkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb2x1bW5cIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiYnV0dG9uXCIsXCJhXCI6e1widHlwZVwiOlwic3VibWl0XCIsXCJjbGFzc1wiOlwidWkgd2l6YXJkIGJ1dHRvbiBtYXNzaXZlIGJsdWVcIn0sXCJmXCI6W1wiQ09OVElOVUVcIl19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImJ1dHRvblwiLFwiYVwiOntcInR5cGVcIjpcImJ1dHRvblwiLFwiY2xhc3NcIjpcInVpIHdpemFyZCBidXR0b24gbWFzc2l2ZSByZWRcIn0sXCJ2XCI6e1wiY2xpY2tcIjp7XCJtXCI6XCJjaGVja0F2YWlsYWJpbGl0eVwiLFwiYVwiOntcInJcIjpbXSxcInNcIjpcIltdXCJ9fX0sXCJmXCI6W1wiQ0hFQ0tcIl19XSxcIm5cIjo1MCxcInJcIjpcInFhXCJ9XX1dfV19XX1dLFwiblwiOjUwLFwiclwiOlwic3RlcC5hY3RpdmVcIn1dLFwieFwiOntcInJcIjpbXCJzdGVwLmNvbXBsZXRlZFwiLFwic3RlcC5hY3RpdmVcIl0sXCJzXCI6XCJfMCYmIV8xXCJ9fV0sXCJ4XCI6e1wiclwiOltcImJvb2tpbmcuc3RlcHMuMlwiXSxcInNcIjpcIntzdGVwOl8wfVwifX1dfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2FwcC93ZWIvbW9kdWxlL3RlbXBsYXRlcy9mbGlnaHRzL2Jvb2tpbmcvc3RlcDIuaHRtbFxuLy8gbW9kdWxlIGlkID0gODlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyksXG4gICAgICAgICQgPSByZXF1aXJlKCdqcXVlcnknKTtcblxuO1xudmFyIEZvcm0gPSByZXF1aXJlKCdjb3JlL2Zvcm0nKSxcbiAgICAgICAgTWV0YSA9IHJlcXVpcmUoJ3N0b3Jlcy9mbGlnaHQvbWV0YScpXG4gICAgICAgIDtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gRm9ybS5leHRlbmQoe1xuICAgIGlzb2xhdGVkOiB0cnVlLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd0ZW1wbGF0ZXMvcGFzc2VuZ2VyLmh0bWwnKSxcblxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgbW9iaWxlc2VsZWN0OiByZXF1aXJlKCdjb3JlL2Zvcm0vbW9iaWxlc2VsZWN0JyksXG4gICAgfSxcblxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF86IF8sXG4gICAgICAgICAgICBkYXRlc3VwcG9ydGVkOiB0cnVlLFxuICAgICAgICAgICAgYWxsOiBmYWxzZSxcbiAgICAgICAgICAgIGRhdGU6IHJlcXVpcmUoJ2hlbHBlcnMvZGF0ZScpKCksXG4gICAgICAgICAgICBhZHVsdDogW1xuICAgICAgICAgICAgICAgIHt0aWQ6ICcxJ30sXG4gICAgICAgICAgICAgICAge3RpZDogJzInfSxcbiAgICAgICAgICAgICAgICB7dGlkOiAnMyd9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgY2hpbGQ6IFtcbiAgICAgICAgICAgICAgICB7dGlkOiAnMid9LFxuICAgICAgICAgICAgICAgIHt0aWQ6ICc0J31cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpbmZhbnQ6IFtcbiAgICAgICAgICAgICAgICB7dGlkOiAnMid9LFxuICAgICAgICAgICAgICAgIHt0aWQ6ICc0J31cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzZWFyY2g6IGZ1bmN0aW9uICh0ZXJtLCB0cmF2ZWxlcnMpIHtcbiAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coJ3NlYXJjaCcsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgICAgICB0ZXJtID0gdGVybS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXJtICYmIHRyYXZlbGVycykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5maWx0ZXIodHJhdmVsZXJzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xICE9PSAoaS5maXJzdG5hbWUgKyAnICcgKyBpLmxhc3RuYW1lKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGVybSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsIDQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vcmV0dXJuIHRyYXZlbGVycyA/IHRyYXZlbGVycy5zbGljZSgwLCA0KSA6IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYXZlbGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgb25jb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAhZnVuY3Rpb24gKGUsIHQsIG4pIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGEoZSwgdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZSA9PT0gdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcyhlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSByLmNsYXNzTmFtZSwgbiA9IE1vZGVybml6ci5fY29uZmlnLmNsYXNzUHJlZml4IHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKGMgJiYgKHQgPSB0LmJhc2VWYWwpLCBNb2Rlcm5penIuX2NvbmZpZy5lbmFibGVKU0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgbiArIFwibm8tanMoXFxcXHN8JClcIik7XG4gICAgICAgICAgICAgICAgICAgIHQgPSB0LnJlcGxhY2UoYSwgXCIkMVwiICsgbiArIFwianMkMlwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBNb2Rlcm5penIuX2NvbmZpZy5lbmFibGVDbGFzc2VzICYmICh0ICs9IFwiIFwiICsgbiArIGUuam9pbihcIiBcIiArIG4pLCBjID8gci5jbGFzc05hbWUuYmFzZVZhbCA9IHQgOiByLmNsYXNzTmFtZSA9IHQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBpKCkge1xuICAgICAgICAgICAgICAgIHZhciBlLCB0LCBuLCBzLCBpLCBvLCByO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGMgaW4gdSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZSA9IFtdLCB0ID0gdVtjXSwgdC5uYW1lICYmIChlLnB1c2godC5uYW1lLnRvTG93ZXJDYXNlKCkpLCB0Lm9wdGlvbnMgJiYgdC5vcHRpb25zLmFsaWFzZXMgJiYgdC5vcHRpb25zLmFsaWFzZXMubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCB0Lm9wdGlvbnMuYWxpYXNlcy5sZW5ndGg7IG4rKylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnB1c2godC5vcHRpb25zLmFsaWFzZXNbbl0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAocyA9IGEodC5mbiwgXCJmdW5jdGlvblwiKT90LmZuKCk6dC5mbiwgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICAgICAgbyA9IGVbaV0sIHIgPSBvLnNwbGl0KFwiLlwiKSwgMSA9PT0gci5sZW5ndGggPyBNb2Rlcm5penJbclswXV0gPSBzIDogKCFNb2Rlcm5penJbclswXV0gfHwgTW9kZXJuaXpyW3JbMF1daW5zdGFuY2VvZiBCb29sZWFuIHx8IChNb2Rlcm5penJbclswXV0gPSBuZXcgQm9vbGVhbihNb2Rlcm5penJbclswXV0pKSwgTW9kZXJuaXpyW3JbMF1dW3JbMV1dID0gcyksIGwucHVzaCgocyA/IFwiXCIgOiBcIm5vLVwiKSArIHIuam9pbihcIi1cIikpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gbygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cImZ1bmN0aW9uXCIgIT0gdHlwZW9mIHQuY3JlYXRlRWxlbWVudCA/IHQuY3JlYXRlRWxlbWVudChhcmd1bWVudHNbMF0pIDogYyA/IHQuY3JlYXRlRWxlbWVudE5TLmNhbGwodCwgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBhcmd1bWVudHNbMF0pIDogdC5jcmVhdGVFbGVtZW50LmFwcGx5KHQsIGFyZ3VtZW50cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsID0gW10sIHIgPSB0LmRvY3VtZW50RWxlbWVudCwgYyA9IFwic3ZnXCIgPT09IHIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgdSA9IFtdLCBmID0ge192ZXJzaW9uOiBcIjMuMC4wLWFscGhhLjRcIiwgX2NvbmZpZzoge2NsYXNzUHJlZml4OiBcIlwiLCBlbmFibGVDbGFzc2VzOiAhMCwgZW5hYmxlSlNDbGFzczogITAsIHVzZVByZWZpeGVzOiAhMH0sIF9xOiBbXSwgb246IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0KG5bZV0pXG4gICAgICAgICAgICAgICAgICAgIH0sIDApXG4gICAgICAgICAgICAgICAgfSwgYWRkVGVzdDogZnVuY3Rpb24gKGUsIHQsIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgdS5wdXNoKHtuYW1lOiBlLCBmbjogdCwgb3B0aW9uczogbn0pXG4gICAgICAgICAgICAgICAgfSwgYWRkQXN5bmNUZXN0OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB1LnB1c2goe25hbWU6IG51bGwsIGZuOiBlfSlcbiAgICAgICAgICAgICAgICB9fSwgTW9kZXJuaXpyID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICBNb2Rlcm5penIucHJvdG90eXBlID0gZiwgTW9kZXJuaXpyID0gbmV3IE1vZGVybml6cjtcbiAgICAgICAgICAgIHZhciBwID0gbyhcImlucHV0XCIpLCBkID0gXCJzZWFyY2ggdGVsIHVybCBlbWFpbCBkYXRldGltZSBkYXRlIG1vbnRoIHdlZWsgdGltZSBkYXRldGltZS1sb2NhbCBudW1iZXIgcmFuZ2UgY29sb3JcIi5zcGxpdChcIiBcIiksIG0gPSB7fTtcbiAgICAgICAgICAgIE1vZGVybml6ci5pbnB1dHR5cGVzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhLCBzLCBpLCBvID0gZS5sZW5ndGgsIGwgPSBcIjopXCIsIGMgPSAwOyBvID4gYzsgYysrKVxuICAgICAgICAgICAgICAgICAgICBwLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgYSA9IGVbY10pLCBpID0gXCJ0ZXh0XCIgIT09IHAudHlwZSAmJiBcInN0eWxlXCJpbiBwLCBpICYmIChwLnZhbHVlID0gbCwgcC5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTt2aXNpYmlsaXR5OmhpZGRlbjtcIiwgL15yYW5nZSQvLnRlc3QoYSkgJiYgcC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlICE9PSBuID8gKHIuYXBwZW5kQ2hpbGQocCksIHMgPSB0LmRlZmF1bHRWaWV3LCBpID0gcy5nZXRDb21wdXRlZFN0eWxlICYmIFwidGV4dGZpZWxkXCIgIT09IHMuZ2V0Q29tcHV0ZWRTdHlsZShwLCBudWxsKS5XZWJraXRBcHBlYXJhbmNlICYmIDAgIT09IHAub2Zmc2V0SGVpZ2h0LCByLnJlbW92ZUNoaWxkKHApKSA6IC9eKHNlYXJjaHx0ZWwpJC8udGVzdChhKSB8fCAoaSA9IC9eKHVybHxlbWFpbHxudW1iZXIpJC8udGVzdChhKSA/IHAuY2hlY2tWYWxpZGl0eSAmJiBwLmNoZWNrVmFsaWRpdHkoKSA9PT0gITEgOiBwLnZhbHVlICE9IGwpKSwgbVtlW2NdXSA9ICEhaTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbVxuICAgICAgICAgICAgfShkKSwgaSgpLCBzKGwpLCBkZWxldGUgZi5hZGRUZXN0LCBkZWxldGUgZi5hZGRBc3luY1Rlc3Q7XG4gICAgICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IE1vZGVybml6ci5fcS5sZW5ndGg7IGcrKylcbiAgICAgICAgICAgICAgICBNb2Rlcm5penIuX3FbZ10oKTtcbiAgICAgICAgICAgIGUuTW9kZXJuaXpyID0gTW9kZXJuaXpyXG4gICAgICAgIH0od2luZG93LCBkb2N1bWVudCk7XG4gICAgICAgIGlmICghTW9kZXJuaXpyLmlucHV0dHlwZXMuZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoJ2RhdGVzdXBwb3J0ZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyQoIFwiLmRvYlwiICkuZGF0ZXBpY2tlcigpO1xuXG4gICAgICAgIGlmICghTU9CSUxFKSB7XG4gICAgICAgICAgICB2YXIgZm4gPSAkKHRoaXMuZmluZCgnaW5wdXQuZmlyc3RuYW1lJykpXG4gICAgICAgICAgICAgICAgICAgIC5wb3B1cCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbSBsZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwOiAkKHRoaXMuZmluZCgnLnRyYXZlbGVycy5wb3B1cCcpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZmVyOiAnb3Bwb3NpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2FibGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbi5wb3B1cCgnc2hvdycpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbi5wb3B1cCgnaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdmlldyA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmUoJ3RyYXZlbGVycycsIGZ1bmN0aW9uICh0cmF2ZWxlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodHJhdmVsZXJzICYmIHRyYXZlbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRwb3B1cCcsIHZpZXcuZWwpLm1vYmlzY3JvbGwoKS5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24gKHYsIGluc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBfLnBhcnNlSW50KCQoJy50cG9wdXAnLCB2aWV3LmVsKS52YWwoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmF2ZWxlciA9IF8uZmluZFdoZXJlKHZpZXcuZ2V0KCd0cmF2ZWxlcnMnKSwge2lkOiBpZH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYXZlbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcucGlja1RyYXZlbGVyKHRyYXZlbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICQodGhpcykuY2xvc2VzdChcIi5wYXNzZW5nZXJjbGFzc1wiKS5maW5kKCcudHQnKS50ZXh0KF8ucmVzdWx0KF8uZmluZCh0aXRsZXMsIHsnaWQnOiB0cmF2ZWxlci50aXRsZV9pZH0pLCAnbmFtZScpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB2aWV3LnNldCgncGFzc2VuZ2VyLnRyYXZlbGVyLnRpdGxlX2lkJyx0cmF2ZWxlci4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVmFsdWVUYXA6IGZ1bmN0aW9uICh2LCBpbnN0KSB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2KTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHYuY29udGV4dC5pbm5lclRleHQpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codi5jb250ZXh0Lm91dGVySFRNTCk7ICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHYuY29udGV4dC5hdHRyaWJ1dGVzWydkYXRhLXZhbCddLm5vZGVWYWx1ZSk7ICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBfLnBhcnNlSW50KHYuY29udGV4dC5hdHRyaWJ1dGVzWydkYXRhLXZhbCddLm5vZGVWYWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmF2ZWxlciA9IF8uZmluZFdoZXJlKHZpZXcuZ2V0KCd0cmF2ZWxlcnMnKSwge2lkOiBpZH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRyYXZlbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhdmVsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5waWNrVHJhdmVsZXIodHJhdmVsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB2YXIgdGl0bGVzID0gdmlldy5nZXQoJ21ldGEudGl0bGVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAkKHRoaXMpLmNsb3Nlc3QoXCIucGFzc2VuZ2VyY2xhc3NcIikuZmluZCgnLnR0JykudGV4dChfLnJlc3VsdChfLmZpbmQodGl0bGVzLCB7J2lkJzogdHJhdmVsZXIudGl0bGVfaWR9KSwgJ25hbWUnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnRwb3B1cCcsIHZpZXcuZWwpLm1vYmlzY3JvbGwoJ2hpZGUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cblxuXG5cbiAgICAgICAgICAgIH0pO1xuXG5cblxuICAgICAgICB9XG5cbi8vICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJkb2JcIl0nKS5jaGFuZ2UoZnVuY3Rpb24oKXtcbi8vICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KHRoaXMudmFsdWUpOyAgICAgICAgIC8vRGF0ZSBpbiBmdWxsIGZvcm1hdCBhbGVydChuZXcgRGF0ZSh0aGlzLnZhbHVlKSk7XG4vLyAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0RGF0ZSA9IHRoaXMudmFsdWU7Ly9uZXcgRGF0ZSh0aGlzLnZhbHVlKTtcbi8vICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZT1pbnB1dERhdGUuc3BsaXQoXCItXCIpO1xuLy8gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGlucHV0RGF0ZSk7XG4vLyAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgfSxcbiAgICBvbmNvbmZpZzogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm9ic2VydmUoJ3Bhc3Nlbmdlci50cmF2ZWxlci5maXJzdG5hbWUgcGFzc2VuZ2VyLnRyYXZlbGVyLmxhc3RuYW1lJywgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSwga2V5cGF0aCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ3Bhc3Nlbmdlci50cmF2ZWxlci5pZCcsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmdldCgncGFzc2VuZ2VyLnRyYXZlbGVyJykpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBpbml0OiBmYWxzZSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgdHJhdmVsZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChNT0JJTEUpIHtcbiAgICAgICAgICAgICQoJy50cG9wdXAnLCB0aGlzLmVsKS5tb2Jpc2Nyb2xsKCdzaG93Jyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRpdGxlc2VsZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChNT0JJTEUpIHtcbiAgICAgICAgICAgICQoJy50aXRsZXBvcHVwJywgdGhpcy5lbCkubW9iaXNjcm9sbCgnc2hvdycpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzaG93OiBmdW5jdGlvbiAoc2VjdGlvbiwgdmFsaWRhdGlvbiwgYWxsKSB7XG4gICAgICAgIGlmIChhbGwpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBpZiAoJ2JpcnRoJyA9PSBzZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2RvbWVzdGljJyAhPSAndmFsaWRhdGlvbic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ3Bhc3Nwb3J0JyA9PSBzZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Z1bGwnID09ICd2YWxpZGF0aW9uJztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBwaWNrVHJhdmVsZXI6IGZ1bmN0aW9uICh0cmF2ZWxlcikge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMsXG4gICAgICAgICAgICAgICAgaWQgPSB0aGlzLmdldCgncGFzc2VuZ2VyLnRyYXZlbGVyLmlkJyk7XG4gICAgICAgIC8vY29uc29sZS5sb2cobm8pO1xuICAgICAgICB2YXIgdmlldyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5zZXQoJ3Bhc3Nlbmdlci50cmF2ZWxlcicsIG51bGwpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgncGFzc2VuZ2VyLnRyYXZlbGVyJywgXy5jbG9uZURlZXAodHJhdmVsZXIpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNldGRvYjogZnVuY3Rpb24gKHRyYXZlbGVyKSB7XG4gICAgICAgIHZhciBkYXRlb2ZiaXJ0aCA9IHRoaXMuZ2V0KCdwYXNzZW5nZXIudHJhdmVsZXIuYmlydGhkJyk7XG4gICAgICAgIHZhciBubyA9IF8ucGFyc2VJbnQodHJhdmVsZXJbJ25vJ10pO1xuICAgICAgICB2YXIgdCA9IG5vIC0gMTtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzO1xuICAgICAgICB2YXIgZG9iID0gZGF0ZW9mYmlydGguc3BsaXQoJy0nKTtcbiAgICAgICAgdGhpcy5zZXQoJ3Bhc3Nlbmdlci50cmF2ZWxlci5iaXJ0aCcsIGRvYik7XG5cbiAgICB9LFxuICAgIHNldGRvYnNpbXBsZTogZnVuY3Rpb24gKHRyYXZlbGVyKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRyYXZlbGVyKTtcbiAgICAgICAgdmFyIHJlZ0V4ID0gL15cXGR7Mn0tXFxkezJ9LVxcZHs0fSQvO1xuICAgICAgICB2YXIgbm8gPSBfLnBhcnNlSW50KHRyYXZlbGVyWydubyddKTtcbiAgICAgICAgdmFyIHQgPSBubyAtIDE7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGVvZmJpcnRoID0gJChcIiNkb2JfXCIgKyBubykudmFsKCk7XG4gICAgICAgIGlmIChkYXRlb2ZiaXJ0aCAhPSAnJykge1xuICAgICAgICAgICAgaWYgKGRhdGVvZmJpcnRoLm1hdGNoKHJlZ0V4KSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvYiA9IGRhdGVvZmJpcnRoLnNwbGl0KCctJyk7XG4gICAgICAgICAgICAgICAgdmFyIGRvYmIgPSBbZG9iWzJdLCBkb2JbMV0sIGRvYlswXV07XG4gICAgICAgICAgICAgICAgaWYgKF8ucGFyc2VJbnQoZG9iWzBdKSA+IDMxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIFB1dCBWYWxpZCBEYXRlIGluIERELU1NLVlZWVkgRm9ybWF0XCIpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2RvYl9cIiArIG5vKS52YWwoJycpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF8ucGFyc2VJbnQoZG9iWzFdKSA+IDEyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIFB1dCBWYWxpZCBEYXRlIGluIERELU1NLVlZWVkgRm9ybWF0XCIpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2RvYl9cIiArIG5vKS52YWwoJycpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ3Bhc3Nlbmdlci50cmF2ZWxlci5iaXJ0aCcsIGRvYmIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIlBsZWFzZSBQdXQgRGF0ZSBpbiBERC1NTS1ZWVlZIEZvcm1hdFwiKTtcbiAgICAgICAgICAgICAgICAkKFwiI2RvYl9cIiArIG5vKS52YWwoJycpLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICBzZXRwYXNzcG9ydGV4cGlyeTogZnVuY3Rpb24gKHRyYXZlbGVyKSB7XG4gICAgICAgIHZhciBubyA9IF8ucGFyc2VJbnQodHJhdmVsZXJbJ25vJ10pO1xuICAgICAgICB2YXIgdCA9IG5vIC0gMTtcbiAgICAgICAgdmFyIGRhdGVvZnBlZCA9IHRoaXMuZ2V0KCdwYXNzZW5nZXIudHJhdmVsZXIucGQnKTtcbiAgICAgICAgLy92YXIgZGF0ZW9mcGVkPSQoXCIjcGVkX1wiK25vKS52YWwoKTtcbiAgICAgICAgdmFyIHBlZGEgPSBkYXRlb2ZwZWQuc3BsaXQoJy0nKTtcbiAgICAgICAgdGhpcy5zZXQoJ3Bhc3Nlbmdlci50cmF2ZWxlci5wYXNzcG9ydF9leHBpcnknLCBwZWRhKTtcbiAgICB9LFxuICAgIHNldHBhc3Nwb3J0ZXhwaXJ5c2ltcGxlOiBmdW5jdGlvbiAodHJhdmVsZXIpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0cmF2ZWxlcik7XG5cbiAgICAgICAgdmFyIHJlZ0V4ID0gL15cXGR7Mn0tXFxkezJ9LVxcZHs0fSQvO1xuXG4gICAgICAgIHZhciBubyA9IF8ucGFyc2VJbnQodHJhdmVsZXJbJ25vJ10pO1xuICAgICAgICB2YXIgdCA9IG5vIC0gMTtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0ZW9mcGVkID0gJChcIiNwZWRfXCIgKyBubykudmFsKCk7XG4gICAgICAgIGlmIChkYXRlb2ZwZWQgIT0gJycpIHtcbiAgICAgICAgICAgIGlmIChkYXRlb2ZwZWQubWF0Y2gocmVnRXgpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgZG9iID0gZGF0ZW9mcGVkLnNwbGl0KCctJyk7XG4gICAgICAgICAgICAgICAgdmFyIGRvYmIgPSBbZG9iWzJdLCBkb2JbMV0sIGRvYlswXV07XG4gICAgICAgICAgICAgICAgaWYgKF8ucGFyc2VJbnQoZG9iWzBdKSA+IDMxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIFB1dCBWYWxpZCBEYXRlIGluIERELU1NLVlZWVkgRm9ybWF0XCIpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3BlZF9cIiArIG5vKS52YWwoJycpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF8ucGFyc2VJbnQoZG9iWzFdKSA+IDEyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIFB1dCBWYWxpZCBEYXRlIGluIERELU1NLVlZWVkgRm9ybWF0XCIpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3BlZF9cIiArIG5vKS52YWwoJycpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldCgncGFzc2VuZ2VyLnRyYXZlbGVyLnBhc3Nwb3J0X2V4cGlyeScsIGRvYmIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIlBsZWFzZSBQdXQgRGF0ZSBpbiBERC1NTS1ZWVlZIEZvcm1hdFwiKTtcbiAgICAgICAgICAgICAgICAkKFwiI3BlZF9cIiArIG5vKS52YWwoJycpLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRvZ2xsZTogZnVuY3Rpb24gKHRyYXZlbGVyKSB7XG4gICAgICAgIHZhciBubyA9IF8ucGFyc2VJbnQodHJhdmVsZXJbJ25vJ10pO1xuXG4gICAgICAgIGlmICh0aGlzLmdldCgncGFzc2VuZ2VyLnRyYXZlbGVyLmJpcnRoJykgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KCdkYXRlc3VwcG9ydGVkJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgZG9iID0gdGhpcy5nZXQoJ3Bhc3Nlbmdlci50cmF2ZWxlci5iaXJ0aC4wJykgKyAnLScgKyB0aGlzLmdldCgncGFzc2VuZ2VyLnRyYXZlbGVyLmJpcnRoLjEnKSArICctJyArIHRoaXMuZ2V0KCdwYXNzZW5nZXIudHJhdmVsZXIuYmlydGguMicpO1xuICAgICAgICAgICAgICAgICQoXCIjZG9iX1wiICsgbm8pLnZhbChkb2IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZG9iID0gdGhpcy5nZXQoJ3Bhc3Nlbmdlci50cmF2ZWxlci5iaXJ0aC4yJykgKyAnLScgKyB0aGlzLmdldCgncGFzc2VuZ2VyLnRyYXZlbGVyLmJpcnRoLjEnKSArICctJyArIHRoaXMuZ2V0KCdwYXNzZW5nZXIudHJhdmVsZXIuYmlydGguMCcpO1xuICAgICAgICAgICAgICAgICQoXCIjZG9iX1wiICsgbm8pLnZhbChkb2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdldCgncGFzc2VuZ2VyLnRyYXZlbGVyLnBhc3Nwb3J0X2V4cGlyeScpICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldCgnZGF0ZXN1cHBvcnRlZCcpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvYiA9IHRoaXMuZ2V0KCdwYXNzZW5nZXIudHJhdmVsZXIucGFzc3BvcnRfZXhwaXJ5LjAnKSArICctJyArIHRoaXMuZ2V0KCdwYXNzZW5nZXIudHJhdmVsZXIucGFzc3BvcnRfZXhwaXJ5LjEnKSArICctJyArIHRoaXMuZ2V0KCdwYXNzZW5nZXIudHJhdmVsZXIucGFzc3BvcnRfZXhwaXJ5LjInKTtcbiAgICAgICAgICAgICAgICAkKFwiI3BlZF9cIiArIG5vKS52YWwoZG9iKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZG9iID0gdGhpcy5nZXQoJ3Bhc3Nlbmdlci50cmF2ZWxlci5wYXNzcG9ydF9leHBpcnkuMicpICsgJy0nICsgdGhpcy5nZXQoJ3Bhc3Nlbmdlci50cmF2ZWxlci5wYXNzcG9ydF9leHBpcnkuMScpICsgJy0nICsgdGhpcy5nZXQoJ3Bhc3Nlbmdlci50cmF2ZWxlci5wYXNzcG9ydF9leHBpcnkuMCcpO1xuICAgICAgICAgICAgICAgICQoXCIjcGVkX1wiICsgbm8pLnZhbChkb2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9nZ2xlKCdhbGwnKTtcbiAgICB9XG5cbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tcG9uZW50cy9wYXNzZW5nZXIuanNcbi8vIG1vZHVsZSBpZCA9IDkwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IiwibW9kdWxlLmV4cG9ydHM9e1widlwiOjMsXCJ0XCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6W1widWkgc2VnbWVudCBwYXNzZW5nZXIgXCIse1widFwiOjIsXCJyXCI6XCJjbGFzc1wifV19LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJuYW1lIHRyZWUgZmllbGRzXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ0aXRsZSBmaWVsZFwifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidWktc2VsZWN0XCIsXCJhXCI6e1wiY2xhc3NcIjpcInRpdGxlXCIsXCJ0aXRsZV90eXBlXCI6W3tcInRcIjoyLFwiclwiOlwiYWR1bHRcIn1dLFwidGl0bGVfbWF0Y2hcIjpcInRydWVcIixcInBsYWNlaG9sZGVyXCI6XCJUaXRsZVwiLFwib3B0aW9uc1wiOlt7XCJ0XCI6MixcInhcIjp7XCJyXCI6W1wibWV0YS5zZWxlY3RcIl0sXCJzXCI6XCJfMC50aXRsZXMoKVwifX1dLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJ0cmF2ZWxlci50aXRsZV9pZFwifV0sXCJlcnJvclwiOlt7XCJ0XCI6MixcInJcIjpcImVycm9ycy50aXRsZV9pZFwifV19fV0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcInR5cGVfaWRcIl0sXCJzXCI6XCJfMD09MVwifX0se1widFwiOjQsXCJuXCI6NTEsXCJmXCI6W3tcInRcIjo0LFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJ0eXBlX2lkXCJdLFwic1wiOlwiXzA9PTJcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidWktc2VsZWN0XCIsXCJhXCI6e1wiY2xhc3NcIjpcInRpdGxlXCIsXCJ0aXRsZV90eXBlXCI6W3tcInRcIjoyLFwiclwiOlwiY2hpbGRcIn1dLFwidGl0bGVfbWF0Y2hcIjpcInRydWVcIixcInBsYWNlaG9sZGVyXCI6XCJUaXRsZVwiLFwib3B0aW9uc1wiOlt7XCJ0XCI6MixcInhcIjp7XCJyXCI6W1wibWV0YS5zZWxlY3RcIl0sXCJzXCI6XCJfMC50aXRsZXMoKVwifX1dLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJ0cmF2ZWxlci50aXRsZV9pZFwifV0sXCJlcnJvclwiOlt7XCJ0XCI6MixcInJcIjpcImVycm9ycy50aXRsZV9pZFwifV19fV19LHtcInRcIjo0LFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJ0eXBlX2lkXCJdLFwic1wiOlwiIShfMD09MilcIn0sXCJmXCI6W1wiIFwiLHtcInRcIjo3LFwiZVwiOlwidWktc2VsZWN0XCIsXCJhXCI6e1wiY2xhc3NcIjpcInRpdGxlXCIsXCJ0aXRsZV90eXBlXCI6W3tcInRcIjoyLFwiclwiOlwiaW5mYW50XCJ9XSxcInRpdGxlX21hdGNoXCI6XCJ0cnVlXCIsXCJwbGFjZWhvbGRlclwiOlwiVGl0bGVcIixcIm9wdGlvbnNcIjpbe1widFwiOjIsXCJ4XCI6e1wiclwiOltcIm1ldGEuc2VsZWN0XCJdLFwic1wiOlwiXzAudGl0bGVzKClcIn19XSxcInZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwidHJhdmVsZXIudGl0bGVfaWRcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJlcnJvcnMudGl0bGVfaWRcIn1dfX1dfV0sXCJ4XCI6e1wiclwiOltcInR5cGVfaWRcIl0sXCJzXCI6XCJfMD09MVwifX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJmaXJzdCBuYW1lIGZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInVpLWlucHV0XCIsXCJhXCI6e1wibmFtZVwiOlwiZmlyc3RuYW1lXCIsXCJjbGFzc1wiOlwiZmlyc3RuYW1lXCIsXCJwbGFjZWhvbGRlclwiOlwiRmlyc3QgJiBNaWRkbGUgTmFtZVwiLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJ0cmF2ZWxlci5maXJzdG5hbWVcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJlcnJvcnMuZmlyc3RuYW1lXCJ9XX19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInVpIHRyYXZlbGVycyBwb3B1cCB2ZXJ0aWNhbCBtZW51XCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImhlYWRlclwifSxcImZcIjpbXCJQaWNrIGEgXCIse1widFwiOjIsXCJyeFwiOntcInJcIjpcIm1ldGEudHJhdmVsZXJUeXBlc1wiLFwibVwiOlt7XCJ0XCI6MzAsXCJuXCI6XCJ0eXBlX2lkXCJ9XX19XX0se1widFwiOjcsXCJlXCI6XCJiclwifSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJwaWNrLWxpc3RcIn0sXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJhXCIsXCJhXCI6e1wiY2xhc3NcIjpcIml0ZW1cIn0sXCJ2XCI6e1wiY2xpY2tcIjp7XCJtXCI6XCJwaWNrVHJhdmVsZXJcIixcImFcIjp7XCJyXCI6W1wiLlwiXSxcInNcIjpcIltfMF1cIn19fSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJpXCIsXCJhXCI6e1wiY2xhc3NcIjpcInVzZXIgaWNvblwifX0sXCIgXCIse1widFwiOjQsXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6MixcInJcIjpcIm5hbWVcIn1dLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJpZFwiLFwidGl0bGVfaWRcIl0sXCJzXCI6XCJfMD09XzFcIn19XSxcIm5cIjo1MixcInJcIjpcIm1ldGEudGl0bGVzXCJ9LFwiIFwiLHtcInRcIjoyLFwiclwiOlwiZmlyc3RuYW1lXCJ9LFwiIFwiLHtcInRcIjoyLFwiclwiOlwibGFzdG5hbWVcIn1dfV0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcInRyYXZlbGVyX3R5cGVfaWRcIixcInR5cGVfaWRcIl0sXCJzXCI6XCJfMD09XzFcIn19XSxcIm5cIjo1MixcInJcIjpcInRyYXZlbGVyc1wifV19XSxcIm5cIjo1MCxcInJcIjpcInRyYXZlbGVycy5sZW5ndGhcIn0se1widFwiOjQsXCJuXCI6NTEsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImhlYWRlclwifSxcImZcIjpbXCJOZXcgXCIse1widFwiOjIsXCJyeFwiOntcInJcIjpcIm1ldGEudHJhdmVsZXJUeXBlc1wiLFwibVwiOlt7XCJ0XCI6MzAsXCJuXCI6XCJ0eXBlX2lkXCJ9XX19LFwiP1wiXX0se1widFwiOjcsXCJlXCI6XCJiclwifSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInBcIixcImZcIjpbXCJXZSB3aWxsIHJlZ2lzdGVyIHRyYXZlbGVyIGluIHRoZSBzeXN0ZW0gZm9yIGZhc3RlciBhY2Nlc3MuXCJdfV0sXCJyXCI6XCJ0cmF2ZWxlcnMubGVuZ3RoXCJ9XSxcInhcIjp7XCJyXCI6W1wic2VhcmNoXCIsXCJ0cmF2ZWxlci5maXJzdG5hbWVcIixcInRyYXZlbGVyc1wiXSxcInNcIjpcInt0cmF2ZWxlcnM6XzAoXzEsXzIpfVwifX1dfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImxhc3QgbmFtZSBmaWVsZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJ1aS1pbnB1dFwiLFwiYVwiOntcIm5hbWVcIjpcImxhc3RuYW1lXCIsXCJjbGFzc1wiOlwibGFzdG5hbWVcIixcInBsYWNlaG9sZGVyXCI6XCJMYXN0bmFtZVwiLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJ0cmF2ZWxlci5sYXN0bmFtZVwifV0sXCJlcnJvclwiOlt7XCJ0XCI6MixcInJcIjpcImVycm9ycy5sYXN0bmFtZVwifV19fV19XX0sXCIgXCIse1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImxhYmVsXCJ9LFwiZlwiOltcIkRhdGUgb2YgQmlydGhcIix7XCJ0XCI6NCxcImZcIjpbXCIqXCJdLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJ2YWxpZGF0aW9uXCIsXCJ0eXBlX2lkXCJdLFwic1wiOlwiXFxcImRvbWVzdGljXFxcIiE9XzB8fF8xPT0zfHxfMT09MlwifX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wic3R5bGVcIjpcImNvbG9yOiAjMzM5OWZmOyBtYXJnaW4tbGVmdDogMTBweCFpbXBvcnRhbnQgO2ZvbnQtc2l6ZTogMTNweDtcIn0sXCJmXCI6W1wiKFRoZSBEYXRlIG9mIEJpcnRoIGNhbiBiZSBjaGFuZ2VkIGxhdGVyKVwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJwYXNzcG9ydC1leHBpcnkgZGF0ZSB0aHJlZSBmaWVsZHNcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInVpLXNlbGVjdFwiLFwiYVwiOntcImNsYXNzXCI6XCJkYXlcIixcInBsYWNlaG9sZGVyXCI6XCJEYXlcIixcIm9wdGlvbnNcIjpbe1widFwiOjIsXCJyXCI6XCJkYXRlLnNlbGVjdC5EXCJ9XSxcInZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwidHJhdmVsZXIuYmlydGguMlwifV0sXCJlcnJvclwiOlt7XCJ0XCI6MixcInJcIjpcImVycm9ycy5iaXJ0aFwifV19fV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInVpLXNlbGVjdFwiLFwiYVwiOntcImNsYXNzXCI6XCJtb250aFwiLFwicGxhY2Vob2xkZXJcIjpcIk1vbnRoXCIsXCJvcHRpb25zXCI6W3tcInRcIjoyLFwiclwiOlwiZGF0ZS5zZWxlY3QuTU1NTVwifV0sXCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcInRyYXZlbGVyLmJpcnRoLjFcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJlcnJvcnMuYmlydGhcIn1dfX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJmaWVsZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJ1aS1zZWxlY3RcIixcImFcIjp7XCJjbGFzc1wiOlwieWVhclwiLFwicGxhY2Vob2xkZXJcIjpcIlllYXJcIixcIm9wdGlvbnNcIjpbe1widFwiOjIsXCJ4XCI6e1wiclwiOltcImRhdGUuc2VsZWN0XCIsXCJ+L3R5cGVfaWRcIl0sXCJzXCI6XCJfMC5iaXJ0aFllYXJzKF8xKVwifX1dLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJ0cmF2ZWxlci5iaXJ0aC4wXCJ9XSxcImVycm9yXCI6W3tcInRcIjoyLFwiclwiOlwiZXJyb3JzLmJpcnRoXCJ9XX19XX0sXCIgXCJdfSx7XCJ0XCI6NyxcImVcIjpcImJyXCJ9XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYWxsXCIsXCJ2YWxpZGF0aW9uXCIsXCJ0eXBlX2lkXCJdLFwic1wiOlwiXzB8fFxcXCJkb21lc3RpY1xcXCIhPV8xfHxfMj09M3x8XzI9PTJcIn19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJsYWJlbFwifSxcImZcIjpbXCJQYXNzcG9ydFwiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicGFzc3BvcnQgdHdvIGZpZWxkc1wifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiZmllbGRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidWktaW5wdXRcIixcImFcIjp7XCJjbGFzc1wiOlwicGFzc3BvcnQtbnVtYmVyXCIsXCJwbGFjZWhvbGRlclwiOlwiUGFzc3BvcnQgTnVtYmVyXCIsXCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcInRyYXZlbGVyLnBhc3Nwb3J0X251bWJlclwifV0sXCJlcnJvclwiOlt7XCJ0XCI6MixcInJcIjpcImVycm9ycy5wYXNzcG9ydF9udW1iZXJcIn1dfX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJmaWVsZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJ1aS1zZWxlY3RcIixcImFcIjp7XCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcInRyYXZlbGVyLnBhc3Nwb3J0X2NvdW50cnlfaWRcIn1dLFwiY2xhc3NcIjpcInBhc3Nwb3J0LWNvdW50cnlcIixcInNlYXJjaFwiOlwiMVwiLFwicGxhY2Vob2xkZXJcIjpcIlBhc3Nwb3J0IENvdW50cnlcIixcIm9wdGlvbnNcIjpbe1widFwiOjIsXCJ4XCI6e1wiclwiOltcIm1ldGEuc2VsZWN0XCJdLFwic1wiOlwiXzAuY291bnRyaWVzKClcIn19XSxcImVycm9yXCI6W3tcInRcIjoyLFwiclwiOlwiZXJyb3JzLnBhc3Nwb3J0X2NvdW50cnlfaWRcIn1dfSxcImZcIjpbXX1dfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImxhYmVsXCJ9LFwiZlwiOltcIlBhc3Nwb3J0IGV4cGlyeSBkYXRlXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJwYXNzcG9ydC1leHBpcnkgZGF0ZSB0aHJlZSBmaWVsZHNcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInVpLXNlbGVjdFwiLFwiYVwiOntcImNsYXNzXCI6XCJkYXlcIixcInBsYWNlaG9sZGVyXCI6XCJEYXlcIixcIm9wdGlvbnNcIjpbe1widFwiOjIsXCJyXCI6XCJkYXRlLnNlbGVjdC5EXCJ9XSxcInZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwidHJhdmVsZXIucGFzc3BvcnRfZXhwaXJ5LjJcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJlcnJvcnMucGFzc3BvcnRfZXhwaXJ5XCJ9XX19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiZmllbGRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidWktc2VsZWN0XCIsXCJhXCI6e1wiY2xhc3NcIjpcIm1vbnRoXCIsXCJwbGFjZWhvbGRlclwiOlwiTW9udGhcIixcIm9wdGlvbnNcIjpbe1widFwiOjIsXCJyXCI6XCJkYXRlLnNlbGVjdC5NTU1NXCJ9XSxcInZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwidHJhdmVsZXIucGFzc3BvcnRfZXhwaXJ5LjFcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJlcnJvcnMucGFzc3BvcnRfZXhwaXJ5XCJ9XX19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiZmllbGRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidWktc2VsZWN0XCIsXCJhXCI6e1wiY2xhc3NcIjpcInllYXJcIixcInBsYWNlaG9sZGVyXCI6XCJZZWFyXCIsXCJvcHRpb25zXCI6W3tcInRcIjoyLFwiclwiOlwiZGF0ZS5zZWxlY3QucGFzc3BvcnRZZWFyc1wifV0sXCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcInRyYXZlbGVyLnBhc3Nwb3J0X2V4cGlyeS4wXCJ9XSxcImVycm9yXCI6W3tcInRcIjoyLFwiclwiOlwiZXJyb3JzLnBhc3Nwb3J0X2V4cGlyeVwifV19fV19XX1dLFwiblwiOjUwLFwiclwiOlwiYWxsXCJ9LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBlcnJvciBtZXNzYWdlXCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInBcIixcImZcIjpbe1widFwiOjIsXCJyXCI6XCIuXCJ9XX1dLFwiblwiOjUwLFwiclwiOlwiLlwifV0sXCJuXCI6NTIsXCJpXCI6XCJpXCIsXCJyXCI6XCJlcnJvcnNcIn1dLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJfXCIsXCJlcnJvcnNcIl0sXCJzXCI6XCJfMC5pc0FycmF5KF8xKXx8XzAuaXNPYmplY3QoXzEpXCJ9fSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJwXCIsXCJmXCI6W3tcInRcIjoyLFwiclwiOlwiZXJyb3JzXCJ9XX1dLFwieFwiOntcInJcIjpbXCJfXCIsXCJlcnJvcnNcIl0sXCJzXCI6XCJfMC5pc0FycmF5KF8xKXx8XzAuaXNPYmplY3QoXzEpXCJ9fV19XSxcIm5cIjo1MCxcInJcIjpcImVycm9yc1wifSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImFsaWduXCI6XCJjZW50ZXJcIixcImNsYXNzXCI6XCJtb3JlXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImFcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgYmFzaWMgdGlueSBjaXJjdWxhciBidXR0b25cIixcImhyZWZcIjpcImphdmFzY3JpcHQ6O1wifSxcInZcIjp7XCJjbGlja1wiOntcIm1cIjpcInRvZ2dsZVwiLFwiYVwiOntcInJcIjpbXSxcInNcIjpcIltcXFwiYWxsXFxcIl1cIn19fSxcImZcIjpbe1widFwiOjQsXCJmXCI6W1wiTGVzcyBJbmZvXCJdLFwiblwiOjUwLFwiclwiOlwiYWxsXCJ9LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOltcIk1vcmUgSW5mb1wiXSxcInJcIjpcImFsbFwifV19XX1dfV0sXCJyXCI6XCJwYXNzZW5nZXJcIn1dfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2FwcC93ZWIvbW9kdWxlL3RlbXBsYXRlcy9wYXNzZW5nZXIuaHRtbFxuLy8gbW9kdWxlIGlkID0gOTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUiLCIndXNlIHN0cmljdCc7XG5cbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCdjb3JlL2NvbXBvbmVudCcpLFxuICAgICQgPSByZXF1aXJlKCdqcXVlcnknKSxcbiAgICBfID0gcmVxdWlyZSgnbG9kYXNoJylcbiAgICA7XG5cbnZhclxuICAgIExBUkdFID0gJ2xhcmdlJyxcbiAgICBESVNBQkxFRCA9ICdkaXNhYmxlZCcsXG4gICAgTE9BRElORyA9ICdpY29uIGxvYWRpbmcnLFxuICAgIERFQ09SQVRFRCA9ICdkZWNvcmF0ZWQnLFxuICAgIEVSUk9SID0gJ2Vycm9yJyxcbiAgICBJTiA9ICdpbicsXG4gICAgU0VBUkNIID0gJ3NlYXJjaCcsXG4gICAgSU5QVVQgPSAnaW5wdXQnXG4gICAgO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBvbmVudC5leHRlbmQoe1xuICAgIGlzb2xhdGVkOiB0cnVlLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd0ZW1wbGF0ZXMvY29tcG9uZW50cy9mb3JtL21vYmlsZXNlbGVjdC5odG1sJyksXG5cbiAgICBkYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsYXNzZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgaWYgKF8uaXNPYmplY3QoZGF0YS5zdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdGUuZGlzYWJsZWQgfHwgZGF0YS5zdGF0ZS5zdWJtaXR0aW5nKSBjbGFzc2VzLnB1c2goRElTQUJMRUQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0ZS5sb2FkaW5nKSBjbGFzc2VzLnB1c2goTE9BRElORyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXRlLmVycm9yKSBjbGFzc2VzLnB1c2goRVJST1IpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGFyZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKElOUFVUKTtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKERFQ09SQVRFRCk7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaChMQVJHRSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudmFsdWUgfHwgZGF0YS5mb2N1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKElOKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNlYXJjaCkge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goU0VBUkNIKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goRElTQUJMRUQpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBvbmNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLCBvO1xuXG4gICAgICAgIHZhciBlbCA9ICQoJy5wb3B1cCcsIHZpZXcuZWwpLm1vYmlzY3JvbGwoKS5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q6IGZ1bmN0aW9uICh2LCBpbnN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHZpZXcuZWwpLmZpbmQoJy50dCcpLnRleHQodik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlPSBfLnJlc3VsdChfLmZpbmQodGl0bGVzLCB7J25hbWUnOiBfLnBhcnNlSW50KHYpfSksICdpZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCd0cmF2ZWxlci50aXRsZV9pZCcsdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codmlldy5nZXQoJ3RyYXZlbGVyJykpO1xuICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICBvblZhbHVlVGFwOiBmdW5jdGlvbiAodiwgaW5zdCkgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3BwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGVzID12aWV3LmdldCgnb3B0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlPXYuY29udGV4dC5hdHRyaWJ1dGVzWydkYXRhLXZhbCddLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZT0gXy5yZXN1bHQoXy5maW5kKHRpdGxlcywgeydpZCc6IF8ucGFyc2VJbnQodGl0bGUpfSksICduYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkKHZpZXcuZWwpLmZpbmQoJy50dCcpLnRleHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwJywgdmlldy5lbCkubW9iaXNjcm9sbCgnaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ3RyYXZlbGVyLnRpdGxlX2lkJyxfLnBhcnNlSW50KHRpdGxlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHZpZXcuZ2V0KCd0cmF2ZWxlcicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3BwJyt0aXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIDtcbiAgICAgICAgXG4gICAgICAgXG4gICAgICAgIHRoaXMub2JzZXJ2ZSgndmFsdWUnLCBmdW5jdGlvbih2YWx1ZSkge1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuZ2V0KCdvcHRpb25zJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IF8uZmluZChvcHRpb25zLCB7aWQ6IHZhbHVlfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG8pIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgZWwuZHJvcGRvd24oJ3NldCB2YWx1ZScsIG8uaWQpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBlbC5kcm9wZG93bignc2V0IHRleHQnLCBvLnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuLy8gICAgICAgICAgICBlbC5kcm9wZG93bigncmVzdG9yZSBkZWZhdWx0cycpO1xuXG5cbiAgICAgICAgfSwge2luaXQ6IGZhbHNlfSk7XG5cbiAgICAgICAgXG5cbiAgICB9LFxuc2VsZWN0dmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgXG4gICAgICAgdmlldy5zZXQoJ3RyYXZlbGVyLnRpdGxlX2lkJyxfLnBhcnNlSW50KCQodGhpcy5maW5kKCcucG9wdXAnKSkudmFsKCkpKTtcbiAgICAgLy8gIGNvbnNvbGUubG9nKHZpZXcuZ2V0KCd0cmF2ZWxlcicpKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHZpZXcuZ2V0KCd2YWx1ZScpKTtcbiAgICB9LFxuICAgIG9udGVhZG93bjogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vdGhpcy5zZXQoJ29wdGlvbnMnLCBudWxsKTtcbiAgICB9LFxuICAgICBkcm9wZG93bnNlbGVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIFxuICAgICAgICAgICAgJCgnLnBvcHVwJywgdGhpcy5lbCkubW9iaXNjcm9sbCgnc2hvdycpO1xuICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZHJvcGRvd25zZWxlY3QnKTtcbiAgICAgICAgXG4gICAgfSxcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29yZS9mb3JtL21vYmlsZXNlbGVjdC5qc1xuLy8gbW9kdWxlIGlkID0gOTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUiLCJtb2R1bGUuZXhwb3J0cz17XCJ2XCI6MyxcInRcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImZpZWxkXCIsXCJhbGlnblwiOlwiY2VudGVyXCJ9LFwiZlwiOltcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBkcm9wZG93biBcIn0sXCJ2XCI6e1wiY2xpY2tcIjp7XCJtXCI6XCJkcm9wZG93bnNlbGVjdFwiLFwiYVwiOntcInJcIjpbXSxcInNcIjpcIltdXCJ9fX0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImRlZmF1bHQgdGV4dCB0dFwifSxcImZcIjpbe1widFwiOjIsXCJyXCI6XCJwbGFjZWhvbGRlclwifV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiaVwiLFwiYVwiOntcImNsYXNzXCI6XCJkcm9wZG93biBpY29uXCJ9fV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImhpZGVcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwic2VsZWN0XCIsXCJhXCI6e1wiY2xhc3NcIjpcInBvcHVwXCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJvcHRpb25cIixcImFcIjp7XCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcImlkXCJ9XX0sXCJmXCI6W3tcInRcIjoyLFwiclwiOlwibmFtZVwifV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1widGlkXCIsXCJpZFwiXSxcInNcIjpcIl8wPT1fMVwifX1dLFwiclwiOlwidGl0bGVfdHlwZVwifV0sXCJyXCI6XCJvcHRpb25zXCJ9XSxcIm5cIjo1MCxcInJcIjpcInRpdGxlX21hdGNoXCJ9LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJvcHRpb25cIixcImFcIjp7XCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcImlkXCJ9XX0sXCJmXCI6W3tcInRcIjoyLFwiclwiOlwibmFtZVwifV19XSxcInJcIjpcIm9wdGlvbnNcIn1dLFwiclwiOlwidGl0bGVfbWF0Y2hcIn1dfV19XX1dLFwiblwiOjUwLFwiclwiOlwib3B0aW9ucy5sZW5ndGhcIn1dfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL3RlbXBsYXRlcy9jb21wb25lbnRzL2Zvcm0vbW9iaWxlc2VsZWN0Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDkzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpLFxuICAgIG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpXG4gICAgO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvdXQgPSB7XG4gICAgICAgIEQ6IF8ucmFuZ2UoMSwzMiksXG4gICAgICAgIE06IF8ucmFuZ2UoMSwxMyksXG4gICAgICAgIE1NTU06IG1vbWVudC5tb250aHMoKVxuICAgIH07XG5cbiAgICBvdXQuc2VsZWN0ID0ge1xuICAgICAgICBEOiBfLm1hcChvdXQuRCwgZnVuY3Rpb24oaSkgeyByZXR1cm4geyBpZDogXy5wYWRMZWZ0KGksIDIsIDApLCB0ZXh0OiBpIH07IH0pLFxuICAgICAgICBNOiBfLm1hcChvdXQuTSwgZnVuY3Rpb24oaSkgeyByZXR1cm4geyBpZDogXy5wYWRMZWZ0KGksIDIsIDApLCB0ZXh0OiBpIH07IH0pLFxuICAgICAgICBNTU1NOiBfLm1hcChvdXQuTU1NTSwgZnVuY3Rpb24oaSwgaykgeyByZXR1cm4geyBpZDogXy5wYWRMZWZ0KGsgKyAxLCAyLCAwKSwgdGV4dDogaSB9OyB9KSxcblxuICAgICAgICBwYXNzcG9ydFllYXJzOiBfLm1hcChfLnJhbmdlKG1vbWVudCgpLnllYXIoKSwgbW9tZW50KCkueWVhcigpICsgMTUpLCBmdW5jdGlvbihpKSB7IHJldHVybiB7IGlkOiAnJytpLCB0ZXh0OiAnJytpIH07IH0pLFxuXG4gICAgICAgIGJpcnRoWWVhcnM6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfLm1hcChfLnJhbmdlKG1vbWVudCgpLnllYXIoKSwgMTg5OSwgLTEpLCBmdW5jdGlvbihpKSB7IHJldHVybiB7IGlkOiAnJytpLCB0ZXh0OiAnJytpIH07IH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNhcmRZZWFyczogXy5tYXAoXy5yYW5nZShtb21lbnQoKS55ZWFyKCksIG1vbWVudCgpLmFkZCgyNSwgJ3llYXJzJykueWVhcigpKSwgZnVuY3Rpb24oaSkgeyByZXR1cm4geyBpZDogJycraSwgdGV4dDogJycraSB9OyB9KSxcbiAgICAgICAgY2FyZE1vbnRoczogXy5tYXAob3V0Lk1NTU0sIGZ1bmN0aW9uKGksIGspIHsgcmV0dXJuIHsgaWQ6IGsgKyAxLCB0ZXh0OiBfLnBhZExlZnQoaysxLCAyLCAnMCcpICsgJyAnICsgaSB9OyB9KVxuXG4gICAgfTtcblxuICAgIHJldHVybiBvdXQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvaGVscGVycy9kYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA5NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSAxMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKSxcbiAgICAkID0gcmVxdWlyZSgnanF1ZXJ5JylcbiAgICA7XG5yZXF1aXJlKCdqcXVlcnkucGF5bWVudCcpO1xudmFyIEZvcm0gPSByZXF1aXJlKCdjb3JlL2Zvcm0nKSxcblxuICAgIGhfbW9uZXkgPSByZXF1aXJlKCdoZWxwZXJzL21vbmV5JyksXG4gICAgaF9kdXJhdGlvbiA9IHJlcXVpcmUoJ2hlbHBlcnMvZHVyYXRpb24nKSgpLFxuICAgIGhfZGF0ZSA9IHJlcXVpcmUoJ2hlbHBlcnMvZGF0ZScpKCksXG4gICAgYWNjb3VudGluZyA9IHJlcXVpcmUoJ2FjY291bnRpbmcuanMnKVxuICAgIDtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IEZvcm0uZXh0ZW5kKHtcbiAgICBpc29sYXRlZDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgndGVtcGxhdGVzL2ZsaWdodHMvYm9va2luZy9zdGVwMy5odG1sJyksXG5cbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgICd1aS1jYyc6IHJlcXVpcmUoJ2NvcmUvZm9ybS9jYy9udW1iZXInKSxcbiAgICAgICAgJ3VpLWN2dic6IHJlcXVpcmUoJ2NvcmUvZm9ybS9jYy9jdnYnKSxcbiAgICAgICAgJ3VpLWV4cGlyeSc6IHJlcXVpcmUoJ2NvcmUvZm9ybS9jYy9jYXJkZXhwaXJ5JylcbiAgICB9LFxuICAgIFxuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbW9jb2RlOm51bGwsXG4gICAgICAgICAgICBwcm9tb3ZhbHVlOm51bGwsXG4gICAgICAgICAgICBwcm9tb2Vycm9yOm51bGwsXG4gICAgICAgICAgICBhY2NlcHRlZDp0cnVlLFxuICAgICAgICAgICAgbW9uZXk6IGhfbW9uZXksXG4gICAgICAgICAgICBkdXJhdGlvbjogaF9kdXJhdGlvbixcbiAgICAgICAgICAgIGRhdGU6IGhfZGF0ZSxcbiAgICAgICAgICAgIGJhbmtzOiBbXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAge2lkOiAnQVhJQicgLCB0ZXh0OiAnQVhJUyBCYW5rJyAsIGxvZ286ICdheGlzX2JhbmsnfSwvLyB7aWQ6ICdBWElCJyAsIHRleHQ6ICdBWElTIEJhbmsgTmV0QmFua2luZycgfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICcxMDQ1JyAsIHRleHQ6ICdCYW5rIG9mIEJhcm9kYSBDb3Jwb3JhdGUnICwgbG9nbzogJ2Jhbmtfb2ZfYmFyb2RhJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTA0NicgLCB0ZXh0OiAnQmFuayBvZiBCYXJvZGEgUmV0YWlsJyAsIGxvZ286ICdiYW5rX29mX2Jhcm9kYSd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ0JPSUInICwgdGV4dDogJ0Jhbmsgb2YgSW5kaWEnICwgbG9nbzogJ2Jhbmtfb2ZfaW5kaWEnfSwvL1BheXUge2lkOiAnQk9JQicgLCB0ZXh0OiAnQmFuayBvZiBJbmRpYScgfSwgQXRvbSB7aWQ6ICcxMDEyJyAsIHRleHQ6ICdCYW5rIG9mIEluZGlhJyB9LFxuICAgICAgICAgICAgICAgIHtpZDogJ0JPTUInLCB0ZXh0OiAnQmFuayBvZiBNYWhhcmFzaHRyYScgLCBsb2dvOiAnYmFua19vZl9tYWhhcmFzaHRyYSd9LC8vUGF5dSB7aWQ6ICdCT01CJywgdGV4dDogJ0Jhbmsgb2YgTWFoYXJhc2h0cmEnfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICcxMDMwJywgdGV4dDogJ0NhbmFyYSBCYW5rIE5ldEJhbmtpbmcnICwgbG9nbzogJ2NhbmFyYV9iYW5rJ30sLy97aWQ6ICdDQUJCJywgdGV4dDogJ0NhbmFyYSBCYW5rJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTAzNCcsIHRleHQ6ICdDYW5hcmEgQmFuayBEZWJpdENhcmQnICwgbG9nbzogJ2NhbmFyYV9iYW5rJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnQ1NCTicsIHRleHQ6ICdDYXRob2xpYyBTeXJpYW4gQmFuaycgLCBsb2dvOiAnY2F0aG9saWNfc3lyaWFuX2JhbmsnfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICdDQklCJywgdGV4dDogJ0NlbnRyYWwgQmFuayBPZiBJbmRpYScgLCBsb2dvOiAnY2VudHJhbF9iYW5rX29mX2luZGlhJ30sLy97aWQ6ICdDQklCJywgdGV4dDogJ0NlbnRyYWwgQmFuayBPZiBJbmRpYSd9LFxuICAgICAgICAgICAgICAgIHtpZDogJzEwMjAnLCB0ZXh0OiAnQ2l0eSBVbmlvbiBCYW5rJyAsIGxvZ286ICdjaXR5X3VuaW9uX2JhbmsnfSwvL3tpZDogJ0NVQkInLCB0ZXh0OiAnQ2l0eVVuaW9uJ30sXG4gICAgICAgICAgICAgICAgLyp7aWQ6ICdDSVROQicsIHRleHQ6ICdDaXRpIEJhbmsgTmV0QmFua2luZycgLCBsb2dvOiAnY2l0aV9iYW5rX25ldGJhbmtpbmcnfSwqL1xuICAgICAgICAgICAgICAgIHtpZDogJ0NSUEInLCB0ZXh0OiAnQ29ycG9yYXRpb24gQmFuaycgLCBsb2dvOiAnY29ycG9yYXRpb25fYmFuayd9LC8ve2lkOiAnQ1JQQicsIHRleHQ6ICdDb3Jwb3JhdGlvbiBCYW5rJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTA0NycsIHRleHQ6ICdEQlMgQmFuayBMdGQnICwgbG9nbzogJ2RzYl9iYW5rJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTA0MicsIHRleHQ6ICdEQ0IgQmFuayBCdXNpbmVzcycgLCBsb2dvOiAnZGNiX2JhbmsnfSwvL3tpZDogJ0RDQkInLCB0ZXh0OiAnRGV2ZWxvcG1lbnQgQ3JlZGl0IEJhbmsnfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICcxMDI3JywgdGV4dDogJ0RDQiBCYW5rIFBlcnNvbmFsJyAsIGxvZ286ICdkY2JfYmFuayd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ0RTSEInLCB0ZXh0OiAnRGV1dHNjaGUgQmFuaycgLCBsb2dvOiAnZGV1dHNjaGVfYmFuayd9LC8ve2lkOiAnRFNIQicsIHRleHQ6ICdEZXV0c2NoZSBCYW5rJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnRExTQicsIHRleHQ6ICdEaGFubGF4bWkgQmFuaycgLCBsb2dvOiAnZGhhbmxha3NobWlfYmFuayd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ0ZFREInLCB0ZXh0OiAnRmVkZXJhbCBCYW5rJyAsIGxvZ286ICdmZWRlcmFsX2JhbmsnfSwvL3tpZDogJ0ZFREInLCB0ZXh0OiAnRmVkZXJhbCBCYW5rJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnSERGQicsIHRleHQ6ICdIREZDIEJhbmsnICwgbG9nbzogJ2hkZmNfYmFuayd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ0lDSUInLCB0ZXh0OiAnSUNJQ0kgTmV0YmFua2luZycgLCBsb2dvOiAnaWNpY2lfYmFuayd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ0lEQkInLCB0ZXh0OiAnSURCSSBCYW5rJyAsIGxvZ286ICdpZGJpX2JhbmsnfSwvL3tpZDogJ0lEQkInLCB0ZXh0OiAnSW5kdXN0cmlhbCBEZXZlbG9wbWVudCBCYW5rIG9mIEluZGlhJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnSU5EQicsIHRleHQ6ICdJbmRpYW4gQmFuayAnICwgbG9nbzogJ2luZGlhbl9iYW5rJ30sLy97aWQ6ICdJTkRCJywgdGV4dDogJ0luZGlhbiBCYW5rICd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ0lOSUInLCB0ZXh0OiAnSW5kdXNJbmQgQmFuaycgLCBsb2dvOiAnaW5kdXNpbmRfYmFuayd9LC8ve2lkOiAnSU5JQicsIHRleHQ6ICdJbmR1c0luZCBCYW5rJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnSU5PQicsIHRleHQ6ICdJbmRpYW4gT3ZlcnNlYXMgQmFuaycgLCBsb2dvOiAnaW5kaWFuX292ZXJzZWFzX2JhbmsnfSwvL3tpZDogJ0lOT0InLCB0ZXh0OiAnSW5kaWFuIE92ZXJzZWFzIEJhbmsnfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICdKQUtCJywgdGV4dDogJ0phbW11IGFuZCBLYXNobWlyIEJhbmsnICwgbG9nbzogJ2pfa19iYW5rJ30sLy97aWQ6ICdKQUtCJywgdGV4dDogJ0phbW11IGFuZCBLYXNobWlyIEJhbmsnfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICdLUktCJywgdGV4dDogJ0thcm5hdGFrYSBCYW5rJyAsIGxvZ286ICdrYXJuYXRha2FfYmFuayd9LC8ve2lkOiAnS1JLQicsIHRleHQ6ICdLYXJuYXRha2EgQmFuayd9LFxuICAgICAgICAgICAgICAgIHtpZDogJzEwMTgnLCB0ZXh0OiAnS2FydXIgVnlzeWEgJyAsIGxvZ286ICdrYXJ1cl92eXN5YSd9LC8ve2lkOiAnS1JWQicsIHRleHQ6ICdLYXJ1ciBWeXN5YSAnfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICcxNjJCJywgdGV4dDogJ0tvdGFrIE1haGluZHJhIEJhbmsnICwgbG9nbzogJ2tvdGFrX21haGluZHJhX2JhbmsnfSwvL3tpZDogJzE2MkInLCB0ZXh0OiAnS290YWsgQmFuayd9XG4gICAgICAgICAgICAgICAge2lkOiAnMTAwOScsIHRleHQ6ICdMYWtzaG1pIFZpbGFzIEJhbmsgTmV0QmFua2luZycgLCBsb2dvOiAnbGFrc2htaV92aWxhcyd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ09CQ0InLCB0ZXh0OiAnT3JpZW50YWwgQmFuayBPZiBDb21tZXJjZScgLCBsb2dvOiAnb2JjJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnUFNCTkInLCB0ZXh0OiAnUHVuamFiIEFuZCBTaW5kIEJhbmsnICwgbG9nbzogJ3B1bmphYl9zaW5kaF9iYW5rJ30sIC8ve2lkOiAnUFNCTkInLCB0ZXh0OiAnUHVuamFiIEFuZCBTaW5kIEJhbmsnfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICdQTkJCJywgdGV4dDogJ1B1bmphYiBOYXRpb25hbCBCYW5rIOKAkyBSZXRhaWwnICwgbG9nbzogJ3BuYl9yZXRhaWwnfSxcbiAgICAgICAgICAgICAgICAvKntpZDogJzEwNTAnLCB0ZXh0OiAnUm95YWwgQmFuayBPZiBTY290bGFuZCcgLCBsb2dvOiAncm95YWxfYmFua19zY290bGFuZCd9LCovXG4gICAgICAgICAgICAgICAgLyp7aWQ6ICcxMDUzJywgdGV4dDogJ1NhcmFTd2F0IEJhbmsnICwgbG9nbzogJ3NhcmFzd2F0X2JhbmsnfSwqL1xuICAgICAgICAgICAgICAgIHtpZDogJzEwNTEnLCB0ZXh0OiAnU3RhbmRhcmQgQ2hhcnRlcmVkIEJhbmsnICwgbG9nbzogJ3N0YW5kYXJkX2NoYXJ0ZXJlZCd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ1NCQkpCJywgdGV4dDogJ1N0YXRlIEJhbmsgb2YgQmlrYW5lciBhbmQgSmFpcHVyJyAsIGxvZ286ICdzYmJqJ30sLy97aWQ6ICdTQkJKQicsIHRleHQ6ICdTdGF0ZSBCYW5rIG9mIEJpa2FuZXIgYW5kIEphaXB1cid9LFxuICAgICAgICAgICAgICAgIHtpZDogJ1NCSEInLCB0ZXh0OiAnU3RhdGUgQmFuayBvZiBIeWRlcmFiYWQnICwgLypsb2dvOiAnc2JoYicqL30sLy97aWQ6ICdTQkhCJywgdGV4dDogJ1N0YXRlIEJhbmsgb2YgSHlkZXJhYmFkJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnU0JJQicsIHRleHQ6ICdTdGF0ZSBCYW5rIG9mIEluZGlhJyAsIGxvZ286ICdzYmliJ30sLy97aWQ6ICdTQklCJywgdGV4dDogJ1N0YXRlIEJhbmsgb2YgSW5kaWEnfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICdTQk1CJywgdGV4dDogJ1N0YXRlIEJhbmsgb2YgTXlzb3JlJyAsIC8qbG9nbzogJ3NibWInKi99LC8ve2lkOiAnU0JNQicsIHRleHQ6ICdTdGF0ZSBCYW5rIG9mIE15c29yZSd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ1NCUEInLCB0ZXh0OiAnU3RhdGUgQmFuayBvZiBQYXRpYWxhJyAsIGxvZ286ICdzYnBiJ30sLy97aWQ6ICdTQlBCJywgdGV4dDogJ1N0YXRlIEJhbmsgb2YgUGF0aWFsYSd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ1NCVEInLCB0ZXh0OiAnU3RhdGUgQmFuayBvZiBUcmF2YW5jb3JlJyAsIC8qbG9nbzogJ3NidGInKi99LC8ve2lkOiAnU0JUQicsIHRleHQ6ICdTdGF0ZSBCYW5rIG9mIFRyYXZhbmNvcmUnfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICdTT0lCJywgdGV4dDogJ1NvdXRoIEluZGlhbiBCYW5rJyAsIGxvZ286ICdzb3V0aF9pbmRpYW5fYmFuayd9LC8ve2lkOiAnU09JQicsIHRleHQ6ICdTb3V0aCBJbmRpYW4gQmFuayd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ1VCSUInLCB0ZXh0OiAnVW5pb24gQmFuayBvZiBJbmRpYScgLCBsb2dvOiAndW5pb25fYmFua19vZl9pbmRpYSd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ1VOSUInLCB0ZXh0OiAnVW5pdGVkIEJhbmsgT2YgSW5kaWEnICwgbG9nbzogJ3VuaXRlZF9iYW5rJ30sLy97aWQ6ICdVTklCJywgdGV4dDogJ1VuaXRlZCBCYW5rIE9mIEluZGlhJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnVkpZQicsIHRleHQ6ICdWaWpheWEgQmFuaycgLCBsb2dvOiAndmlqeWFfYmFuayd9LC8ve2lkOiAnVkpZQicsIHRleHQ6ICdWaWpheWEgQmFuayd9LFxuICAgICAgICAgICAgICAgIHtpZDogJ1lFU0InLCB0ZXh0OiAnWWVzIEJhbmsnICwgbG9nbzogJ3llc19iYW5rJ30sLy97aWQ6ICdZRVNCJywgdGV4dDogJ1llcyBCYW5rJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnVE1CQicsIHRleHQ6ICdUYW1pbG5hZCBNZXJjYW50aWxlIEJhbmsnICwgbG9nbzogJ3RfbV9iYW5rJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTAxNicsIHRleHQ6ICdVbmlvbiBCYW5rJyAsIGxvZ286ICd1bmlvbl9iYW5rJ30sXG4gICAgICAgICAgICAgICAgLy8gICAge2lkOiAnMjAwMScsIHRleHQ6ICcgQVRPTSBUZXN0IGJhbmsnfSxcbiBcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB3YWxsZXRzIDpbXG4gICAgICAgICAgICAgICAge2lkOiAnMTAwMScsIHRleHQ6ICdNb2JpS3dpaycsIGxvZ286ICdtb2Jpa3dpa19iYWNrZ3JvdW5kJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTAwMicsIHRleHQ6ICdQYXl0bScsIGxvZ286ICdwYXl0bV9iYWNrZ3JvdW5kJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTAwMycsIHRleHQ6ICdJZGVhIE1vbmV5JywgbG9nbzogJ2lkZWFtb25leV9iYWNrZ3JvdW5kJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTAwNCcsIHRleHQ6ICdGcmVlQ2hhcmdlJywgbG9nbzogJ2ZyZWVjaGFyZ2VfYmFja2dyb3VuZCd9LFxuICAgICAgICAgICAgICAgIHtpZDogJzEwMDUnLCB0ZXh0OiAnT3hpZ2VuJywgbG9nbzogJ294aWdlbl9iYWNrZ3JvdW5kJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTAwNicsIHRleHQ6ICdTQkkgQnVkZHknLCBsb2dvOiAnc2JpX2J1ZGR5X2JhY2tncm91bmQnfSxcbiAgICAgICAgICAgICAgICB7aWQ6ICcxMDA3JywgdGV4dDogJ1RoZSBNb2JpbGUgV2FsbGV0JywgbG9nbzogJ3RoZV9tb2JpbGVfd2FsbGV0J30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTAwOCcsIHRleHQ6ICdqaW9Nb25leScsIGxvZ286ICdqaW9tb25leV9iYWNrZ3JvdW5kJ30sXG4gICAgICAgICAgICAgICAge2lkOiAnMTAwOScsIHRleHQ6ICdKYW5hIENhc2gnLCBsb2dvOiAnamFuYWNhY2hfYmFja2dyb3VuZCd9LFxuICAgICAgICAgICAgICAgIHtpZDogJzEwMTAnLCB0ZXh0OiAnWmlnZ2l0IGJ5IElERkMgQmFuaycsIGxvZ286ICd6aWdnaXRfYmFja2dyb3VuZCd9LFxuICAgICAgICAgICAgICAgIHtpZDogJzEwMTEnLCB0ZXh0OiAnSUNhc2ggQ2FyZCcsIGxvZ286ICdpY2FzaF9iYWNrZ3JvdW5kJ31cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBmb3JtYXRZZWFyOiBmdW5jdGlvbiAoeWVhcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB5ZWFyLnNsaWNlKC0yKTs7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybWF0UGF5TW9uZXk6ZnVuY3Rpb24oYW1vdW50KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjb3VudGluZy5mb3JtYXRNb25leShhbW91bnQsICc8aSBjbGFzcz1cImluciBpY29uIGN1cnJlbmN5XCI+PC9pPicsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgXG4gICAgfSxcblxuICAgIG9uY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzO1xuIFxuICAgICAgICBcbiAgICAgICAgdGhpcy5vYnNlcnZlKCdib29raW5nLnN0ZXBzLjMuYWN0aXZlJywgZnVuY3Rpb24oYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdmlldy5DQ0F2ZW51ZUVNSSgpO1xuICAgICAgICAgICAgICAgIHZpZXcuZ2V0KCdib29raW5nJykuc2V0Q3VycmVudFN0ZXBGb3JNb2JpbGUoMyk7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9iMmMvYm9va2luZy9jYXJkcycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgYm9va2luZ19pZDogdGhpcy5nZXQoJ2Jvb2tpbmcuaWQnKSB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgnY2FyZHMnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ZpZXcuc2V0Q2FyZChkYXRhW2RhdGEubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgnY2FyZHMnLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICB2aWV3LnNldCgncHJvbW9jb2RlJyx2aWV3LmdldCgnYm9va2luZy5wcm9tb19jb2RlJykpO1xuICAgICAgICAgICAgICAgICB2aWV3LnNldCgncHJvbW92YWx1ZScsdmlldy5nZXQoJ2Jvb2tpbmcucHJvbW9fdmFsdWUnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub2JzZXJ2ZSgnYm9va2luZy5wYXltZW50LmFjdGl2ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KCdib29raW5nJykpIHtcbiAgICAgICAgICAgICAgICAvL3ZpZXcuY2xlYXJGb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXQoJ2Jvb2tpbmcnKS5yZXNldFBheW1lbnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnYm9va2luZy5zdGVwcy4zLmVycm9ycycsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmdldCgnYm9va2luZy5wYXltZW50LmFjdGl2ZScpID09PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0KCdib29raW5nJykucHltdENvbnZGZWUoNyAsIC0xLCBudWxsKTsgLy8gZm9yIFVQSVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge2luaXQ6IGZhbHNlfSk7XG4gICAgICAgIFxuICAgICAgXG4gICAgfSxcblxuXG4gICAgc3VibWl0OiBmdW5jdGlvbigpIHsgXG4gICAgICAgIC8vdmFyIGJvb2tpbmcgPSB0aGlzLmdldCgnYm9va2luZycpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKGJvb2tpbmcpO1xuICAgICAgICAvL2FsZXJ0KHRoaXMuZ2V0KCdib29raW5nLnBheW1lbnQubmV0YmFua2luZy5uZXRfYmFua2luZycpKTtcbiAgICAgICAgLy9hbGVydCh0aGlzLmdldCgnYm9va2luZy5wYXltZW50Lm5ldGJhbmtpbmcubmV0X2JhbmtpbmcnKSk7XG4gICAgICAgIFxuLy8gICAgICAgIHZhciBjYXJkZXhwaXJ5PSQoJyNjYy1leHAnKS52YWwoKTtcbi8vICAgICAgICBjb25zb2xlLmxvZyhjYXJkZXhwaXJ5KTtcbi8vICAgICAgICBpZihjYXJkZXhwaXJ5ICE9bnVsbCAmJiBjYXJkZXhwaXJ5ICE9Jycpe1xuLy8gICAgICAgICAgICBjYXJkYXJyPWNhcmRleHBpcnkuc3BsaXQoJy8nKTtcbi8vICAgICAgICAgICAgYm9va2luZy5zZXQoJ3BheW1lbnQuY2MuZXhwX21vbnRoJyx0cmltKGNhcmRhcnJbMF0pKTtcbi8vICAgICAgICAgICAgYm9va2luZy5zZXQoJ3BheW1lbnQuY2MuZXhwX3llYXInLHRyaW0oY2FyZGFyclsxXSkpO1xuLy8gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5nZXQoJ2Jvb2tpbmcuY29udmZlZWZsYWcnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2Ugd2FpdCBhbmQgY2xpY2sgYWdhaW4gb24gQm9vayBGbGlnaHQnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0KCdib29raW5nJykuc3RlcDMoKTtcbiAgICB9LFxuICAgIHNldENhcmQ6IGZ1bmN0aW9uKGNjKSB7XG4gICAgICAgIHZhciBib29raW5nID0gdGhpcy5nZXQoJ2Jvb2tpbmcnKTtcblxuICAgICAgICBpZiAoYm9va2luZy5nZXQoJ3BheW1lbnQuY2MuaWQnKSAhPT0gY2MuaWQpIHtcbiAgICAgICAgICAgIGJvb2tpbmcuc2V0KCdwYXltZW50LmNjJywgY2MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9va2luZy5zZXQoJ3BheW1lbnQuY2MnLCB7fSk7XG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICByZXNldENDOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgYm9va2luZyA9IHRoaXMuZ2V0KCdib29raW5nJyksXG4gICAgICAgICAgICBlID0gZXZlbnQub3JpZ2luYWwsXG4gICAgICAgICAgICBlbCA9ICQoZS5zcmNFbGVtZW50KSxcbiAgICAgICAgICAgIGlkID0gYm9va2luZy5nZXQoJ3BheW1lbnQuY2MuaWQnKSxcbiAgICAgICAgICAgIHl1cCA9IDAgPT0gZWwucGFyZW50cygnLnVpLmlucHV0LmN2dicpLnNpemUoKSAmJiAoKCdJTlBVVCcgPT0gZWxbMF0udGFnTmFtZSkgfHwgZWwuaGFzQ2xhc3MoJ2Ryb3Bkb3duJykgfHwgZWwucGFyZW50cygnLnVpLmRyb3Bkb3duJykuc2l6ZSgpKTtcblxuICAgICAgICBpZiAoaWQgJiYgeXVwKSB7XG4gICAgICAgICAgICBib29raW5nLnNldCgncGF5bWVudC5jYycsIHt9KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBiYWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5nZXQoJ2Jvb2tpbmcnKS5hY3RpdmF0ZSgyKTtcbiAgICB9LFxuXG4gICAgYXBwbHlQcm9tb0NvZGU6ZnVuY3Rpb24oKXtcbiAgICAgICAgIFxuICAgICAgICAgIHZhciBwcm9tb2NvZGU9dGhpcy5nZXQoJ3Byb21vY29kZScpO1xuICAgICAgICAgIHRoaXMuc2V0KCdwcm9tb2Vycm9yJyxudWxsKTtcbiAgICAgICAgIFxuICAgICAgICB2YXIgdmlldyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHZhciBkYXRhID0ge2lkOiB0aGlzLmdldCgnYm9va2luZy5pZCcpLHByb21vOnByb21vY29kZX07XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCxcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogJy9iMmMvYm9va2luZy9jaGVja1Byb21vQ29kZScsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmKGRhdGEuaGFzT3duUHJvcGVydHkoJ2Vycm9yJykpeyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldCgncHJvbW9lcnJvcicsZGF0YS5lcnJvcik7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoZGF0YS5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSl7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdwcm9tb3ZhbHVlJyxkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Jvb2tpbmcucHJvbW9fdmFsdWUnLGRhdGEudmFsdWUpOyBcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Jvb2tpbmcucHJvbW9fY29kZScsZGF0YS5jb2RlKTsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAgXG4gICAgfSxcbiAgICByZW1vdmVQcm9tb0NvZGU6ZnVuY3Rpb24oKXtcbiAgICAgLy8gICBjb25zb2xlLmxvZygncmVtb3ZlUHJvbW9Db2RlJyk7XG4gICAgICAgIHRoaXMuc2V0KCdwcm9tb2Vycm9yJyxudWxsKTtcbiAgICAgICAgdGhpcy5zZXQoJ3Byb21vY29kZScsbnVsbCk7XG4gICAgICAgIHRoaXMuc2V0KCdwcm9tb3ZhbHVlJyxudWxsKTsgXG4gICAgICAgIFxuICAgICAgICB2YXIgdmlldyA9IHRoaXM7ICAgICAgXG4gICAgICAgIHZhciBkYXRhID0ge2lkOiB0aGlzLmdldCgnYm9va2luZy5pZCcpfTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiAnL2IyYy9ib29raW5nL3JlbW92ZVByb21vQ29kZScsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdib29raW5nLnByb21vX3ZhbHVlJyxudWxsKTsgXG4gICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Jvb2tpbmcucHJvbW9fY29kZScsbnVsbCk7ICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHJlbW92ZUVycm9yTXNnOmZ1bmN0aW9uKCl7XG4gICAgICAgIHRoaXMuc2V0KCdwcm9tb2Vycm9yJyxudWxsKTtcbiAgICB9LFxuICAgIGNoZWNrRXhwaXJ5OmZ1bmN0aW9uKCl7XG4gICAgICAgICAkLmZuLnRvZ2dsZUlucHV0RXJyb3IgPSBmdW5jdGlvbihlcnJlZCkge1xuICAgICAgICB0aGlzLnBhcmVudCgnLmZvcm0tZ3JvdXAnKS50b2dnbGVDbGFzcygnaGFzLWVycm9yJywgZXJyZWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgICAkKCcuY2MtZXhwJykudmFsKCk7XG4gICAgICAkLnBheW1lbnQudmFsaWRhdGVDYXJkRXhwaXJ5KCcwNScsICcyMCcpOyAvLz0+IHRydWVcbiAgICAgICAgICQoJy5jYy1leHAnKS50b2dnbGVJbnB1dEVycm9yKCEkLnBheW1lbnQudmFsaWRhdGVDYXJkRXhwaXJ5KCQoJy5jYy1leHAnKS5wYXltZW50KCdjYXJkRXhwaXJ5VmFsJykpKTtcbiAgICAgICAgICQoJy52YWxpZGF0aW9uJykucmVtb3ZlQ2xhc3MoJ3RleHQtZGFuZ2VyIHRleHQtc3VjY2VzcycpO1xuICAgICAgICAgJCgnLnZhbGlkYXRpb24nKS5hZGRDbGFzcygkKCcuaGFzLWVycm9yJykubGVuZ3RoID8gJ3RleHQtZGFuZ2VyJyA6ICd0ZXh0LXN1Y2Nlc3MnKTtcbiAgICB9LFxuICAgIENDQXZlbnVlRU1JOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXG4gICAgICAgIHZhciB2aWV3ID0gdGhpcyxcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIGpzb25EYXRhLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgdmFsdWUxLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgaW5kZXgxLGRhdGExLGRhdGEyLFxuICAgICAgICBwbGFuc19lbWlcbiAgICAgICAgO1xuICAgICAgICByZXNwb25zZSA9ICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhOiB7IGlkOiB2aWV3LmdldCgnYm9va2luZy5pZCcpLCBlbWlfZmxhZzogJ3BheW1lbnRfZW1pJyB9LFxuICAgICAgICAgICAgdXJsOiAnL2IyYy9Cb29raW5nL0NDQXZlbnVlRU1JJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3BvbnNlLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgaWYgKCBkYXRhICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICAgICAgICBqc29uRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdlbWlPcHRpb25zJywganNvbkRhdGEpO1xuICAgICAgICAgICAgICAgICQuZWFjaChqc29uRGF0YSwgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLnBheU9wdCA9PSAnT1BURU1JJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2VtaVBheW1lbnRSZWFkeScsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2Jvb2tpbmcucGF5bWVudC5lbWkucGF5bWVudF9vcHRpb24nLCB2YWx1ZS5wYXlPcHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXQoJ2VtaV9iYW5rcycsSlNPTi5wYXJzZSh2YWx1ZS5FbWlCYW5rcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhbnNfZW1pID0gSlNPTi5wYXJzZSh2YWx1ZS5FbWlQbGFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gocGxhbnNfZW1pLCBmdW5jdGlvbihpbmRleDEsIHZhbHVlMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlMS5lbWlBbW91bnQgPSB2YWx1ZTEuZW1pQW1vdW50LnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUxLnRvdGFsID0gdmFsdWUxLnRvdGFsLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdlbWlfcGxhbnMnLCBwbGFuc19lbWkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3BvbnNlLmVycm9yKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHZpZXcuc2V0KCdlbWlfdW5hdmFpbGFibGUnLCBkYXRhLnJlc3BvbnNlSlNPTi5tZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzaG93RW1pUGxhbnM6IGZ1bmN0aW9uKCkge1xuICAgIFx0dmFyIHZpZXcgPSB0aGlzO1xuICAgIFx0dmlldy5zZXQoJ3NlbGVjdGVkUGxhbicsICQoXCIjZW1pX2JhbmtzXCIpLnZhbCgpKTtcbiAgICBcdHZpZXcuc2V0KCdib29raW5nLnBheW1lbnQuZW1pLnBsYW5JZCcsICQoXCIjZW1pX2JhbmtzXCIpLnZhbCgpKTtcbiAgICBcdHZpZXcuc2V0KCdzaG93RW1pUGxhbnMnLCB0cnVlKTtcbiAgICB9LFxuICAgIHNob3dDYXJkRmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICBcdHZhciB2aWV3ID0gdGhpcztcbiAgICAgICAgJC5lYWNoKHZpZXcuZ2V0KCdlbWlfcGxhbnMnKSwgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgICBpZih2YWx1ZS5wbGFuSWQgPT0gdmlldy5nZXQoJ2Jvb2tpbmcucGF5bWVudC5lbWkucGxhbklkJykpIHtcbiAgICAgICAgICAgICAgICB2aWV3LnNldCgnYm9va2luZy5wYXltZW50LmVtaS5lbWlfdGVudXJlX2lkJywgdmFsdWUudGVudXJlSWQpO1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0KCdib29raW5nLnBheW1lbnQuZW1pLmN1cnJlbmN5JywgdmFsdWUuY3VycmVuY3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmlldy5zZXQoJ3JlYWR5Q2FyZEZpZWxkcycsIHRydWUpO1xuICAgIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21wb25lbnRzL2ZsaWdodHMvYm9va2luZy9zdGVwMy5qc1xuLy8gbW9kdWxlIGlkID0gOTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUiLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuNy4xXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBjYXJkRnJvbU51bWJlciwgY2FyZEZyb21UeXBlLCBjYXJkcywgZGVmYXVsdEZvcm1hdCwgZm9ybWF0QmFja0NhcmROdW1iZXIsIGZvcm1hdEJhY2tFeHBpcnksIGZvcm1hdENhcmROdW1iZXIsIGZvcm1hdEV4cGlyeSwgZm9ybWF0Rm9yd2FyZEV4cGlyeSwgZm9ybWF0Rm9yd2FyZFNsYXNoQW5kU3BhY2UsIGhhc1RleHRTZWxlY3RlZCwgbHVobkNoZWNrLCByZUZvcm1hdENWQywgcmVGb3JtYXRDYXJkTnVtYmVyLCByZUZvcm1hdEV4cGlyeSwgcmVGb3JtYXROdW1lcmljLCByZXN0cmljdENWQywgcmVzdHJpY3RDYXJkTnVtYmVyLCByZXN0cmljdEV4cGlyeSwgcmVzdHJpY3ROdW1lcmljLCBzZXRDYXJkVHlwZSxcbiAgICBfX3NsaWNlID0gW10uc2xpY2UsXG4gICAgX19pbmRleE9mID0gW10uaW5kZXhPZiB8fCBmdW5jdGlvbihpdGVtKSB7IGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsgaWYgKGkgaW4gdGhpcyAmJiB0aGlzW2ldID09PSBpdGVtKSByZXR1cm4gaTsgfSByZXR1cm4gLTE7IH07XG5cbiAgJC5wYXltZW50ID0ge307XG5cbiAgJC5wYXltZW50LmZuID0ge307XG5cbiAgJC5mbi5wYXltZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MsIG1ldGhvZDtcbiAgICBtZXRob2QgPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBfX3NsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIHJldHVybiAkLnBheW1lbnQuZm5bbWV0aG9kXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfTtcblxuICBkZWZhdWx0Rm9ybWF0ID0gLyhcXGR7MSw0fSkvZztcblxuICAkLnBheW1lbnQuY2FyZHMgPSBjYXJkcyA9IFtcbiAgICB7XG4gICAgICB0eXBlOiAndmlzYWVsZWN0cm9uJyxcbiAgICAgIHBhdHRlcm46IC9eNCgwMjZ8MTc1MDB8NDA1fDUwOHw4NDR8OTFbMzddKS8sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnbWFlc3RybycsXG4gICAgICBwYXR0ZXJuOiAvXig1KDAxOHwwWzIzXXxbNjhdKXw2KDM5fDcpKS8sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTldLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfSwge1xuICAgICAgdHlwZTogJ2ZvcmJydWdzZm9yZW5pbmdlbicsXG4gICAgICBwYXR0ZXJuOiAvXjYwMC8sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnZGFua29ydCcsXG4gICAgICBwYXR0ZXJuOiAvXjUwMTkvLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgbGVuZ3RoOiBbMTZdLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfSwge1xuICAgICAgdHlwZTogJ3Zpc2EnLFxuICAgICAgcGF0dGVybjogL140LyxcbiAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzEzLCAxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnbWFzdGVyY2FyZCcsXG4gICAgICBwYXR0ZXJuOiAvXig1WzAtNV18MlsyLTddKS8sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnYW1leCcsXG4gICAgICBwYXR0ZXJuOiAvXjNbNDddLyxcbiAgICAgIGZvcm1hdDogLyhcXGR7MSw0fSkoXFxkezEsNn0pPyhcXGR7MSw1fSk/LyxcbiAgICAgIGxlbmd0aDogWzE1XSxcbiAgICAgIGN2Y0xlbmd0aDogWzMsIDRdLFxuICAgICAgbHVobjogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHR5cGU6ICdkaW5lcnNjbHViJyxcbiAgICAgIHBhdHRlcm46IC9eM1swNjg5XS8sXG4gICAgICBmb3JtYXQ6IC8oXFxkezEsNH0pKFxcZHsxLDZ9KT8oXFxkezEsNH0pPy8sXG4gICAgICBsZW5ndGg6IFsxNF0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnZGlzY292ZXInLFxuICAgICAgcGF0dGVybjogL142KFswNDVdfDIyKS8sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAndW5pb25wYXknLFxuICAgICAgcGF0dGVybjogL14oNjJ8ODgpLyxcbiAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzE2LCAxNywgMTgsIDE5XSxcbiAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgbHVobjogZmFsc2VcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnamNiJyxcbiAgICAgIHBhdHRlcm46IC9eMzUvLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgbGVuZ3RoOiBbMTZdLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfVxuICBdO1xuXG4gIGNhcmRGcm9tTnVtYmVyID0gZnVuY3Rpb24obnVtKSB7XG4gICAgdmFyIGNhcmQsIF9pLCBfbGVuO1xuICAgIG51bSA9IChudW0gKyAnJykucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IGNhcmRzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICBjYXJkID0gY2FyZHNbX2ldO1xuICAgICAgaWYgKGNhcmQucGF0dGVybi50ZXN0KG51bSkpIHtcbiAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNhcmRGcm9tVHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICB2YXIgY2FyZCwgX2ksIF9sZW47XG4gICAgZm9yIChfaSA9IDAsIF9sZW4gPSBjYXJkcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgY2FyZCA9IGNhcmRzW19pXTtcbiAgICAgIGlmIChjYXJkLnR5cGUgPT09IHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGx1aG5DaGVjayA9IGZ1bmN0aW9uKG51bSkge1xuICAgIHZhciBkaWdpdCwgZGlnaXRzLCBvZGQsIHN1bSwgX2ksIF9sZW47XG4gICAgb2RkID0gdHJ1ZTtcbiAgICBzdW0gPSAwO1xuICAgIGRpZ2l0cyA9IChudW0gKyAnJykuc3BsaXQoJycpLnJldmVyc2UoKTtcbiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IGRpZ2l0cy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgZGlnaXQgPSBkaWdpdHNbX2ldO1xuICAgICAgZGlnaXQgPSBwYXJzZUludChkaWdpdCwgMTApO1xuICAgICAgaWYgKChvZGQgPSAhb2RkKSkge1xuICAgICAgICBkaWdpdCAqPSAyO1xuICAgICAgfVxuICAgICAgaWYgKGRpZ2l0ID4gOSkge1xuICAgICAgICBkaWdpdCAtPSA5O1xuICAgICAgfVxuICAgICAgc3VtICs9IGRpZ2l0O1xuICAgIH1cbiAgICByZXR1cm4gc3VtICUgMTAgPT09IDA7XG4gIH07XG5cbiAgaGFzVGV4dFNlbGVjdGVkID0gZnVuY3Rpb24oJHRhcmdldCkge1xuICAgIHZhciBfcmVmO1xuICAgIGlmICgoJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9IG51bGwpICYmICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPT0gJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25FbmQnKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50ICE9PSBudWxsID8gKF9yZWYgPSBkb2N1bWVudC5zZWxlY3Rpb24pICE9IG51bGwgPyBfcmVmLmNyZWF0ZVJhbmdlIDogdm9pZCAwIDogdm9pZCAwKSAhPSBudWxsKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHJlRm9ybWF0TnVtZXJpYyA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICB2YWx1ZSA9ICR0YXJnZXQudmFsKCk7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlRm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICB2YWx1ZSA9ICR0YXJnZXQudmFsKCk7XG4gICAgICB2YWx1ZSA9ICQucGF5bWVudC5mb3JtYXRDYXJkTnVtYmVyKHZhbHVlKTtcbiAgICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWx1ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgY2FyZCwgZGlnaXQsIGxlbmd0aCwgcmUsIHVwcGVyTGVuZ3RoLCB2YWx1ZTtcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICBjYXJkID0gY2FyZEZyb21OdW1iZXIodmFsdWUgKyBkaWdpdCk7XG4gICAgbGVuZ3RoID0gKHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJykgKyBkaWdpdCkubGVuZ3RoO1xuICAgIHVwcGVyTGVuZ3RoID0gMTY7XG4gICAgaWYgKGNhcmQpIHtcbiAgICAgIHVwcGVyTGVuZ3RoID0gY2FyZC5sZW5ndGhbY2FyZC5sZW5ndGgubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGlmIChsZW5ndGggPj0gdXBwZXJMZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCgkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT0gbnVsbCkgJiYgJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNhcmQgJiYgY2FyZC50eXBlID09PSAnYW1leCcpIHtcbiAgICAgIHJlID0gL14oXFxkezR9fFxcZHs0fVxcc1xcZHs2fSkkLztcbiAgICB9IGVsc2Uge1xuICAgICAgcmUgPSAvKD86XnxcXHMpKFxcZHs0fSkkLztcbiAgICB9XG4gICAgaWYgKHJlLnRlc3QodmFsdWUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlICsgJyAnICsgZGlnaXQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZS50ZXN0KHZhbHVlICsgZGlnaXQpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlICsgZGlnaXQgKyAnICcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGZvcm1hdEJhY2tDYXJkTnVtYmVyID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICBpZiAoZS53aGljaCAhPT0gOCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoKCR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPSBudWxsKSAmJiAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoL1xcZFxccyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcZFxccyQvLCAnJykpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICgvXFxzXFxkPyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcZCQvLCAnJykpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJlRm9ybWF0RXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAgICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICAgIHZhbHVlID0gJC5wYXltZW50LmZvcm1hdEV4cGlyeSh2YWx1ZSk7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZvcm1hdEV4cGlyeSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbDtcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbCA9ICR0YXJnZXQudmFsKCkgKyBkaWdpdDtcbiAgICBpZiAoL15cXGQkLy50ZXN0KHZhbCkgJiYgKHZhbCAhPT0gJzAnICYmIHZhbCAhPT0gJzEnKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkdGFyZ2V0LnZhbChcIjBcIiArIHZhbCArIFwiIC8gXCIpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICgvXlxcZFxcZCQvLnRlc3QodmFsKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkdGFyZ2V0LnZhbChcIlwiICsgdmFsICsgXCIgLyBcIik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZm9ybWF0Rm9yd2FyZEV4cGlyeSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbDtcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbCA9ICR0YXJnZXQudmFsKCk7XG4gICAgaWYgKC9eXFxkXFxkJC8udGVzdCh2YWwpKSB7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwoXCJcIiArIHZhbCArIFwiIC8gXCIpO1xuICAgIH1cbiAgfTtcblxuICBmb3JtYXRGb3J3YXJkU2xhc2hBbmRTcGFjZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgdmFsLCB3aGljaDtcbiAgICB3aGljaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgaWYgKCEod2hpY2ggPT09ICcvJyB8fCB3aGljaCA9PT0gJyAnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbCA9ICR0YXJnZXQudmFsKCk7XG4gICAgaWYgKC9eXFxkJC8udGVzdCh2YWwpICYmIHZhbCAhPT0gJzAnKSB7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwoXCIwXCIgKyB2YWwgKyBcIiAvIFwiKTtcbiAgICB9XG4gIH07XG5cbiAgZm9ybWF0QmFja0V4cGlyeSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgdmFsdWU7XG4gICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICB2YWx1ZSA9ICR0YXJnZXQudmFsKCk7XG4gICAgaWYgKGUud2hpY2ggIT09IDgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCgkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT0gbnVsbCkgJiYgJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKC9cXGRcXHNcXC9cXHMkLy50ZXN0KHZhbHVlKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWx1ZS5yZXBsYWNlKC9cXGRcXHNcXC9cXHMkLywgJycpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICByZUZvcm1hdENWQyA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICB2YWx1ZSA9ICR0YXJnZXQudmFsKCk7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJykuc2xpY2UoMCwgNCk7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlc3RyaWN0TnVtZXJpYyA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgaW5wdXQ7XG4gICAgaWYgKGUubWV0YUtleSB8fCBlLmN0cmxLZXkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZS53aGljaCA9PT0gMzIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGUud2hpY2ggPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZS53aGljaCA8IDMzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaW5wdXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgIHJldHVybiAhIS9bXFxkXFxzXS8udGVzdChpbnB1dCk7XG4gIH07XG5cbiAgcmVzdHJpY3RDYXJkTnVtYmVyID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCBjYXJkLCBkaWdpdCwgdmFsdWU7XG4gICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaGFzVGV4dFNlbGVjdGVkKCR0YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhbHVlID0gKCR0YXJnZXQudmFsKCkgKyBkaWdpdCkucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICBjYXJkID0gY2FyZEZyb21OdW1iZXIodmFsdWUpO1xuICAgIGlmIChjYXJkKSB7XG4gICAgICByZXR1cm4gdmFsdWUubGVuZ3RoIDw9IGNhcmQubGVuZ3RoW2NhcmQubGVuZ3RoLmxlbmd0aCAtIDFdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWUubGVuZ3RoIDw9IDE2O1xuICAgIH1cbiAgfTtcblxuICByZXN0cmljdEV4cGlyeSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbHVlO1xuICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgZGlnaXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgIGlmICghL15cXGQrJC8udGVzdChkaWdpdCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGhhc1RleHRTZWxlY3RlZCgkdGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YWx1ZSA9ICR0YXJnZXQudmFsKCkgKyBkaWdpdDtcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+IDYpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgcmVzdHJpY3RDVkMgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0YXJnZXQsIGRpZ2l0LCB2YWw7XG4gICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaGFzVGV4dFNlbGVjdGVkKCR0YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhbCA9ICR0YXJnZXQudmFsKCkgKyBkaWdpdDtcbiAgICByZXR1cm4gdmFsLmxlbmd0aCA8PSA0O1xuICB9O1xuXG4gIHNldENhcmRUeXBlID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCBhbGxUeXBlcywgY2FyZCwgY2FyZFR5cGUsIHZhbDtcbiAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbCA9ICR0YXJnZXQudmFsKCk7XG4gICAgY2FyZFR5cGUgPSAkLnBheW1lbnQuY2FyZFR5cGUodmFsKSB8fCAndW5rbm93bic7XG4gICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKGNhcmRUeXBlKSkge1xuICAgICAgYWxsVHlwZXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfaSwgX2xlbiwgX3Jlc3VsdHM7XG4gICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gY2FyZHMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICBjYXJkID0gY2FyZHNbX2ldO1xuICAgICAgICAgIF9yZXN1bHRzLnB1c2goY2FyZC50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICB9KSgpO1xuICAgICAgJHRhcmdldC5yZW1vdmVDbGFzcygndW5rbm93bicpO1xuICAgICAgJHRhcmdldC5yZW1vdmVDbGFzcyhhbGxUeXBlcy5qb2luKCcgJykpO1xuICAgICAgJHRhcmdldC5hZGRDbGFzcyhjYXJkVHlwZSk7XG4gICAgICAkdGFyZ2V0LnRvZ2dsZUNsYXNzKCdpZGVudGlmaWVkJywgY2FyZFR5cGUgIT09ICd1bmtub3duJyk7XG4gICAgICByZXR1cm4gJHRhcmdldC50cmlnZ2VyKCdwYXltZW50LmNhcmRUeXBlJywgY2FyZFR5cGUpO1xuICAgIH1cbiAgfTtcblxuICAkLnBheW1lbnQuZm4uZm9ybWF0Q2FyZENWQyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub24oJ2tleXByZXNzJywgcmVzdHJpY3ROdW1lcmljKTtcbiAgICB0aGlzLm9uKCdrZXlwcmVzcycsIHJlc3RyaWN0Q1ZDKTtcbiAgICB0aGlzLm9uKCdwYXN0ZScsIHJlRm9ybWF0Q1ZDKTtcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCByZUZvcm1hdENWQyk7XG4gICAgdGhpcy5vbignaW5wdXQnLCByZUZvcm1hdENWQyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgJC5wYXltZW50LmZuLmZvcm1hdENhcmRFeHBpcnkgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uKCdrZXlwcmVzcycsIHJlc3RyaWN0TnVtZXJpYyk7XG4gICAgdGhpcy5vbigna2V5cHJlc3MnLCByZXN0cmljdEV4cGlyeSk7XG4gICAgdGhpcy5vbigna2V5cHJlc3MnLCBmb3JtYXRFeHBpcnkpO1xuICAgIHRoaXMub24oJ2tleXByZXNzJywgZm9ybWF0Rm9yd2FyZFNsYXNoQW5kU3BhY2UpO1xuICAgIHRoaXMub24oJ2tleXByZXNzJywgZm9ybWF0Rm9yd2FyZEV4cGlyeSk7XG4gICAgdGhpcy5vbigna2V5ZG93bicsIGZvcm1hdEJhY2tFeHBpcnkpO1xuICAgIHRoaXMub24oJ2NoYW5nZScsIHJlRm9ybWF0RXhwaXJ5KTtcbiAgICB0aGlzLm9uKCdpbnB1dCcsIHJlRm9ybWF0RXhwaXJ5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAkLnBheW1lbnQuZm4uZm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub24oJ2tleXByZXNzJywgcmVzdHJpY3ROdW1lcmljKTtcbiAgICB0aGlzLm9uKCdrZXlwcmVzcycsIHJlc3RyaWN0Q2FyZE51bWJlcik7XG4gICAgdGhpcy5vbigna2V5cHJlc3MnLCBmb3JtYXRDYXJkTnVtYmVyKTtcbiAgICB0aGlzLm9uKCdrZXlkb3duJywgZm9ybWF0QmFja0NhcmROdW1iZXIpO1xuICAgIHRoaXMub24oJ2tleXVwJywgc2V0Q2FyZFR5cGUpO1xuICAgIHRoaXMub24oJ3Bhc3RlJywgcmVGb3JtYXRDYXJkTnVtYmVyKTtcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCByZUZvcm1hdENhcmROdW1iZXIpO1xuICAgIHRoaXMub24oJ2lucHV0JywgcmVGb3JtYXRDYXJkTnVtYmVyKTtcbiAgICB0aGlzLm9uKCdpbnB1dCcsIHNldENhcmRUeXBlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAkLnBheW1lbnQuZm4ucmVzdHJpY3ROdW1lcmljID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vbigna2V5cHJlc3MnLCByZXN0cmljdE51bWVyaWMpO1xuICAgIHRoaXMub24oJ3Bhc3RlJywgcmVGb3JtYXROdW1lcmljKTtcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCByZUZvcm1hdE51bWVyaWMpO1xuICAgIHRoaXMub24oJ2lucHV0JywgcmVGb3JtYXROdW1lcmljKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAkLnBheW1lbnQuZm4uY2FyZEV4cGlyeVZhbCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkLnBheW1lbnQuY2FyZEV4cGlyeVZhbCgkKHRoaXMpLnZhbCgpKTtcbiAgfTtcblxuICAkLnBheW1lbnQuY2FyZEV4cGlyeVZhbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIG1vbnRoLCBwcmVmaXgsIHllYXIsIF9yZWY7XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpO1xuICAgIF9yZWYgPSB2YWx1ZS5zcGxpdCgnLycsIDIpLCBtb250aCA9IF9yZWZbMF0sIHllYXIgPSBfcmVmWzFdO1xuICAgIGlmICgoeWVhciAhPSBudWxsID8geWVhci5sZW5ndGggOiB2b2lkIDApID09PSAyICYmIC9eXFxkKyQvLnRlc3QoeWVhcikpIHtcbiAgICAgIHByZWZpeCA9IChuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHByZWZpeCA9IHByZWZpeC50b1N0cmluZygpLnNsaWNlKDAsIDIpO1xuICAgICAgeWVhciA9IHByZWZpeCArIHllYXI7XG4gICAgfVxuICAgIG1vbnRoID0gcGFyc2VJbnQobW9udGgsIDEwKTtcbiAgICB5ZWFyID0gcGFyc2VJbnQoeWVhciwgMTApO1xuICAgIHJldHVybiB7XG4gICAgICBtb250aDogbW9udGgsXG4gICAgICB5ZWFyOiB5ZWFyXG4gICAgfTtcbiAgfTtcblxuICAkLnBheW1lbnQudmFsaWRhdGVDYXJkTnVtYmVyID0gZnVuY3Rpb24obnVtKSB7XG4gICAgdmFyIGNhcmQsIF9yZWY7XG4gICAgbnVtID0gKG51bSArICcnKS5yZXBsYWNlKC9cXHMrfC0vZywgJycpO1xuICAgIGlmICghL15cXGQrJC8udGVzdChudW0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNhcmQgPSBjYXJkRnJvbU51bWJlcihudW0pO1xuICAgIGlmICghY2FyZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKF9yZWYgPSBudW0ubGVuZ3RoLCBfX2luZGV4T2YuY2FsbChjYXJkLmxlbmd0aCwgX3JlZikgPj0gMCkgJiYgKGNhcmQubHVobiA9PT0gZmFsc2UgfHwgbHVobkNoZWNrKG51bSkpO1xuICB9O1xuXG4gICQucGF5bWVudC52YWxpZGF0ZUNhcmRFeHBpcnkgPSBmdW5jdGlvbihtb250aCwgeWVhcikge1xuICAgIHZhciBjdXJyZW50VGltZSwgZXhwaXJ5LCBfcmVmO1xuICAgIGlmICh0eXBlb2YgbW9udGggPT09ICdvYmplY3QnICYmICdtb250aCcgaW4gbW9udGgpIHtcbiAgICAgIF9yZWYgPSBtb250aCwgbW9udGggPSBfcmVmLm1vbnRoLCB5ZWFyID0gX3JlZi55ZWFyO1xuICAgIH1cbiAgICBpZiAoIShtb250aCAmJiB5ZWFyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBtb250aCA9ICQudHJpbShtb250aCk7XG4gICAgeWVhciA9ICQudHJpbSh5ZWFyKTtcbiAgICBpZiAoIS9eXFxkKyQvLnRlc3QobW9udGgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghL15cXGQrJC8udGVzdCh5ZWFyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoISgoMSA8PSBtb250aCAmJiBtb250aCA8PSAxMikpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh5ZWFyLmxlbmd0aCA9PT0gMikge1xuICAgICAgaWYgKHllYXIgPCA3MCkge1xuICAgICAgICB5ZWFyID0gXCIyMFwiICsgeWVhcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHllYXIgPSBcIjE5XCIgKyB5ZWFyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeWVhci5sZW5ndGggIT09IDQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZXhwaXJ5ID0gbmV3IERhdGUoeWVhciwgbW9udGgpO1xuICAgIGN1cnJlbnRUaW1lID0gbmV3IERhdGU7XG4gICAgZXhwaXJ5LnNldE1vbnRoKGV4cGlyeS5nZXRNb250aCgpIC0gMSk7XG4gICAgZXhwaXJ5LnNldE1vbnRoKGV4cGlyeS5nZXRNb250aCgpICsgMSwgMSk7XG4gICAgcmV0dXJuIGV4cGlyeSA+IGN1cnJlbnRUaW1lO1xuICB9O1xuXG4gICQucGF5bWVudC52YWxpZGF0ZUNhcmRDVkMgPSBmdW5jdGlvbihjdmMsIHR5cGUpIHtcbiAgICB2YXIgY2FyZCwgX3JlZjtcbiAgICBjdmMgPSAkLnRyaW0oY3ZjKTtcbiAgICBpZiAoIS9eXFxkKyQvLnRlc3QoY3ZjKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjYXJkID0gY2FyZEZyb21UeXBlKHR5cGUpO1xuICAgIGlmIChjYXJkICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBfcmVmID0gY3ZjLmxlbmd0aCwgX19pbmRleE9mLmNhbGwoY2FyZC5jdmNMZW5ndGgsIF9yZWYpID49IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdmMubGVuZ3RoID49IDMgJiYgY3ZjLmxlbmd0aCA8PSA0O1xuICAgIH1cbiAgfTtcblxuICAkLnBheW1lbnQuY2FyZFR5cGUgPSBmdW5jdGlvbihudW0pIHtcbiAgICB2YXIgX3JlZjtcbiAgICBpZiAoIW51bSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoKF9yZWYgPSBjYXJkRnJvbU51bWJlcihudW0pKSAhPSBudWxsID8gX3JlZi50eXBlIDogdm9pZCAwKSB8fCBudWxsO1xuICB9O1xuXG4gICQucGF5bWVudC5mb3JtYXRDYXJkTnVtYmVyID0gZnVuY3Rpb24obnVtKSB7XG4gICAgdmFyIGNhcmQsIGdyb3VwcywgdXBwZXJMZW5ndGgsIF9yZWY7XG4gICAgbnVtID0gbnVtLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgY2FyZCA9IGNhcmRGcm9tTnVtYmVyKG51bSk7XG4gICAgaWYgKCFjYXJkKSB7XG4gICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICB1cHBlckxlbmd0aCA9IGNhcmQubGVuZ3RoW2NhcmQubGVuZ3RoLmxlbmd0aCAtIDFdO1xuICAgIG51bSA9IG51bS5zbGljZSgwLCB1cHBlckxlbmd0aCk7XG4gICAgaWYgKGNhcmQuZm9ybWF0Lmdsb2JhbCkge1xuICAgICAgcmV0dXJuIChfcmVmID0gbnVtLm1hdGNoKGNhcmQuZm9ybWF0KSkgIT0gbnVsbCA/IF9yZWYuam9pbignICcpIDogdm9pZCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBncm91cHMgPSBjYXJkLmZvcm1hdC5leGVjKG51bSk7XG4gICAgICBpZiAoZ3JvdXBzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ3JvdXBzLnNoaWZ0KCk7XG4gICAgICBncm91cHMgPSAkLmdyZXAoZ3JvdXBzLCBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZ3JvdXBzLmpvaW4oJyAnKTtcbiAgICB9XG4gIH07XG5cbiAgJC5wYXltZW50LmZvcm1hdEV4cGlyeSA9IGZ1bmN0aW9uKGV4cGlyeSkge1xuICAgIHZhciBtb24sIHBhcnRzLCBzZXAsIHllYXI7XG4gICAgcGFydHMgPSBleHBpcnkubWF0Y2goL15cXEQqKFxcZHsxLDJ9KShcXEQrKT8oXFxkezEsNH0pPy8pO1xuICAgIGlmICghcGFydHMpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgbW9uID0gcGFydHNbMV0gfHwgJyc7XG4gICAgc2VwID0gcGFydHNbMl0gfHwgJyc7XG4gICAgeWVhciA9IHBhcnRzWzNdIHx8ICcnO1xuICAgIGlmICh5ZWFyLmxlbmd0aCA+IDApIHtcbiAgICAgIHNlcCA9ICcgLyAnO1xuICAgIH0gZWxzZSBpZiAoc2VwID09PSAnIC8nKSB7XG4gICAgICBtb24gPSBtb24uc3Vic3RyaW5nKDAsIDEpO1xuICAgICAgc2VwID0gJyc7XG4gICAgfSBlbHNlIGlmIChtb24ubGVuZ3RoID09PSAyIHx8IHNlcC5sZW5ndGggPiAwKSB7XG4gICAgICBzZXAgPSAnIC8gJztcbiAgICB9IGVsc2UgaWYgKG1vbi5sZW5ndGggPT09IDEgJiYgKG1vbiAhPT0gJzAnICYmIG1vbiAhPT0gJzEnKSkge1xuICAgICAgbW9uID0gXCIwXCIgKyBtb247XG4gICAgICBzZXAgPSAnIC8gJztcbiAgICB9XG4gICAgcmV0dXJuIG1vbiArIHNlcCArIHllYXI7XG4gIH07XG5cbn0pLmNhbGwodGhpcyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3ZlbmRvci9qcXVlcnkucGF5bWVudC9saWIvanF1ZXJ5LnBheW1lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDk2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IiwibW9kdWxlLmV4cG9ydHM9e1widlwiOjMsXCJ0XCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOltcInN0ZXAgaGVhZGVyIHN0ZXAzIFwiLHtcInRcIjo0LFwiZlwiOltcImFjdGl2ZVwiXSxcIm5cIjo1MCxcInJcIjpcInN0ZXAuYWN0aXZlXCJ9LFwiIFwiLHtcInRcIjo0LFwiZlwiOltcImNvbXBsZXRlZFwiXSxcIm5cIjo1MCxcInJcIjpcInN0ZXAuY29tcGxldGVkXCJ9XSxcInJvbGVcIjpcInRhYlwifSxcImZcIjpbXCJQYXltZW50IERldGFpbHNcIl19LFwiIFwiLHtcInRcIjo0LFwiZlwiOltdLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJzdGVwLmFjdGl2ZVwiLFwic3RlcC5jb21wbGV0ZWRcIl0sXCJzXCI6XCIhXzAmJl8xXCJ9fSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZm9ybVwiLFwiYVwiOntcImFjdGlvblwiOlwiamF2YXNjcmlwdDo7XCIsXCJjbGFzc1wiOltcInVpIGZvcm0gc2VnbWVudCBzdGVwMyBcIix7XCJ0XCI6NCxcImZcIjpbXCJlcnJvclwiXSxcIm5cIjo1MCxcInJcIjpcInN0ZXAuZXJyb3JzXCJ9LFwiIFwiLHtcInRcIjo0LFwiZlwiOltdLFwiblwiOjUwLFwiclwiOlwic3RlcC5zdWJtaXR0aW5nXCJ9XX0sXCJ2XCI6e1wic3VibWl0XCI6e1wibVwiOlwic3VibWl0XCIsXCJhXCI6e1wiclwiOltdLFwic1wiOlwiW11cIn19fSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInBheW1lbnRfbG9hZGVyXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBhY3RpdmUgaW52ZXJ0ZWQgZGltbWVyXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ3YWl0X3RleHRcIixcInN0eWxlXCI6XCJtYXJnaW4tdG9wOjkwcHggIWltcG9ydGFudDtcIn0sXCJmXCI6W1wiUGxlYXNlIFdhaXRcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInVpIHRleHQgbG9hZGVyIGxvYWRlcl9wb3NpdGlvblwifX1dfV19XSxcIm5cIjo1MCxcInJcIjpcInN0ZXAuc3VibWl0dGluZ1wifSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBiYXNpYyBzZWdtZW50XCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJyb3cgb25lIGNvbHVtblwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY29sdW1uXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwiYW10Tm90aWNlXCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbXCJBIG5vbi1yZWZ1bmRhYmxlIENvbnZlbmllbmNlIEZlZSBvZiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjMsXCJ4XCI6e1wiclwiOltcIm1vbmV5XCIsXCJib29raW5nLnBjZl9wZXJfcGFzc2VuZ2VyXCIsXCJtZXRhLmRpc3BsYXlfY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMSxfMilcIn19LFwiIHBlciBwYXNzZW5nZXJcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImJvb2tpbmcucGNmX3Blcl9wYXNzZW5nZXJcIl0sXCJzXCI6XCJfMD4wXCJ9fSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjMsXCJ4XCI6e1wiclwiOltcIm1vbmV5XCIsXCJib29raW5nLmNvbnZlbmllbmNlRmVlXCIsXCJtZXRhLmRpc3BsYXlfY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMSxfMilcIn19XSxcInhcIjp7XCJyXCI6W1wiYm9va2luZy5wY2ZfcGVyX3Bhc3NlbmdlclwiXSxcInNcIjpcIl8wPjBcIn19LFwiIGlzIGFwcGxpY2FibGUgb24gdGhpcyBib29raW5nLlwiXSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYm9va2luZy5jb252ZW5pZW5jZUZlZVwiXSxcInNcIjpcIl8wPjBcIn19LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOltcIsKgXCJdLFwieFwiOntcInJcIjpbXCJib29raW5nLmNvbnZlbmllbmNlRmVlXCJdLFwic1wiOlwiXzA+MFwifX1dfV19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicGF5X2Rpdl9sZWZ0XCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJkaXZfbGVmdF9zb3VyY2VcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidWxcIixcImZcIjpbe1widFwiOjcsXCJlXCI6XCJsaVwiLFwibVwiOlt7XCJ0XCI6NCxcImZcIjpbXCJjbGFzcz1cXFwicGF5bWVudF9oaWdobGlnaHRcXFwiXCJdLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJhY3RpdmVcIl0sXCJzXCI6XCIxPT1fMFwifX1dLFwidlwiOntcImNsaWNrXCI6e1wibVwiOlwic2V0XCIsXCJhXCI6e1wiclwiOltdLFwic1wiOlwiW1xcXCJib29raW5nLnBheW1lbnQuYWN0aXZlXFxcIiwxXVwifX19LFwiZlwiOltcIkNSRURJVCBDQVJEXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImxpXCIsXCJtXCI6W3tcInRcIjo0LFwiZlwiOltcImNsYXNzPVxcXCJwYXltZW50X2hpZ2hsaWdodFxcXCJcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImFjdGl2ZVwiXSxcInNcIjpcIjI9PV8wXCJ9fV0sXCJ2XCI6e1wiY2xpY2tcIjp7XCJtXCI6XCJzZXRcIixcImFcIjp7XCJyXCI6W10sXCJzXCI6XCJbXFxcImJvb2tpbmcucGF5bWVudC5hY3RpdmVcXFwiLDJdXCJ9fX0sXCJmXCI6W1wiREVCSVQgQ0FSRFwiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJsaVwiLFwibVwiOlt7XCJ0XCI6NCxcImZcIjpbXCJjbGFzcz1cXFwicGF5bWVudF9oaWdobGlnaHRcXFwiXCJdLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJhY3RpdmVcIl0sXCJzXCI6XCIzPT1fMFwifX1dLFwidlwiOntcImNsaWNrXCI6e1wibVwiOlwic2V0XCIsXCJhXCI6e1wiclwiOltdLFwic1wiOlwiW1xcXCJib29raW5nLnBheW1lbnQuYWN0aXZlXFxcIiwzXVwifX19LFwiZlwiOltcIk5FVCBCQU5LSU5HXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImxpXCIsXCJtXCI6W3tcInRcIjo0LFwiZlwiOltcImNsYXNzPVxcXCJwYXltZW50X2hpZ2hsaWdodFxcXCJcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImFjdGl2ZVwiXSxcInNcIjpcIjQ9PV8wXCJ9fV0sXCJ2XCI6e1wiY2xpY2tcIjp7XCJtXCI6XCJzZXRcIixcImFcIjp7XCJyXCI6W10sXCJzXCI6XCJbXFxcImJvb2tpbmcucGF5bWVudC5hY3RpdmVcXFwiLDRdXCJ9fX0sXCJmXCI6W1wiV0FMTEVUXCJdfSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJsaVwiLFwibVwiOlt7XCJ0XCI6NCxcImZcIjpbXCJjbGFzcz1cXFwicGF5bWVudF9oaWdobGlnaHRcXFwiXCJdLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJhY3RpdmVcIl0sXCJzXCI6XCI1PT1fMFwifX1dLFwidlwiOntcImNsaWNrXCI6e1wibVwiOlwic2V0XCIsXCJhXCI6e1wiclwiOltdLFwic1wiOlwiW1xcXCJib29raW5nLnBheW1lbnQuYWN0aXZlXFxcIiw1XVwifX19LFwiZlwiOltcIkVNSVwiXX1dLFwiblwiOjUwLFwiclwiOlwiZW1pUGF5bWVudFJlYWR5XCJ9LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImxpXCIsXCJtXCI6W3tcInRcIjo0LFwiZlwiOltcImNsYXNzPVxcXCJwYXltZW50X2hpZ2hsaWdodFxcXCJcIl0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImFjdGl2ZVwiXSxcInNcIjpcIjY9PV8wXCJ9fV0sXCJ2XCI6e1wiY2xpY2tcIjp7XCJtXCI6XCJzZXRcIixcImFcIjp7XCJyXCI6W10sXCJzXCI6XCJbXFxcImJvb2tpbmcucGF5bWVudC5hY3RpdmVcXFwiLDZdXCJ9fX0sXCJmXCI6W1wiVVBJXCJdfV0sXCJuXCI6NTAsXCJyXCI6XCJ1cGlFbmFibGVcIn1dfV19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicGF5X2Rpdl9yaWdodFwifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImNyZWRpdC1jYXJkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSB0d28gY29sdW1uIGdyaWRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImNvbHVtbiB0ZW4gd2lkZVwifSxcInZcIjp7XCJjbGlja1wiOntcIm1cIjpcInJlc2V0Q0NcIixcImFcIjp7XCJyXCI6W1wiZXZlbnRcIl0sXCJzXCI6XCJbXzBdXCJ9fX0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcIm51bWJlciBmaWVsZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGFiZWxcIn0sXCJmXCI6W3tcInRcIjo0LFwiZlwiOltcIkNyZWRpdFwiXSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYm9va2luZy5wYXltZW50LmFjdGl2ZVwiXSxcInNcIjpcIjE9PV8wXCJ9fSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbXCJEZWJpdFwiXSxcInhcIjp7XCJyXCI6W1wiYm9va2luZy5wYXltZW50LmFjdGl2ZVwiXSxcInNcIjpcIjE9PV8wXCJ9fSxcIiBDYXJkIE51bWJlciBcIix7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwicmVxdWlyZWRcIn0sXCJmXCI6W1wiKlwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInVpLWNjXCIsXCJhXCI6e1wiZGlzYWJsZWRcIjpbe1widFwiOjIsXCJyXCI6XCJjYy5pZFwifV0sXCJjbGFzc1wiOlwiY2FyZC1udW1iZXIgZmx1aWRcIixcImNhcmRUeXBlXCI6W3tcInRcIjoyLFwiclwiOlwiYWN0aXZlXCJ9XSxcImNjdHlwZVwiOlt7XCJ0XCI6MixcInJcIjpcImNjLnR5cGVcIn1dLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJjYy5udW1iZXJcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJzdGVwLmVycm9ycy5udW1iZXJcIn1dfSxcInZcIjp7XCJjbGlja1wiOlwicmVzZXQtY2NcIn19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidGhyZWUgZXhwaXJ5IGZpZWxkc1wifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiZmllbGRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImxhYmVsXCJ9LFwiZlwiOltcIkV4cGlyeSBNb250aCBcIix7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwicmVxdWlyZWRcIn0sXCJmXCI6W1wiKlwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInVpLXNlbGVjdFwiLFwiYVwiOntcImRpc2FibGVkXCI6W3tcInRcIjoyLFwiclwiOlwiY2MuaWRcIn1dLFwiY2xhc3NcIjpcIm1vbnRoXCIsXCJwbGFjZWhvbGRlclwiOlwiTW9udGhcIixcIm9wdGlvbnNcIjpbe1widFwiOjIsXCJyXCI6XCJkYXRlLnNlbGVjdC5jYXJkTW9udGhzXCJ9XSxcInZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwiY2MuZXhwX21vbnRoXCJ9XSxcImVycm9yXCI6W3tcInRcIjoyLFwiclwiOlwic3RlcC5lcnJvcnMuZXhwX21vbnRoXCJ9XX0sXCJ2XCI6e1wiY2xpY2tcIjpcInJlc2V0LWNjXCJ9fV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJsYWJlbFwifSxcImZcIjpbXCJFeHBpcnkgWWVhciBcIix7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwicmVxdWlyZWRcIn0sXCJmXCI6W1wiKlwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInVpLXNlbGVjdFwiLFwiYVwiOntcImRpc2FibGVkXCI6W3tcInRcIjoyLFwiclwiOlwiY2MuaWRcIn1dLFwiY2xhc3NcIjpcInllYXJcIixcInBsYWNlaG9sZGVyXCI6XCJZZWFyXCIsXCJvcHRpb25zXCI6W3tcInRcIjoyLFwiclwiOlwiZGF0ZS5zZWxlY3QuY2FyZFllYXJzXCJ9XSxcInZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwiY2MuZXhwX3llYXJcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJzdGVwLmVycm9ycy5leHBfeWVhclwifV19LFwidlwiOntcImNsaWNrXCI6XCJyZXNldC1jY1wifX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJmaWVsZFwiLFwic3R5bGVcIjpcInBvc2l0aW9uOiByZWxhdGl2ZTtcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImxhYmVsXCJ9LFwiZlwiOltcIkNWViBObyBcIix7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwicmVxdWlyZWRcIn0sXCJmXCI6W1wiKlwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInVpLWN2dlwiLFwiYVwiOntcImNsYXNzXCI6XCJmbHVpZCBjdnZcIixcImNjdHlwZVwiOlt7XCJ0XCI6MixcInJcIjpcImNjLnR5cGVcIn1dLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJjYy5jdnZcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJzdGVwLmVycm9ycy5jdnZcIn1dfSxcInZcIjp7XCJjbGlja1wiOlwicmVzZXQtY2NcIn19XX1dfSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY3Z2LWltYWdlXCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImZcIjpbXCI0IGRpZ2l0IENWViBOdW1iZXJcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImN2djQtaW1nXCJ9LFwiZlwiOltcIsKgXCJdfV0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImNjLnR5cGVcIl0sXCJzXCI6XCJcXFwiYW1leFxcXCI9PV8wXCJ9fSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImZcIjpbXCIzIGRpZ2l0IENWViBOdW1iZXJcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImN2djMtaW1nXCJ9LFwiZlwiOltcIsKgXCJdfV0sXCJ4XCI6e1wiclwiOltcImNjLnR5cGVcIl0sXCJzXCI6XCJcXFwiYW1leFxcXCI9PV8wXCJ9fV19XSxcIm5cIjo1MCxcInJcIjpcImNjLnR5cGVcIn0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibnVtYmVyIGZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJsYWJlbFwifSxcImZcIjpbXCJDYXJkIEhvbGRlcidzIE5hbWUgXCIse1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcInJlcXVpcmVkXCJ9LFwiZlwiOltcIipcIl19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJ1aS1pbnB1dFwiLFwiYVwiOntcImRpc2FibGVkXCI6W3tcInRcIjoyLFwiclwiOlwiY2MuaWRcIn1dLFwiY2xhc3NcIjpcImZsdWlkXCIsXCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcImNjLm5hbWVcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJzdGVwLmVycm9ycy5uYW1lXCJ9XX0sXCJ2XCI6e1wiY2xpY2tcIjpcInJlc2V0LWNjXCJ9fV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInN0b3JlIGZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImxhYmVsXCIsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiaW5wdXRcIixcImFcIjp7XCJkaXNhYmxlZFwiOlt7XCJ0XCI6MixcInJcIjpcImNjLmlkXCJ9XSxcInR5cGVcIjpcImNoZWNrYm94XCIsXCJjaGVja2VkXCI6W3tcInRcIjoyLFwiclwiOlwiY2Muc3RvcmVcIn1dfX0sXCIgU3RvcmUgY2FyZCBmb3IgZnV0dXJlIHVzZS5cIl19XX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb2x1bW4gc2l4IHdpZGVcIn0sXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBzZWdtZW50IGZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJsYWJlbFwifSxcImZcIjpbXCJTYXZlZCBjYXJkc1wiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgbGlzdFwifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcIml0ZW1cIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiYVwiLFwiYVwiOntcImhyZWZcIjpcImphdmFzY3JpcHQ6O1wifSxcInZcIjp7XCJjbGlja1wiOntcIm1cIjpcInNldENhcmRcIixcImFcIjp7XCJyXCI6W1wiLlwiXSxcInNcIjpcIltfMF1cIn19fSxcImZcIjpbe1widFwiOjIsXCJyXCI6XCJudW1iZXJcIixcInNcIjp0cnVlfV19XX1dLFwiblwiOjUyLFwiclwiOlwiY2FyZHNcIn1dfV19XSxcIm5cIjo1MCxcInJcIjpcImNhcmRzXCJ9XX1dfV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYWN0aXZlXCJdLFwic1wiOlwiMT09XzB8fDI9PV8wXCJ9fSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjQsXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImFjdGl2ZVwiXSxcInNcIjpcIl8wPT0zXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJuZXRiYW5raW5nXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJCYW5rIGZpZWxkIHN0ZXAzbmV0YmFua2luZ1wifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGFiZWxcIn0sXCJmXCI6W1wiU2VsZWN0IFlvdXIgQmFuayBcIix7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwicmVxdWlyZWRcIn0sXCJmXCI6W1wiKlwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInVpLXNlbGVjdFwiLFwiYVwiOntcImNsYXNzXCI6XCJiYW5rIGZsdWlkXCIsXCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcIm5ldGJhbmtpbmcubmV0X2JhbmtpbmdcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJzdGVwLmVycm9ycy5uZXRfYmFua2luZ1wifV0sXCJvcHRpb25zXCI6W3tcInRcIjoyLFwiclwiOlwiYmFua3NcIn1dfX1dfV19XX0se1widFwiOjQsXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImFjdGl2ZVwiXSxcInNcIjpcIighKF8wPT0zKSkmJihfMD09NClcIn0sXCJmXCI6W1wiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcIm5ldGJhbmtpbmdcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcIm1vYmlfY29udGVudCBmaWVsZCBzdGVwM3dhbGxldFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGFiZWxcIn0sXCJmXCI6W1wiU2VsZWN0IFlvdXIgV2FsbGV0IFwiLHtcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJyZXF1aXJlZFwifSxcImZcIjpbXCIqXCJdfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidWktc2VsZWN0XCIsXCJhXCI6e1wiY2xhc3NcIjpcIndhbGxldCBmbHVpZFwiLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJ3YWxsZXQud2FsbGV0X3R5cGVcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJzdGVwLmVycm9ycy53YWxsZXRfdHlwZVwifV0sXCJvcHRpb25zXCI6W3tcInRcIjoyLFwiclwiOlwid2FsbGV0c1wifV19LFwiZlwiOltdfV19XX1dfSx7XCJ0XCI6NCxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYWN0aXZlXCJdLFwic1wiOlwiKCEoXzA9PTMpKSYmKCghKF8wPT00KSkmJihfMD09NSkpXCJ9LFwiZlwiOltcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibmV0YmFua2luZ1wifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibW9iaV9jb250ZW50IGZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJsYWJlbFwifSxcImZcIjpbXCJQYXkgVGhyb3VnaDogXCIse1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcInJlcXVpcmVkXCJ9LFwiZlwiOltcIipcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJlbWlfd2FybmluZ1wifSxcImZcIjpbXCIoUGxlYXNlIG5vdGU6RU1JIHBheW1lbnQgaXMgYXBwbGljYWJsZSBvbmx5IGZvciBjcmVkaXQgY2FyZC4pXCJdfV19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJzZWxlY3RcIixcImFcIjp7XCJuYW1lXCI6XCJlbWlfYmFua3NcIixcImlkXCI6XCJlbWlfYmFua3NcIn0sXCJ2XCI6e1wiY2hhbmdlXCI6e1wibVwiOlwic2hvd0VtaVBsYW5zXCIsXCJhXCI6e1wiclwiOltdLFwic1wiOlwiW11cIn19fSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJvcHRpb25cIixcImFcIjp7XCJ2YWx1ZVwiOlwiXCIsXCJzdHlsZVwiOlwiZGlzcGxheTpub25lO1wifX0sXCIgXCIse1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwib3B0aW9uXCIsXCJhXCI6e1widmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCIucGxhbklkXCJ9XSxcImNsYXNzXCI6W3tcInRcIjoyLFwiclwiOlwiLkJJTnNcIn1dLFwiaWRcIjpbe1widFwiOjIsXCJyXCI6XCIuc3VidmVudGlvblBhaWRCeVwifV0sXCJkYXRhLXZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwiLm1pZFByb2Nlc3Nlc1wifV19LFwiZlwiOlt7XCJ0XCI6MixcInJcIjpcIi5ndHdOYW1lXCJ9XX1dLFwiclwiOlwiZW1pX2JhbmtzXCJ9XX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGFiZWxcIn0sXCJmXCI6W1wiU2VsZWN0IFlvdSBQbGFuOiBcIix7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwicmVxdWlyZWRcIn0sXCJmXCI6W1wiKlwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInRhYmxlXCIsXCJhXCI6e1wiaWRcIjpcInBsYW5UYWJsZVwiLFwiYm9yZGVyXCI6XCIxXCIsXCJjbGFzc1wiOlwiZW1pVGFibGVcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidHJcIixcImZcIjpbe1widFwiOjcsXCJlXCI6XCJ0aFwifSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInRoXCIsXCJmXCI6W1wiRU1JIFBsYW5zXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInRoXCIsXCJmXCI6W1wiTW9udGhseSBJbnN0YWxsbWVudHNcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidGhcIixcImZcIjpbXCJUb3RhbCBDb3N0XCJdfV19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJ0clwiLFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInRkXCIsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiaW5wdXRcIixcImFcIjp7XCJ0eXBlXCI6XCJyYWRpb1wiLFwibmFtZVwiOlwiZW1pX3BsYW5fcmFkaW9cIixcImlkXCI6XCJlbWlfcGxhbl9yYWRpb1wiLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCIudGVudXJlSWRcIn1dLFwiY2xhc3NcIjpcImVtaV9wbGFuX3JhZGlvXCJ9LFwidlwiOntcImNsaWNrXCI6e1wibVwiOlwic2hvd0NhcmRGaWVsZHNcIixcImFcIjp7XCJyXCI6W10sXCJzXCI6XCJbXVwifX19fV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidGRcIixcImZcIjpbe1widFwiOjIsXCJyXCI6XCIudGVudXJlTW9udGhzXCJ9LFwiIE1vbnRocyBAIFwiLHtcInRcIjoyLFwiclwiOlwiLnByb2Nlc3NpbmdGZWVQZXJjZW50XCJ9LFwiICUgcC5hXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInRkXCIsXCJmXCI6W3tcInRcIjoyLFwiclwiOlwiLmN1cnJlbmN5XCJ9LFwiIFwiLHtcInRcIjoyLFwiclwiOlwiLmVtaUFtb3VudFwifV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidGRcIixcImZcIjpbe1widFwiOjIsXCJyXCI6XCIuY3VycmVuY3lcIn0sXCIgXCIse1widFwiOjIsXCJyXCI6XCIudG90YWxcIn1dfV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiLnBsYW5JZFwiLFwic2VsZWN0ZWRQbGFuXCJdLFwic1wiOlwiXzA9PV8xXCJ9fV0sXCJyXCI6XCJlbWlfcGxhbnNcIn1dfV0sXCJuXCI6NTAsXCJyXCI6XCJzaG93RW1pUGxhbnNcIn1dfSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY3JlZGl0LWNhcmRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcIm51bWJlciBmaWVsZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGFiZWxcIn0sXCJmXCI6W1wiQ3JlZGl0IENhcmQgTnVtYmVyIFwiLHtcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJyZXF1aXJlZFwifSxcImZcIjpbXCIqXCJdfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidWktY2NcIixcImFcIjp7XCJkaXNhYmxlZFwiOlt7XCJ0XCI6MixcInJcIjpcImVtaS5pZFwifV0sXCJjbGFzc1wiOlwiY2FyZC1udW1iZXIgZmx1aWRcIixcImNhcmRUeXBlXCI6W3tcInRcIjoyLFwiclwiOlwiYWN0aXZlXCJ9XSxcImNjdHlwZVwiOlt7XCJ0XCI6MixcInJcIjpcImVtaS50eXBlXCJ9XSxcInZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwiZW1pLmNhcmRfbnVtYmVyXCJ9XSxcImVycm9yXCI6W3tcInRcIjoyLFwiclwiOlwic3RlcC5lcnJvcnMubnVtYmVyXCJ9XX0sXCJ2XCI6e1wiY2xpY2tcIjpcInJlc2V0LWNjXCJ9fV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInN0b3JlIGZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImxhYmVsXCIsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiaW5wdXRcIixcImFcIjp7XCJkaXNhYmxlZFwiOlt7XCJ0XCI6MixcInJcIjpcImVtaS5pZFwifV0sXCJ0eXBlXCI6XCJjaGVja2JveFwiLFwiY2hlY2tlZFwiOlt7XCJ0XCI6MixcInJcIjpcImVtaS5zdG9yZVwifV19fSxcIiBTdG9yZSBjYXJkIGZvciBmdXR1cmUgdXNlLlwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ0aHJlZSBleHBpcnkgZmllbGRzXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJmaWVsZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGFiZWxcIn0sXCJmXCI6W1wiRXhwaXJ5IE1vbnRoIFwiLHtcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJyZXF1aXJlZFwifSxcImZcIjpbXCIqXCJdfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidWktc2VsZWN0XCIsXCJhXCI6e1wiZGlzYWJsZWRcIjpbe1widFwiOjIsXCJyXCI6XCJlbWkuaWRcIn1dLFwiY2xhc3NcIjpcIm1vbnRoXCIsXCJwbGFjZWhvbGRlclwiOlwiTW9udGhcIixcIm9wdGlvbnNcIjpbe1widFwiOjIsXCJyXCI6XCJkYXRlLnNlbGVjdC5jYXJkTW9udGhzXCJ9XSxcInZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwiZW1pLmV4cF9tb250aFwifV0sXCJlcnJvclwiOlt7XCJ0XCI6MixcInJcIjpcInN0ZXAuZXJyb3JzLmV4cF9tb250aFwifV19LFwidlwiOntcImNsaWNrXCI6XCJyZXNldC1jY1wifX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJmaWVsZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGFiZWxcIn0sXCJmXCI6W1wiRXhwaXJ5IFllYXIgXCIse1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcInJlcXVpcmVkXCJ9LFwiZlwiOltcIipcIl19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJ1aS1zZWxlY3RcIixcImFcIjp7XCJkaXNhYmxlZFwiOlt7XCJ0XCI6MixcInJcIjpcImVtaS5pZFwifV0sXCJjbGFzc1wiOlwieWVhclwiLFwicGxhY2Vob2xkZXJcIjpcIlllYXJcIixcIm9wdGlvbnNcIjpbe1widFwiOjIsXCJyXCI6XCJkYXRlLnNlbGVjdC5jYXJkWWVhcnNcIn1dLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJlbWkuZXhwX3llYXJcIn1dLFwiZXJyb3JcIjpbe1widFwiOjIsXCJyXCI6XCJzdGVwLmVycm9ycy5leHBfeWVhclwifV19LFwidlwiOntcImNsaWNrXCI6XCJyZXNldC1jY1wifX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJmaWVsZFwiLFwic3R5bGVcIjpcInBvc2l0aW9uOiByZWxhdGl2ZTtcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImxhYmVsXCJ9LFwiZlwiOltcIkNWViBObyBcIix7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwicmVxdWlyZWRcIn0sXCJmXCI6W1wiKlwiXX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcInVpLWN2dlwiLFwiYVwiOntcImNsYXNzXCI6XCJmbHVpZCBjdnZcIixcImNjdHlwZVwiOlt7XCJ0XCI6MixcInJcIjpcImVtaS5jYXJkX3R5cGVcIn1dLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJlbWkuY3Z2XCJ9XSxcImVycm9yXCI6W3tcInRcIjoyLFwiclwiOlwic3RlcC5lcnJvcnMuY3Z2XCJ9XX0sXCJ2XCI6e1wiY2xpY2tcIjpcInJlc2V0LWNjXCJ9fV19XX1dfSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY3Z2LWltYWdlXCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImZcIjpbXCI0IGRpZ2l0IENWViBOdW1iZXJcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImN2djQtaW1nXCJ9LFwiZlwiOltcIsKgXCJdfV0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImVtaS50eXBlXCJdLFwic1wiOlwiXFxcImFtZXhcXFwiPT1fMFwifX0se1widFwiOjQsXCJuXCI6NTEsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJmXCI6W1wiMyBkaWdpdCBDVlYgTnVtYmVyXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjdnYzLWltZ1wifSxcImZcIjpbXCLCoFwiXX1dLFwieFwiOntcInJcIjpbXCJlbWkudHlwZVwiXSxcInNcIjpcIlxcXCJhbWV4XFxcIj09XzBcIn19XX1dLFwiblwiOjUwLFwiclwiOlwiZW1pLnR5cGVcIn0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibnVtYmVyIGZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJsYWJlbFwifSxcImZcIjpbXCJDYXJkIEhvbGRlcidzIE5hbWUgXCIse1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcInJlcXVpcmVkXCJ9LFwiZlwiOltcIipcIl19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJ1aS1pbnB1dFwiLFwiYVwiOntcImRpc2FibGVkXCI6W3tcInRcIjoyLFwiclwiOlwiZW1pLmlkXCJ9XSxcImNsYXNzXCI6XCJmbHVpZFwiLFwidmFsdWVcIjpbe1widFwiOjIsXCJyXCI6XCJlbWkubmFtZVwifV0sXCJlcnJvclwiOlt7XCJ0XCI6MixcInJcIjpcInN0ZXAuZXJyb3JzLm5hbWVcIn1dfSxcInZcIjp7XCJjbGlja1wiOlwicmVzZXQtY2NcIn19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibW9iaV9jb250ZW50IGZpZWxkXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJsYWJlbFwifSxcImZcIjpbXCJJc3N1aW5nIEJhbms6IFwiLHtcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJyZXF1aXJlZFwifSxcImZcIjpbXCIqXCJdfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwidWktaW5wdXRcIixcImFcIjp7XCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcImVtaS5pc3N1aW5nX2JhbmtcIn1dLFwicGxhY2Vob2xkZXJcIjpcIklzc3VpbmcgQmFua1wiLFwiaWRcIjpcImlzc3VpbmdfYmFua1wifX1dfV0sXCJuXCI6NTAsXCJyXCI6XCJyZWFkeUNhcmRGaWVsZHNcIn1dfV0sXCJuXCI6NTAsXCJyXCI6XCJlbWlQYXltZW50UmVhZHlcIn0se1widFwiOjQsXCJuXCI6NTEsXCJmXCI6W3tcInRcIjo0LFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJlbWlfdW5hdmFpbGFibGVcIl0sXCJzXCI6XCJfMFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgc21hbGwgZmllbGQgbmVnYXRpdmUgbWVzc2FnZVwifSxcImZcIjpbe1widFwiOjIsXCJyXCI6XCJlbWlfdW5hdmFpbGFibGVcIn1dfV19LHtcInRcIjo0LFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJlbWlfdW5hdmFpbGFibGVcIl0sXCJzXCI6XCIhKF8wKVwifSxcImZcIjpbXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicGF5bWVudF9sb2FkZXJcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInVpIGFjdGl2ZSBpbnZlcnRlZCBkaW1tZXJcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcIndhaXRfdGV4dFwifSxcImZcIjpbXCJQbGVhc2UgV2FpdFwiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgdGV4dCBsb2FkZXIgbG9hZGVyX3Bvc2l0aW9uXCJ9fV19XX1dfV0sXCJyXCI6XCJlbWlQYXltZW50UmVhZHlcIn1dfSx7XCJ0XCI6NCxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYWN0aXZlXCJdLFwic1wiOlwiKCEoXzA9PTMpKSYmKCghKF8wPT00KSkmJigoIShfMD09NSkpJiYoXzA9PTYpKSlcIn0sXCJmXCI6W1wiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcIm1vYmlfY29udGVudCBmaWVsZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGFiZWxcIn0sXCJmXCI6W1wiRW50ZXIgWW91ciBWUEEgXCIse1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcInJlcXVpcmVkXCJ9LFwiZlwiOltcIipcIl19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJ1aS1pbnB1dFwiLFwiYVwiOntcInZhbHVlXCI6W3tcInRcIjoyLFwiclwiOlwiYm9va2luZy5wYXltZW50LnVwaS52aXJ0dWFsX2FkZHJlc3NcIn1dLFwicGxhY2Vob2xkZXJcIjpcIkVudGVyIFZpcnR1YWwgUGF5bWVudCBBZGRyZXNzXCIsXCJpZFwiOlwidXBpX2NsaV92aXJ0dWFsX2FkZFwifSxcImZcIjpbXX1dfV19XSxcInhcIjp7XCJyXCI6W1wiYWN0aXZlXCJdLFwic1wiOlwiMT09XzB8fDI9PV8wXCJ9fSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgZXJyb3IgbWVzc2FnZVwifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInBcIixcImZcIjpbe1widFwiOjIsXCJyXCI6XCIuXCJ9XX1dLFwiblwiOjUwLFwiclwiOlwiLlwifV0sXCJuXCI6NTIsXCJpXCI6XCJpXCIsXCJyXCI6XCJzdGVwLmVycm9yc1wifV19XSxcIm5cIjo1MCxcInJcIjpcInN0ZXAuZXJyb3JzXCJ9LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcIm5vdGVcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiZlwiOltcIlBsZWFzZSBOb3RlIDpcIl19LFwiIFRoZSBjaGFyZ2Ugd2lsbCBhcHBlYXIgb24geW91ciBjcmVkaXQgY2FyZCAvIEFjY291bnQgc3RhdGVtZW50IGFzICdBaXJ0aWNrZXRzIEluZGlhIFB2dCBMdGQnXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJhZ3JlZW1lbnQgZmllbGRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwibGFiZWxcIixcImZcIjpbe1widFwiOjcsXCJlXCI6XCJpbnB1dFwiLFwiYVwiOntcInR5cGVcIjpcImNoZWNrYm94XCIsXCJjaGVja2VkXCI6W3tcInRcIjoyLFwiclwiOlwiYWNjZXB0ZWRcIn1dfX0sXCIgSSBoYXZlIHJlYWQgYW5kIGFjY2VwdGVkIHRoZSBcIix7XCJ0XCI6NyxcImVcIjpcImFcIixcImFcIjp7XCJocmVmXCI6XCIvYjJjL2Ntcy90ZXJtc29mc2VydmljZXMvMlwiLFwidGFyZ2V0XCI6XCJfYmxhbmtcIn0sXCJmXCI6W1wiVGVybXMgT2YgU2VydmljZVwiXX0sXCIqXCJdfV19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInByaWNlXCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBmb3VyIGNvbHVtbiBtaWRkbGUgdG9wIGFsaWduZWQgcmVsYXhlZCBmaXR0ZWQgZ3JpZFwiLFwic3R5bGVcIjpcInBvc2l0aW9uOiByZWxhdGl2ZVwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicm93XCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb2x1bW4gZm91ciB3aWRlIHJpZ2h0IGFsaWduZWRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwiYnV0dG9uXCIsXCJhXCI6e1widHlwZVwiOlwic3VibWl0XCIsXCJjbGFzc1wiOltcImJvb2tfZmxpZ2h0IHVpIHdpemFyZCBidXR0b24gbWFzc2l2ZSBcIix7XCJ0XCI6NCxcImZcIjpbXCJncmVlblwiXSxcIm5cIjo1MCxcInJcIjpcImFjY2VwdGVkXCJ9LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOltcInJlZFwiXSxcInJcIjpcImFjY2VwdGVkXCJ9XX0sXCJtXCI6W3tcInRcIjo0LFwiZlwiOltcImRpc2FibGVkPVxcXCJkaXNhYmxlZFxcXCJcIl0sXCJuXCI6NTEsXCJyXCI6XCJhY2NlcHRlZFwifV0sXCJmXCI6W1wiQk9PSyBGTElHSFRcIl19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImxvYWRlcl94XCJ9LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJsaW5lX3hcIn19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImxpbmVfeFwifX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGluZV94XCJ9fSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJsaW5lX3hcIn19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImxpbmVfeFwifX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGluZV94XCJ9fSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJsaW5lX3hcIn19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcImxpbmVfeFwifX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibGluZV94XCJ9fV19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY29sdW1uIHR3byB3aWRlIHJpZ2h0IGFsaWduZWRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJhbW91bnRcIn0sXCJmXCI6W1wiVE9UQUw6XCJdfV19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb2x1bW4gZml2ZSB3aWRlIGxlZnQgYWxpZ25lZFwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJzcGFuXCIsXCJhXCI6e1wiY2xhc3NcIjpcImFtb3VudFwifSxcImZcIjpbe1widFwiOjMsXCJ4XCI6e1wiclwiOltcIm1vbmV5XCIsXCJib29raW5nLnByaWNlXCIsXCJib29raW5nLmNvbnZlbmllbmNlRmVlXCIsXCJwcm9tb3ZhbHVlXCIsXCJtZXRhLmRpc3BsYXlfY3VycmVuY3lcIl0sXCJzXCI6XCJfMChfMStfMi1fMyxfNClcIn19XX1dfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJjb2x1bW4gZml2ZSB3aWRlIGxlZnQgYWxpZ25lZFwifSxcImZcIjpbe1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJhbXROb3RpY2VcIn0sXCJmXCI6W1wiKFwiLHtcInRcIjoyLFwiclwiOlwibWV0YS5kaXNwbGF5X2N1cnJlbmN5XCJ9LFwiIFByaWNlIGlzIGluZGljYXRpdmUgb25seS4gWW91IHdpbGwgYmUgY2hhcmdlZCBlcXVpdmFsZW50IGluIElOUi4gXCIse1widFwiOjMsXCJ4XCI6e1wiclwiOltcImZvcm1hdFBheU1vbmV5XCIsXCJib29raW5nLnByaWNlXCIsXCJib29raW5nLmNvbnZlbmllbmNlRmVlXCIsXCJwcm9tb3ZhbHVlXCJdLFwic1wiOlwiXzAoXzErXzItXzMpXCJ9fSxcIilcIl19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYm9va2luZy5jdXJyZW5jeVwiXSxcInNcIjpcIl8wIT1cXFwiSU5SXFxcIlwifX0se1widFwiOjQsXCJuXCI6NTEsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJhbXROb3RpY2VcIn0sXCJmXCI6W1wiKFBheWFibGUgQW1vdW50KVwiXX1dLFwieFwiOntcInJcIjpbXCJib29raW5nLmN1cnJlbmN5XCJdLFwic1wiOlwiXzAhPVxcXCJJTlJcXFwiXCJ9fV19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wicHJvbW92YWx1ZVwiXSxcInNcIjpcIl8wIT1udWxsXCJ9fSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY29sdW1uIGZpdmUgd2lkZSBsZWZ0IGFsaWduZWRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwic3BhblwiLFwiYVwiOntcImNsYXNzXCI6XCJhbW91bnRcIn0sXCJmXCI6W3tcInRcIjozLFwieFwiOntcInJcIjpbXCJtb25leVwiLFwiYm9va2luZy5wcmljZVwiLFwiYm9va2luZy5jb252ZW5pZW5jZUZlZVwiLFwibWV0YS5kaXNwbGF5X2N1cnJlbmN5XCJdLFwic1wiOlwiXzAoXzErXzIsXzMpXCJ9fV19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiY29sdW1uIGZpdmUgd2lkZSBsZWZ0IGFsaWduZWRcIn0sXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwiYW10Tm90aWNlXCJ9LFwiZlwiOltcIihcIix7XCJ0XCI6MixcInJcIjpcIm1ldGEuZGlzcGxheV9jdXJyZW5jeVwifSxcIiBQcmljZSBpcyBpbmRpY2F0aXZlIG9ubHkuIFlvdSB3aWxsIGJlIGNoYXJnZWQgZXF1aXZhbGVudCBpbiBJTlIuIFwiLHtcInRcIjozLFwieFwiOntcInJcIjpbXCJmb3JtYXRQYXlNb25leVwiLFwiYm9va2luZy5wcmljZVwiLFwiYm9va2luZy5jb252ZW5pZW5jZUZlZVwiXSxcInNcIjpcIl8wKF8xK18yKVwifX0sXCIpXCJdfV0sXCJuXCI6NTAsXCJ4XCI6e1wiclwiOltcImJvb2tpbmcuY3VycmVuY3lcIl0sXCJzXCI6XCJfMCE9XFxcIklOUlxcXCJcIn19LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcInNwYW5cIixcImFcIjp7XCJjbGFzc1wiOlwiYW10Tm90aWNlXCJ9LFwiZlwiOltcIihQYXlhYmxlIEFtb3VudClcIl19XSxcInhcIjp7XCJyXCI6W1wiYm9va2luZy5jdXJyZW5jeVwiXSxcInNcIjpcIl8wIT1cXFwiSU5SXFxcIlwifX1dfV0sXCJ4XCI6e1wiclwiOltcInByb21vdmFsdWVcIl0sXCJzXCI6XCJfMCE9bnVsbFwifX1dfV19XX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwicGF5X2JvdHRvbVwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJpbWdcIixcImFcIjp7XCJzcmNcIjpcIi90aGVtZXMvQjJDL2ltZy92ZXJpZmllZC92YnZfMjUwLmdpZlwifX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJpbWdcIixcImFcIjp7XCJzcmNcIjpcIi90aGVtZXMvQjJDL2ltZy92ZXJpZmllZC9tYXN0ZXJjYXJkX3NlY3VyZWNvZGUuZ2lmXCJ9fSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImltZ1wiLFwiYVwiOntcInNyY1wiOlwiL3RoZW1lcy9CMkMvaW1nL3ZlcmlmaWVkL0FNRVhfU2FmZUtleV8xODB4OTlweC5wbmdcIn19LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiaW1nXCIsXCJhXCI6e1wic3JjXCI6XCIvdGhlbWVzL0IyQy9pbWcvdmVyaWZpZWQvcGNpLWRzcy1jb21wbGlhbnQuanBnXCJ9fSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImltZ1wiLFwiYVwiOntcInNyY1wiOlwiL3RoZW1lcy9CMkMvaW1nL3ZlcmlmaWVkL1NTTC1zZWN1cml0eS1zZWFsLnBuZ1wifX1dfV19XX1dfV0sXCJuXCI6NTAsXCJyXCI6XCJzdGVwLmFjdGl2ZVwifV0sXCJ4XCI6e1wiclwiOltcInN0ZXAuYWN0aXZlXCIsXCJzdGVwLmNvbXBsZXRlZFwiXSxcInNcIjpcIiFfMCYmXzFcIn19XSxcIm5cIjo1MSxcInJcIjpcInN0ZXAuY29tcGxldGVkXCJ9XSxcInhcIjp7XCJyXCI6W1wiYm9va2luZy5zdGVwcy4zXCIsXCJib29raW5nLnBheW1lbnQuY2NcIixcImJvb2tpbmcucGF5bWVudC5uZXRiYW5raW5nXCIsXCJib29raW5nLnBheW1lbnQuYWN0aXZlXCIsXCJib29raW5nLnBheW1lbnQud2FsbGV0XCIsXCJib29raW5nLnBheW1lbnQuZW1pXCIsXCJib29raW5nLnByaWNlXCJdLFwic1wiOlwie3N0ZXA6XzAsY2M6XzEsbmV0YmFua2luZzpfMixhY3RpdmU6XzMsd2FsbGV0Ol80LGVtaTpfNSx1cGlFbmFibGU6KF82Pj05MDAwMCk/ZmFsc2U6dHJ1ZX1cIn19XX07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9hcHAvd2ViL21vZHVsZS90ZW1wbGF0ZXMvZmxpZ2h0cy9ib29raW5nL3N0ZXAzLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDk3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi8uLi8uLi8uLi8uLi9qcy9qcXVlcnkucGF5bWVudCcpO1xuXG52YXIgSW5wdXQgPSByZXF1aXJlKCcuLi9pbnB1dCcpLFxuICAgICQgPSByZXF1aXJlKCdqcXVlcnknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnB1dC5leHRlbmQoe1xuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd0ZW1wbGF0ZXMvY29tcG9uZW50cy9mb3JtL2NjLmh0bWwnKSxcblxuICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9zdXBlcigpO1xuXG4gICAgICAgICQodGhpcy5maW5kKCdpbnB1dCcpKS5wYXltZW50KCdmb3JtYXRDYXJkTnVtYmVyJyk7XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlKCd2YWx1ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldCgnY2N0eXBlJywgJC5wYXltZW50LmNhcmRUeXBlKHZhbHVlKSk7XG4gICAgICAgICAgICB2YXIgYm9va2luZyA9IHRoaXMucGFyZW50LmdldCgnYm9va2luZycpO1xuICAgICAgICAgICAgaWYoYm9va2luZyAmJiB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgICAgICB2YXIgYmluX2RpZ2l0cyA9IHZhbHVlLnJlcGxhY2UoJyAnLCcnKS5zbGljZSgwLDYpO1xuICAgICAgICAgICAgICAgIGlmKHZhbHVlID09ICcnIHx8IGJpbl9kaWdpdHMubGVuZ3RoIDwgNil7XG4gICAgICAgICAgICAgICAgICAgIGJvb2tpbmcuc2V0KCdjb252ZW5pZW5jZUZlZScsIDApO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucHJldkNDVHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnByZXZDYXJkVHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoKHRoaXMuZ2V0KCdjY3R5cGUnKSAhPSB3aW5kb3cucHJldkNDVHlwZSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0KCdjYXJkVHlwZScpICE9IHdpbmRvdy5wcmV2Q2FyZFR5cGUpICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgYmluX2RpZ2l0cy5sZW5ndGggPj0gNikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2FyZF90eXBlID0gcGFyc2VJbnQodGhpcy5nZXQoJ2NhcmRUeXBlJykpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGJvb2tpbmcucHltdENvbnZGZWUoY2FyZF90eXBlICx0aGlzLmdldCgnY2N0eXBlJyksIGJpbl9kaWdpdHMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wcmV2Q0NUeXBlID0gdGhpcy5nZXQoJ2NjdHlwZScpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucHJldkNhcmRUeXBlID0gdGhpcy5nZXQoJ2NhcmRUeXBlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0sIHtpbml0OiBmYWxzZX0pO1xuICAgIH0sXG5cbiAgICBvbnRlYWRvd246IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKHRoaXMuZmluZCgnaW5wdXQnKSkucGF5bWVudCgnZGVzdHJveScpO1xuICAgIH1cbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29yZS9mb3JtL2NjL251bWJlci5qc1xuLy8gbW9kdWxlIGlkID0gOThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUgMTAiLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuNy4xXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNhcmRGcm9tTnVtYmVyLCBjYXJkRnJvbVR5cGUsIGNhcmRzLCBkZWZhdWx0Rm9ybWF0LCBmb3JtYXRCYWNrQ2FyZE51bWJlciwgZm9ybWF0QmFja0V4cGlyeSwgZm9ybWF0Q2FyZE51bWJlciwgZm9ybWF0RXhwaXJ5LCBmb3JtYXRGb3J3YXJkRXhwaXJ5LCBmb3JtYXRGb3J3YXJkU2xhc2hBbmRTcGFjZSwgaGFzVGV4dFNlbGVjdGVkLCBsdWhuQ2hlY2ssIHJlRm9ybWF0Q1ZDLCByZUZvcm1hdENhcmROdW1iZXIsIHJlRm9ybWF0RXhwaXJ5LCByZUZvcm1hdE51bWVyaWMsIHJlc3RyaWN0Q1ZDLCByZXN0cmljdENhcmROdW1iZXIsIHJlc3RyaWN0RXhwaXJ5LCByZXN0cmljdE51bWVyaWMsIHNldENhcmRUeXBlLFxuICAgICAgICBfX3NsaWNlID0gW10uc2xpY2UsXG4gICAgICAgIF9faW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9O1xuXG4gICAgJC5wYXltZW50ID0ge307XG5cbiAgICAkLnBheW1lbnQuZm4gPSB7fTtcblxuICAgICQuZm4ucGF5bWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncywgbWV0aG9kO1xuICAgICAgICBtZXRob2QgPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBfX3NsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgICAgICByZXR1cm4gJC5wYXltZW50LmZuW21ldGhvZF0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcblxuICAgIGRlZmF1bHRGb3JtYXQgPSAvKFxcZHsxLDR9KS9nO1xuXG4gICAgJC5wYXltZW50LmNhcmRzID0gY2FyZHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAncnVwYXknLFxuICAgICAgICAgIHBhdHRlcm46L14oNTA4WzUtOV1bMC05XXsxMn0pfCg2MDY5WzgtOV1bMC05XXsxMX0pfCg2MDdbMC04XVswLTldezEyfSl8KDYwNzlbMC04XVswLTldezExfSl8KDYwOFswLTVdWzAtOV17MTJ9KXwoNjUyMVs1LTldWzAtOV17MTF9KXwoNjUyWzItOV1bMC05XXsxMn0pfCg2NTMwWzAtOV17MTJ9KXwoNjUzMVswLTRdWzAtOV17MTF9KS8sXG4gICAgICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgICAgIGxlbmd0aDogWzE2XSxcbiAgICAgICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgICAgICBsdWhuOiBmYWxzZVxuICAgICAgICB9ICwgICAgICAgIFxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAndmlzYWVsZWN0cm9uJyxcbiAgICAgICAgICAgIHBhdHRlcm46IC9eNCgwMjZ8MTc1MDB8NDA1fDUwOHw4NDR8OTFbMzddKS8sXG4gICAgICAgICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICAgICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICAgICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgICAgICAgIGx1aG46IHRydWVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogJ21hZXN0cm8nLFxuICAgICAgICAgICAgcGF0dGVybjogL14oNSgwMTh8MFsyM118WzY4XSl8NigzOXw3KSkvLFxuICAgICAgICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgICAgICAgbGVuZ3RoOiBbMTIsIDEzLCAxNCwgMTUsIDE2LCAxNywgMTgsIDE5XSxcbiAgICAgICAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgICAgICAgbHVobjogdHJ1ZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiAnZm9yYnJ1Z3Nmb3JlbmluZ2VuJyxcbiAgICAgICAgICAgIHBhdHRlcm46IC9eNjAwLyxcbiAgICAgICAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgICAgICAgIGxlbmd0aDogWzE2XSxcbiAgICAgICAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgICAgICAgbHVobjogdHJ1ZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiAnZGFua29ydCcsXG4gICAgICAgICAgICBwYXR0ZXJuOiAvXjUwMTkvLFxuICAgICAgICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgICAgICAgbGVuZ3RoOiBbMTZdLFxuICAgICAgICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICAgICAgICBsdWhuOiB0cnVlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6ICd2aXNhJyxcbiAgICAgICAgICAgIHBhdHRlcm46IC9eNC8sXG4gICAgICAgICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICAgICAgICBsZW5ndGg6IFsxMywgMTZdLFxuICAgICAgICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICAgICAgICBsdWhuOiB0cnVlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6ICdtYXN0ZXJjYXJkJyxcbiAgICAgICAgICAgIHBhdHRlcm46IC9eNVswLTVdLyxcbiAgICAgICAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgICAgICAgIGxlbmd0aDogWzE2XSxcbiAgICAgICAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgICAgICAgbHVobjogdHJ1ZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiAnYW1leCcsXG4gICAgICAgICAgICBwYXR0ZXJuOiAvXjNbNDddLyxcbiAgICAgICAgICAgIGZvcm1hdDogLyhcXGR7MSw0fSkoXFxkezEsNn0pPyhcXGR7MSw1fSk/LyxcbiAgICAgICAgICAgIGxlbmd0aDogWzE1XSxcbiAgICAgICAgICAgIGN2Y0xlbmd0aDogWzMsIDRdLFxuICAgICAgICAgICAgbHVobjogdHJ1ZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiAnZGluZXJzY2x1YicsXG4gICAgICAgICAgICBwYXR0ZXJuOiAvXjNbMDY4OV0vLFxuICAgICAgICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgICAgICAgbGVuZ3RoOiBbMTRdLFxuICAgICAgICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICAgICAgICBsdWhuOiB0cnVlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6ICdkaXNjb3ZlcicsXG4gICAgICAgICAgICBwYXR0ZXJuOiAvXjYoWzA0NV18MjIpLyxcbiAgICAgICAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgICAgICAgIGxlbmd0aDogWzE2XSxcbiAgICAgICAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgICAgICAgbHVobjogdHJ1ZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiAndW5pb25wYXknLFxuICAgICAgICAgICAgcGF0dGVybjogL14oNjJ8ODgpLyxcbiAgICAgICAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgICAgICAgIGxlbmd0aDogWzE2LCAxNywgMTgsIDE5XSxcbiAgICAgICAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgICAgICAgbHVobjogZmFsc2VcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogJ2pjYicsXG4gICAgICAgICAgICBwYXR0ZXJuOiAvXjM1LyxcbiAgICAgICAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgICAgICAgIGxlbmd0aDogWzE2XSxcbiAgICAgICAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgICAgICAgbHVobjogdHJ1ZVxuICAgICAgICB9XG4gICAgXTtcblxuICAgIGNhcmRGcm9tTnVtYmVyID0gZnVuY3Rpb24obnVtKSB7XG4gICAgICAgIHZhciBjYXJkLCBfaSwgX2xlbjtcbiAgICAgICAgbnVtID0gKG51bSArICcnKS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IGNhcmRzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhcmQgPSBjYXJkc1tfaV07XG4gICAgICAgICAgICBpZihjYXJkLnR5cGUgPT0gJ3J1cGF5Jykge1xuICAgICAgICAgICAgICAgIHZhciBiaW5fZGlnaXRzID0gbnVtLnJlcGxhY2UoJyAnLCcnKS5zbGljZSgwLDYpO1xuICAgICAgICAgICAgICAgIGlmKChiaW5fZGlnaXRzID49IDUwODUwMCAmJiBiaW5fZGlnaXRzPD01MDg5OTkpIHx8XG4gICAgICAgICAgICAgICAgICAgKGJpbl9kaWdpdHMgPj0gNjA2OTg1ICYmIGJpbl9kaWdpdHM8PTYwNzk4NCkgfHxcbiAgICAgICAgICAgICAgICAgICAoYmluX2RpZ2l0cyA+PSA2MDgwMDEgJiYgYmluX2RpZ2l0czw9NjA4NTAwKSB8fFxuICAgICAgICAgICAgICAgICAgIChiaW5fZGlnaXRzID49IDY1MjE1MCAmJiBiaW5fZGlnaXRzPD02NTMxNDkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXJkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhcmQucGF0dGVybi50ZXN0KG51bSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNhcmRGcm9tVHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdmFyIGNhcmQsIF9pLCBfbGVuO1xuICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IGNhcmRzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICBjYXJkID0gY2FyZHNbX2ldO1xuICAgICAgICAgICAgaWYgKGNhcmQudHlwZSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYXJkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGx1aG5DaGVjayA9IGZ1bmN0aW9uKG51bSkge1xuICAgICAgICB2YXIgZGlnaXQsIGRpZ2l0cywgb2RkLCBzdW0sIF9pLCBfbGVuO1xuICAgICAgICBvZGQgPSB0cnVlO1xuICAgICAgICBzdW0gPSAwO1xuICAgICAgICBkaWdpdHMgPSAobnVtICsgJycpLnNwbGl0KCcnKS5yZXZlcnNlKCk7XG4gICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gZGlnaXRzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICBkaWdpdCA9IGRpZ2l0c1tfaV07XG4gICAgICAgICAgICBkaWdpdCA9IHBhcnNlSW50KGRpZ2l0LCAxMCk7XG4gICAgICAgICAgICBpZiAoKG9kZCA9ICFvZGQpKSB7XG4gICAgICAgICAgICAgICAgZGlnaXQgKj0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaWdpdCA+IDkpIHtcbiAgICAgICAgICAgICAgICBkaWdpdCAtPSA5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VtICs9IGRpZ2l0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdW0gJSAxMCA9PT0gMDtcbiAgICB9O1xuXG4gICAgaGFzVGV4dFNlbGVjdGVkID0gZnVuY3Rpb24oJHRhcmdldCkge1xuICAgICAgICB2YXIgX3JlZjtcbiAgICAgICAgaWYgKCgkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT0gbnVsbCkgJiYgJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9PSAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvbkVuZCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudCAhPT0gbnVsbCA/IChfcmVmID0gZG9jdW1lbnQuc2VsZWN0aW9uKSAhPSBudWxsID8gX3JlZi5jcmVhdGVSYW5nZSA6IHZvaWQgMCA6IHZvaWQgMCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJlRm9ybWF0TnVtZXJpYyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHRhcmdldCwgdmFsdWU7XG4gICAgICAgICAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgICAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJlRm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHRhcmdldCwgdmFsdWU7XG4gICAgICAgICAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgICAgICAgdmFsdWUgPSAkLnBheW1lbnQuZm9ybWF0Q2FyZE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyICR0YXJnZXQsIGNhcmQsIGRpZ2l0LCBsZW5ndGgsIHJlLCB1cHBlckxlbmd0aCwgdmFsdWU7XG4gICAgICAgIGRpZ2l0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgICAgICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICAgICAgY2FyZCA9IGNhcmRGcm9tTnVtYmVyKHZhbHVlICsgZGlnaXQpO1xuICAgICAgICBsZW5ndGggPSAodmFsdWUucmVwbGFjZSgvXFxEL2csICcnKSArIGRpZ2l0KS5sZW5ndGg7XG4gICAgICAgIHVwcGVyTGVuZ3RoID0gMTY7XG4gICAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgICAgICB1cHBlckxlbmd0aCA9IGNhcmQubGVuZ3RoW2NhcmQubGVuZ3RoLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZW5ndGggPj0gdXBwZXJMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPSBudWxsKSAmJiAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYXJkICYmIGNhcmQudHlwZSA9PT0gJ2FtZXgnKSB7XG4gICAgICAgICAgICByZSA9IC9eKFxcZHs0fXxcXGR7NH1cXHNcXGR7Nn0pJC87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZSA9IC8oPzpefFxccykoXFxkezR9KSQvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZS50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlICsgJyAnICsgZGlnaXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAocmUudGVzdCh2YWx1ZSArIGRpZ2l0KSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlICsgZGlnaXQgKyAnICcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9ybWF0QmFja0NhcmROdW1iZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICAgICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgICBpZiAoZS53aGljaCAhPT0gOCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9IG51bGwpICYmICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9cXGRcXHMkLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcZFxccyQvLCAnJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoL1xcc1xcZD8kLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcZCQvLCAnJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVGb3JtYXRFeHBpcnkgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAgICAgICAgICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICAgICAgICAgIHZhbHVlID0gJC5wYXltZW50LmZvcm1hdEV4cGlyeSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9ybWF0RXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbDtcbiAgICAgICAgZGlnaXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgICAgICBpZiAoIS9eXFxkKyQvLnRlc3QoZGlnaXQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgdmFsID0gJHRhcmdldC52YWwoKSArIGRpZ2l0O1xuICAgICAgICBpZiAoL15cXGQkLy50ZXN0KHZhbCkgJiYgKHZhbCAhPT0gJzAnICYmIHZhbCAhPT0gJzEnKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKFwiMFwiICsgdmFsICsgXCIgLyBcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICgvXlxcZFxcZCQvLnRlc3QodmFsKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKFwiXCIgKyB2YWwgKyBcIiAvIFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZvcm1hdEZvcndhcmRFeHBpcnkgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciAkdGFyZ2V0LCBkaWdpdCwgdmFsO1xuICAgICAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgICAgIGlmICghL15cXGQrJC8udGVzdChkaWdpdCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICB2YWwgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgICBpZiAoL15cXGRcXGQkLy50ZXN0KHZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiAkdGFyZ2V0LnZhbChcIlwiICsgdmFsICsgXCIgLyBcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9ybWF0Rm9yd2FyZFNsYXNoQW5kU3BhY2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciAkdGFyZ2V0LCB2YWwsIHdoaWNoO1xuICAgICAgICB3aGljaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgICAgIGlmICghKHdoaWNoID09PSAnLycgfHwgd2hpY2ggPT09ICcgJykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICB2YWwgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgICBpZiAoL15cXGQkLy50ZXN0KHZhbCkgJiYgdmFsICE9PSAnMCcpIHtcbiAgICAgICAgICAgIHJldHVybiAkdGFyZ2V0LnZhbChcIjBcIiArIHZhbCArIFwiIC8gXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZvcm1hdEJhY2tFeHBpcnkgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICAgICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgICBpZiAoZS53aGljaCAhPT0gOCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9IG51bGwpICYmICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9cXGRcXHNcXC9cXHMkLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcZFxcc1xcL1xccyQvLCAnJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVGb3JtYXRDVkMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAgICAgICAgICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxEL2csICcnKS5zbGljZSgwLCA0KTtcbiAgICAgICAgICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXN0cmljdE51bWVyaWMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBpbnB1dDtcbiAgICAgICAgaWYgKGUubWV0YUtleSB8fCBlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLndoaWNoID09PSAzMikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLndoaWNoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS53aGljaCA8IDMzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgICAgIHJldHVybiAhIS9bXFxkXFxzXS8udGVzdChpbnB1dCk7XG4gICAgfTtcblxuICAgIHJlc3RyaWN0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyICR0YXJnZXQsIGNhcmQsIGRpZ2l0LCB2YWx1ZTtcbiAgICAgICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgZGlnaXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgICAgICBpZiAoIS9eXFxkKyQvLnRlc3QoZGlnaXQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc1RleHRTZWxlY3RlZCgkdGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gKCR0YXJnZXQudmFsKCkgKyBkaWdpdCkucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgICAgY2FyZCA9IGNhcmRGcm9tTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgaWYgKGNhcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPD0gY2FyZC5sZW5ndGhbY2FyZC5sZW5ndGgubGVuZ3RoIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUubGVuZ3RoIDw9IDE2O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJlc3RyaWN0RXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbHVlO1xuICAgICAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgICAgIGlmICghL15cXGQrJC8udGVzdChkaWdpdCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzVGV4dFNlbGVjdGVkKCR0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpICsgZGlnaXQ7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDYpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXN0cmljdENWQyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyICR0YXJnZXQsIGRpZ2l0LCB2YWw7XG4gICAgICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgIGRpZ2l0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgICAgICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNUZXh0U2VsZWN0ZWQoJHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YWwgPSAkdGFyZ2V0LnZhbCgpICsgZGlnaXQ7XG4gICAgICAgIHJldHVybiB2YWwubGVuZ3RoIDw9IDQ7XG4gICAgfTtcblxuICAgIHNldENhcmRUeXBlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgJHRhcmdldCwgYWxsVHlwZXMsIGNhcmQsIGNhcmRUeXBlLCB2YWw7XG4gICAgICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgIHZhbCA9ICR0YXJnZXQudmFsKCk7XG4gICAgICAgIGNhcmRUeXBlID0gJC5wYXltZW50LmNhcmRUeXBlKHZhbCkgfHwgJ3Vua25vd24nO1xuICAgICAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoY2FyZFR5cGUpKSB7XG4gICAgICAgICAgICBhbGxUeXBlcyA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2ksIF9sZW4sIF9yZXN1bHRzO1xuICAgICAgICAgICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBjYXJkcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBjYXJkID0gY2FyZHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICBfcmVzdWx0cy5wdXNoKGNhcmQudHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAkdGFyZ2V0LnJlbW92ZUNsYXNzKCd1bmtub3duJyk7XG4gICAgICAgICAgICAkdGFyZ2V0LnJlbW92ZUNsYXNzKGFsbFR5cGVzLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICAkdGFyZ2V0LmFkZENsYXNzKGNhcmRUeXBlKTtcbiAgICAgICAgICAgICR0YXJnZXQudG9nZ2xlQ2xhc3MoJ2lkZW50aWZpZWQnLCBjYXJkVHlwZSAhPT0gJ3Vua25vd24nKTtcbiAgICAgICAgICAgIHJldHVybiAkdGFyZ2V0LnRyaWdnZXIoJ3BheW1lbnQuY2FyZFR5cGUnLCBjYXJkVHlwZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgJC5wYXltZW50LmZuLmZvcm1hdENhcmRDVkMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5vbigna2V5cHJlc3MnLCByZXN0cmljdE51bWVyaWMpO1xuICAgICAgICB0aGlzLm9uKCdrZXlwcmVzcycsIHJlc3RyaWN0Q1ZDKTtcbiAgICAgICAgdGhpcy5vbigncGFzdGUnLCByZUZvcm1hdENWQyk7XG4gICAgICAgIHRoaXMub24oJ2NoYW5nZScsIHJlRm9ybWF0Q1ZDKTtcbiAgICAgICAgdGhpcy5vbignaW5wdXQnLCByZUZvcm1hdENWQyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAkLnBheW1lbnQuZm4uZm9ybWF0Q2FyZEV4cGlyeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLm9uKCdrZXlwcmVzcycsIHJlc3RyaWN0TnVtZXJpYyk7XG4gICAgICAgIHRoaXMub24oJ2tleXByZXNzJywgcmVzdHJpY3RFeHBpcnkpO1xuICAgICAgICB0aGlzLm9uKCdrZXlwcmVzcycsIGZvcm1hdEV4cGlyeSk7XG4gICAgICAgIHRoaXMub24oJ2tleXByZXNzJywgZm9ybWF0Rm9yd2FyZFNsYXNoQW5kU3BhY2UpO1xuICAgICAgICB0aGlzLm9uKCdrZXlwcmVzcycsIGZvcm1hdEZvcndhcmRFeHBpcnkpO1xuICAgICAgICB0aGlzLm9uKCdrZXlkb3duJywgZm9ybWF0QmFja0V4cGlyeSk7XG4gICAgICAgIHRoaXMub24oJ2NoYW5nZScsIHJlRm9ybWF0RXhwaXJ5KTtcbiAgICAgICAgdGhpcy5vbignaW5wdXQnLCByZUZvcm1hdEV4cGlyeSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAkLnBheW1lbnQuZm4uZm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLm9uKCdrZXlwcmVzcycsIHJlc3RyaWN0TnVtZXJpYyk7XG4gICAgICAgIHRoaXMub24oJ2tleXByZXNzJywgcmVzdHJpY3RDYXJkTnVtYmVyKTtcbiAgICAgICAgdGhpcy5vbigna2V5cHJlc3MnLCBmb3JtYXRDYXJkTnVtYmVyKTtcbiAgICAgICAgdGhpcy5vbigna2V5ZG93bicsIGZvcm1hdEJhY2tDYXJkTnVtYmVyKTtcbiAgICAgICAgdGhpcy5vbigna2V5dXAnLCBzZXRDYXJkVHlwZSk7XG4gICAgICAgIHRoaXMub24oJ3Bhc3RlJywgcmVGb3JtYXRDYXJkTnVtYmVyKTtcbiAgICAgICAgdGhpcy5vbignY2hhbmdlJywgcmVGb3JtYXRDYXJkTnVtYmVyKTtcbiAgICAgICAgdGhpcy5vbignaW5wdXQnLCByZUZvcm1hdENhcmROdW1iZXIpO1xuICAgICAgICB0aGlzLm9uKCdpbnB1dCcsIHNldENhcmRUeXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgICQucGF5bWVudC5mbi5yZXN0cmljdE51bWVyaWMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5vbigna2V5cHJlc3MnLCByZXN0cmljdE51bWVyaWMpO1xuICAgICAgICB0aGlzLm9uKCdwYXN0ZScsIHJlRm9ybWF0TnVtZXJpYyk7XG4gICAgICAgIHRoaXMub24oJ2NoYW5nZScsIHJlRm9ybWF0TnVtZXJpYyk7XG4gICAgICAgIHRoaXMub24oJ2lucHV0JywgcmVGb3JtYXROdW1lcmljKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgICQucGF5bWVudC5mbi5jYXJkRXhwaXJ5VmFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkLnBheW1lbnQuY2FyZEV4cGlyeVZhbCgkKHRoaXMpLnZhbCgpKTtcbiAgICB9O1xuXG4gICAgJC5wYXltZW50LmNhcmRFeHBpcnlWYWwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgbW9udGgsIHByZWZpeCwgeWVhciwgX3JlZjtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpO1xuICAgICAgICBfcmVmID0gdmFsdWUuc3BsaXQoJy8nLCAyKSwgbW9udGggPSBfcmVmWzBdLCB5ZWFyID0gX3JlZlsxXTtcbiAgICAgICAgaWYgKCh5ZWFyICE9IG51bGwgPyB5ZWFyLmxlbmd0aCA6IHZvaWQgMCkgPT09IDIgJiYgL15cXGQrJC8udGVzdCh5ZWFyKSkge1xuICAgICAgICAgICAgcHJlZml4ID0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgcHJlZml4ID0gcHJlZml4LnRvU3RyaW5nKCkuc2xpY2UoMCwgMik7XG4gICAgICAgICAgICB5ZWFyID0gcHJlZml4ICsgeWVhcjtcbiAgICAgICAgfVxuICAgICAgICBtb250aCA9IHBhcnNlSW50KG1vbnRoLCAxMCk7XG4gICAgICAgIHllYXIgPSBwYXJzZUludCh5ZWFyLCAxMCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb250aDogbW9udGgsXG4gICAgICAgICAgICB5ZWFyOiB5ZWFyXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgICQucGF5bWVudC52YWxpZGF0ZUNhcmROdW1iZXIgPSBmdW5jdGlvbihudW0pIHtcbiAgICAgICAgdmFyIGNhcmQsIF9yZWY7XG4gICAgICAgIG51bSA9IChudW0gKyAnJykucmVwbGFjZSgvXFxzK3wtL2csICcnKTtcbiAgICAgICAgaWYgKCEvXlxcZCskLy50ZXN0KG51bSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkID0gY2FyZEZyb21OdW1iZXIobnVtKTtcbiAgICAgICAgaWYgKCFjYXJkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfcmVmID0gbnVtLmxlbmd0aCwgX19pbmRleE9mLmNhbGwoY2FyZC5sZW5ndGgsIF9yZWYpID49IDApICYmIChjYXJkLmx1aG4gPT09IGZhbHNlIHx8IGx1aG5DaGVjayhudW0pKTtcbiAgICB9O1xuXG4gICAgJC5wYXltZW50LnZhbGlkYXRlQ2FyZEV4cGlyeSA9IGZ1bmN0aW9uKG1vbnRoLCB5ZWFyKSB7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSwgZXhwaXJ5LCBfcmVmO1xuICAgICAgICBpZiAodHlwZW9mIG1vbnRoID09PSAnb2JqZWN0JyAmJiAnbW9udGgnIGluIG1vbnRoKSB7XG4gICAgICAgICAgICBfcmVmID0gbW9udGgsIG1vbnRoID0gX3JlZi5tb250aCwgeWVhciA9IF9yZWYueWVhcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShtb250aCAmJiB5ZWFyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG1vbnRoID0gJC50cmltKG1vbnRoKTtcbiAgICAgICAgeWVhciA9ICQudHJpbSh5ZWFyKTtcbiAgICAgICAgaWYgKCEvXlxcZCskLy50ZXN0KG1vbnRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghL15cXGQrJC8udGVzdCh5ZWFyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKCgxIDw9IG1vbnRoICYmIG1vbnRoIDw9IDEyKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeWVhci5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGlmICh5ZWFyIDwgNzApIHtcbiAgICAgICAgICAgICAgICB5ZWFyID0gXCIyMFwiICsgeWVhcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeWVhciA9IFwiMTlcIiArIHllYXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHllYXIubGVuZ3RoICE9PSA0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZXhwaXJ5ID0gbmV3IERhdGUoeWVhciwgbW9udGgpO1xuICAgICAgICBjdXJyZW50VGltZSA9IG5ldyBEYXRlO1xuICAgICAgICBleHBpcnkuc2V0TW9udGgoZXhwaXJ5LmdldE1vbnRoKCkgLSAxKTtcbiAgICAgICAgZXhwaXJ5LnNldE1vbnRoKGV4cGlyeS5nZXRNb250aCgpICsgMSwgMSk7XG4gICAgICAgIHJldHVybiBleHBpcnkgPiBjdXJyZW50VGltZTtcbiAgICB9O1xuXG4gICAgJC5wYXltZW50LnZhbGlkYXRlQ2FyZENWQyA9IGZ1bmN0aW9uKGN2YywgdHlwZSkge1xuICAgICAgICB2YXIgY2FyZCwgX3JlZjtcbiAgICAgICAgY3ZjID0gJC50cmltKGN2Yyk7XG4gICAgICAgIGlmICghL15cXGQrJC8udGVzdChjdmMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2FyZCA9IGNhcmRGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgaWYgKGNhcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWYgPSBjdmMubGVuZ3RoLCBfX2luZGV4T2YuY2FsbChjYXJkLmN2Y0xlbmd0aCwgX3JlZikgPj0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjdmMubGVuZ3RoID49IDMgJiYgY3ZjLmxlbmd0aCA8PSA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICQucGF5bWVudC5jYXJkVHlwZSA9IGZ1bmN0aW9uKG51bSkge1xuICAgICAgICB2YXIgX3JlZjtcbiAgICAgICAgaWYgKCFudW0pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKF9yZWYgPSBjYXJkRnJvbU51bWJlcihudW0pKSAhPSBudWxsID8gX3JlZi50eXBlIDogdm9pZCAwKSB8fCBudWxsO1xuICAgIH07XG5cbiAgICAkLnBheW1lbnQuZm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKG51bSkge1xuICAgICAgICB2YXIgY2FyZCwgZ3JvdXBzLCB1cHBlckxlbmd0aCwgX3JlZjtcbiAgICAgICAgbnVtID0gbnVtLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICAgIGNhcmQgPSBjYXJkRnJvbU51bWJlcihudW0pO1xuICAgICAgICBpZiAoIWNhcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBudW07XG4gICAgICAgIH1cbiAgICAgICAgdXBwZXJMZW5ndGggPSBjYXJkLmxlbmd0aFtjYXJkLmxlbmd0aC5sZW5ndGggLSAxXTtcbiAgICAgICAgbnVtID0gbnVtLnNsaWNlKDAsIHVwcGVyTGVuZ3RoKTtcbiAgICAgICAgaWYgKGNhcmQuZm9ybWF0Lmdsb2JhbCkge1xuICAgICAgICAgICAgcmV0dXJuIChfcmVmID0gbnVtLm1hdGNoKGNhcmQuZm9ybWF0KSkgIT0gbnVsbCA/IF9yZWYuam9pbignICcpIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ3JvdXBzID0gY2FyZC5mb3JtYXQuZXhlYyhudW0pO1xuICAgICAgICAgICAgaWYgKGdyb3VwcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3JvdXBzLnNoaWZ0KCk7XG4gICAgICAgICAgICBncm91cHMgPSAkLmdyZXAoZ3JvdXBzLCBmdW5jdGlvbihuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBncm91cHMuam9pbignICcpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICQucGF5bWVudC5mb3JtYXRFeHBpcnkgPSBmdW5jdGlvbihleHBpcnkpIHtcbiAgICAgICAgdmFyIG1vbiwgcGFydHMsIHNlcCwgeWVhcjtcbiAgICAgICAgcGFydHMgPSBleHBpcnkubWF0Y2goL15cXEQqKFxcZHsxLDJ9KShcXEQrKT8oXFxkezEsNH0pPy8pO1xuICAgICAgICBpZiAoIXBhcnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgbW9uID0gcGFydHNbMV0gfHwgJyc7XG4gICAgICAgIHNlcCA9IHBhcnRzWzJdIHx8ICcnO1xuICAgICAgICB5ZWFyID0gcGFydHNbM10gfHwgJyc7XG4gICAgICAgIGlmICh5ZWFyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlcCA9ICcgLyAnO1xuICAgICAgICB9IGVsc2UgaWYgKHNlcCA9PT0gJyAvJykge1xuICAgICAgICAgICAgbW9uID0gbW9uLnN1YnN0cmluZygwLCAxKTtcbiAgICAgICAgICAgIHNlcCA9ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKG1vbi5sZW5ndGggPT09IDIgfHwgc2VwLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlcCA9ICcgLyAnO1xuICAgICAgICB9IGVsc2UgaWYgKG1vbi5sZW5ndGggPT09IDEgJiYgKG1vbiAhPT0gJzAnICYmIG1vbiAhPT0gJzEnKSkge1xuICAgICAgICAgICAgbW9uID0gXCIwXCIgKyBtb247XG4gICAgICAgICAgICBzZXAgPSAnIC8gJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW9uICsgc2VwICsgeWVhcjtcbiAgICB9O1xuXG59KS5jYWxsKHRoaXMpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vanMvanF1ZXJ5LnBheW1lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDk5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IDEwIiwibW9kdWxlLmV4cG9ydHM9e1widlwiOjMsXCJ0XCI6W3tcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpbXCJ1aSBpbnB1dCBcIix7XCJ0XCI6MixcInJcIjpcImNsYXNzXCJ9LFwiIFwiLHtcInRcIjo0LFwiZlwiOltcImVycm9yXCJdLFwiblwiOjUwLFwiclwiOlwiZXJyb3JcIn0sXCIgXCIse1widFwiOjIsXCJ4XCI6e1wiclwiOltcImNsYXNzZXNcIixcInN0YXRlXCIsXCJsYXJnZVwiLFwidmFsdWVcIl0sXCJzXCI6XCJfMChfMSxfMixfMylcIn19XX0sXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJ1aSBwbGFjZWhvbGRlclwifSxcImZcIjpbe1widFwiOjIsXCJyXCI6XCJwbGFjZWhvbGRlclwifV19XSxcIm5cIjo1MCxcInJcIjpcImxhcmdlXCJ9LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiaW5wdXRcIixcImFcIjp7XCJ0eXBlXCI6W3tcInRcIjo0LFwiZlwiOltcInRleHRcIl0sXCJuXCI6NTAsXCJyXCI6XCJkaXNhYmxlZFwifSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbXCJ0ZWxcIl0sXCJyXCI6XCJkaXNhYmxlZFwifV0sXCJuYW1lXCI6W3tcInRcIjoyLFwiclwiOlwibmFtZVwifV0sXCJ2YWx1ZVwiOlt7XCJ0XCI6MixcInJcIjpcInZhbHVlXCJ9XX0sXCJtXCI6W3tcInRcIjo0LFwiZlwiOltcInBsYWNlaG9sZGVyPVxcXCJcIix7XCJ0XCI6MixcInJcIjpcInBsYWNlaG9sZGVyXCJ9LFwiXFxcIlwiXSxcIm5cIjo1MSxcInJcIjpcImxhcmdlXCJ9LHtcInRcIjo0LFwiZlwiOltcImRpc2FibGVkXCJdLFwiblwiOjUwLFwiclwiOlwiZGlzYWJsZWRcIn0se1widFwiOjQsXCJmXCI6W1wiZGlzYWJsZWQ9XFxcImRpc2FibGVkXFxcIlwiXSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wic3RhdGUuZGlzYWJsZWRcIixcInN0YXRlLnN1Ym1pdHRpbmdcIl0sXCJzXCI6XCJfMHx8XzFcIn19XX0sXCIgXCIse1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidWxcIixcImFcIjp7XCJjbGFzc1wiOlwiY2FyZExpc3QgY2xlYXJGaXggZkxlZnRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwibGlcIixcImFcIjp7XCJjbGFzc1wiOltcImNhcmRUeXBlIFwiLHtcInRcIjoyLFwiclwiOlwiY2N0eXBlXCJ9XX0sXCJmXCI6W3tcInRcIjoyLFwiclwiOlwiY2N0eXBlXCJ9XX1dfV0sXCJuXCI6NTAsXCJyXCI6XCJjY3R5cGVcIn0se1widFwiOjQsXCJuXCI6NTEsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwidWxcIixcImFcIjp7XCJjbGFzc1wiOlwiY2FyZExpc3QgY2xlYXJGaXggZkxlZnRcIn0sXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwibGlcIixcImFcIjp7XCJjbGFzc1wiOlwiY2FyZFR5cGUgdmlzYVwifSxcImZcIjpbXCJWaXNhXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImxpXCIsXCJhXCI6e1wiY2xhc3NcIjpcImNhcmRUeXBlIG1hc3RlclwifSxcImZcIjpbXCJNYXN0ZXJjYXJkXCJdfSxcIiBcIix7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJsaVwiLFwiYVwiOntcImNsYXNzXCI6XCJjYXJkVHlwZSBydXBheVwifSxcImZcIjpbXCJSdXBheVwiXX1dLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJjYXJkVHlwZVwiXSxcInNcIjpcIjEhPV8wJiY1IT1fMFwifX0sXCIgXCIse1widFwiOjQsXCJmXCI6W3tcInRcIjo3LFwiZVwiOlwibGlcIixcImFcIjp7XCJjbGFzc1wiOlwiY2FyZFR5cGUgYW1leFwifSxcImZcIjpbXCJBbWVyaWNhbiBFeHByZXNzXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImxpXCIsXCJhXCI6e1wiY2xhc3NcIjpcImNhcmRUeXBlIGRpbmVyc1wifSxcImZcIjpbXCJEaW5lcnNcIl19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiY2FyZFR5cGVcIl0sXCJzXCI6XCIxPT1fMHx8NT09XzBcIn19XX1dLFwiclwiOlwiY2N0eXBlXCJ9XX1dfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL3RlbXBsYXRlcy9jb21wb25lbnRzL2Zvcm0vY2MuaHRtbFxuLy8gbW9kdWxlIGlkID0gMTAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IDEwIiwiJ3VzZSBzdHJpY3QnO1xuXG4vL3JlcXVpcmUoJ2pxdWVyeS5wYXltZW50Jyk7XG5yZXF1aXJlKCcuLi8uLi8uLi8uLi8uLi9qcy9qcXVlcnkucGF5bWVudCcpO1xudmFyIElucHV0ID0gcmVxdWlyZSgnLi4vaW5wdXQnKSxcbiAgICAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gSW5wdXQuZXh0ZW5kKHtcbiAgICBkYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICB0eXBlOiAndGVsJ1xuICAgICAgICAgICAvLyB0eXBlOiAncGFzc3dvcmQnXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9zdXBlcigpO1xuICAgICAgICAkKHRoaXMuZmluZCgnaW5wdXQnKSkucGF5bWVudCgnZm9ybWF0Q2FyZENWQycpO1xuICAgICAgICBcbiAgICB9LFxuXG4gICAgb250ZWFkb3duOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzLmZpbmQoJ2lucHV0JykpLnBheW1lbnQoJ2Rlc3Ryb3knKTtcbiAgICB9XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvcmUvZm9ybS9jYy9jdnYuanNcbi8vIG1vZHVsZSBpZCA9IDEwMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSAxMCIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnanF1ZXJ5LnBheW1lbnQnKTtcblxudmFyIElucHV0ID0gcmVxdWlyZSgnLi4vaW5wdXQnKSxcbiAgICAgICAgIF8gPSByZXF1aXJlKCdsb2Rhc2gnKSxcbiAgICAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gSW5wdXQuZXh0ZW5kKHtcbiAgICBkYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICB0eXBlOiAndGVsJ1xuICAgICAgICAgICAvLyB0eXBlOiAncGFzc3dvcmQnXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9zdXBlcigpO1xuICAgICAgICB2YXIgdmlldz10aGlzO1xuICAgICAgICAkKHRoaXMuZmluZCgnaW5wdXQnKSkucGF5bWVudCgnZm9ybWF0Q2FyZEV4cGlyeScpO1xuICAgICAgICAkKHRoaXMuZmluZCgnaW5wdXQnKSkua2V5dXAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYm9va2luZyA9IHZpZXcuZ2V0KCdib29raW5nJyk7XG4gICAgICAgIFxuICAgICAgICB2YXIgY2FyZGV4cGlyeT0kKHZpZXcuZmluZCgnaW5wdXQnKSkudmFsKCk7XG4gICAgIC8vICAgY29uc29sZS5sb2coY2FyZGV4cGlyeSk7XG4gICAgICAgIGlmKGNhcmRleHBpcnkgIT1udWxsICYmIGNhcmRleHBpcnkgIT0nJyl7XG4gICAgICAgICAgICBjYXJkZXhwaXJ5LnJlcGxhY2UoLyAvZywnJyk7XG4gICAgICAgICAgICB2YXIgY2FyZGFycj1jYXJkZXhwaXJ5LnNwbGl0KCcvJyk7XG4gICAgICAgICAgICBpZihjYXJkYXJyWzBdIT0gbnVsbCl7XG4gICAgICAgICAgICBib29raW5nLnNldCgncGF5bWVudC5jYy5leHBfbW9udGgnLF8ucGFyc2VJbnQoY2FyZGFyclswXSkpO31cbiAgICAgICAgaWYoY2FyZGFyclsxXSE9IG51bGwpe1xuICAgICAgICAgICAgdmFyIGxlbj1jYXJkYXJyWzFdLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjYXJkeWVhcj1fLnBhcnNlSW50KGNhcmRhcnJbMV0pO1xuICAgICAgICAgICAgaWYoY2FyZHllYXI8MTAwKXtcbiAgICAgICAgICAgICAgICBjYXJkeWVhcj0yMDAwK2NhcmR5ZWFyO1xuICAgICAgICAgICAgfWVsc2UgaWYoY2FyZHllYXI8MTAwMCl7XG4gICAgICAgICAgICAgICAgY2FyZHllYXI9MjAwMCtjYXJkeWVhcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgY29uc29sZS5sb2coY2FyZHllYXIpO1xuICAgICAgICAgICAgYm9va2luZy5zZXQoJ3BheW1lbnQuY2MuZXhwX3llYXInLGNhcmR5ZWFyKTt9XG4gICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgb250ZWFkb3duOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzLmZpbmQoJ2lucHV0JykpLnBheW1lbnQoJ2Rlc3Ryb3knKTtcbiAgICB9XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvcmUvZm9ybS9jYy9jYXJkZXhwaXJ5LmpzXG4vLyBtb2R1bGUgaWQgPSAxMDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDUiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJylcbiAgICA7XG5cbnZhciBGb3JtID0gcmVxdWlyZSgnY29yZS9mb3JtJyksXG5cbiAgICBoX21vbmV5ID0gcmVxdWlyZSgnaGVscGVycy9tb25leScpKCksXG4gICAgaF9kdXJhdGlvbiA9IHJlcXVpcmUoJ2hlbHBlcnMvZHVyYXRpb24nKSgpLFxuICAgIGhfZGF0ZSA9IHJlcXVpcmUoJ2hlbHBlcnMvZGF0ZScpKClcbiAgICA7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBGb3JtLmV4dGVuZCh7XG4gICAgaXNvbGF0ZWQ6IHRydWUsXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ3RlbXBsYXRlcy9mbGlnaHRzL2Jvb2tpbmcvc3RlcDQuaHRtbCcpLFxuICAgIGJhY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmdldCgnYm9va2luZycpLmFjdGl2YXRlKDMpO1xuICAgIH0sXG4gICAgICAgIFxuICAgfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21wb25lbnRzL2ZsaWdodHMvYm9va2luZy9zdGVwNC5qc1xuLy8gbW9kdWxlIGlkID0gMTAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1IiwibW9kdWxlLmV4cG9ydHM9e1widlwiOjMsXCJ0XCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwic3RlcCBoZWFkZXIgc3RlcDQgYWN0aXZlXCIsXCJyb2xlXCI6XCJ0YWJcIn0sXCJmXCI6W1wiQm9va2luZ1wiXX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJmb3JtXCIsXCJhXCI6e1wiYWN0aW9uXCI6XCJqYXZhc2NyaXB0OjtcIixcImNsYXNzXCI6XCJ1aSBmb3JtIHNlZ21lbnQgc3RlcDRcIixcInN0eWxlXCI6XCJoZWlnaHQ6IDQwMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCJ9LFwiZlwiOlt7XCJ0XCI6NCxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwiYm9va2luZy1pZFwifSxcImZcIjpbXCJCb29raW5nIElEOiBcIix7XCJ0XCI6MixcInJcIjpcImJvb2tpbmcuYWlyY2FydF9pZFwifV19LFwiIFwiLHtcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJtZXNzYWdlXCJ9LFwiZlwiOltcIldlIGhhdmUgcmVjZWl2ZWQgeW91ciBQYXltZW50IGFuZCB5b3VyIEJvb2tpbmcgaXMgaW4gcHJvY2Vzcywgb3VyIGN1c3RvbWVyIHN1cHBvcnQgdGVhbSB3aWxsIGNvbnRhY3QgeW91IHNob3J0bHkuIE9yIENhbGwgb3VyIGN1c3RvbWVyIHN1cHBvcnQgdGVhbSBmb3IgbW9yZSBkZXRhaWwuXCJdfSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImJyXCJ9LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiYVwiLFwiYVwiOntcImhyZWZcIjpbXCIvYjJjL2FpckNhcnQvbXlib29raW5ncy9cIix7XCJ0XCI6MixcInJcIjpcImJvb2tpbmcuYWlyY2FydF9pZFwifV19LFwiZlwiOltcIlZpZXcgeW91ciB0aWNrZXRcIl19XSxcIm5cIjo1MCxcInhcIjp7XCJyXCI6W1wiYm9va2luZ1wiLFwiYm9va2luZy5haXJjYXJ0X3N0YXR1c1wiXSxcInNcIjpcIl8wLmlzTmV3KF8xKVwifX0se1widFwiOjQsXCJuXCI6NTEsXCJmXCI6W3tcInRcIjo0LFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJtZXNzYWdlXCJ9LFwiZlwiOltcIllvdXIgQm9va2luZyBpcyBTdWNjZXNzZnVsIVwiXX1dLFwiblwiOjUwLFwieFwiOntcInJcIjpbXCJib29raW5nXCIsXCJib29raW5nLmFpcmNhcnRfc3RhdHVzXCJdLFwic1wiOlwiXzAuaXNCb29rZWQoXzEpXCJ9fSx7XCJ0XCI6NCxcIm5cIjo1MSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwibWVzc2FnZVwifSxcImZcIjpbXCJZb3VyIEJvb2tpbmcgaXMgaW4gcHJvY2VzcyFcIl19XSxcInhcIjp7XCJyXCI6W1wiYm9va2luZ1wiLFwiYm9va2luZy5haXJjYXJ0X3N0YXR1c1wiXSxcInNcIjpcIl8wLmlzQm9va2VkKF8xKVwifX0sXCIgXCIse1widFwiOjcsXCJlXCI6XCJiclwifSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImFcIixcImFcIjp7XCJocmVmXCI6W1wiL2IyYy9haXJDYXJ0L215Ym9va2luZ3MvXCIse1widFwiOjIsXCJyXCI6XCJib29raW5nLmFpcmNhcnRfaWRcIn1dfSxcImZcIjpbXCJWaWV3IHlvdXIgdGlja2V0XCJdfV0sXCJ4XCI6e1wiclwiOltcImJvb2tpbmdcIixcImJvb2tpbmcuYWlyY2FydF9zdGF0dXNcIl0sXCJzXCI6XCJfMC5pc05ldyhfMSlcIn19XSxcIm5cIjo1MCxcInJcIjpcInN0ZXAuY29tcGxldGVkXCJ9LHtcInRcIjo0LFwiblwiOjUxLFwiZlwiOlt7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcImNsYXNzXCI6XCJwYXltZW50X2xvYWRlclwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwidWkgYWN0aXZlIGludmVydGVkIGRpbW1lclwifSxcImZcIjpbe1widFwiOjcsXCJlXCI6XCJkaXZcIixcImFcIjp7XCJjbGFzc1wiOlwid2FpdF90ZXh0XCIsXCJzdHlsZVwiOlwibWFyZ2luLXRvcDo1NXB4O1wifSxcImZcIjpbXCJQbGVhc2UgV2FpdFwiXX0se1widFwiOjcsXCJlXCI6XCJiclwifSxcIiBcIix7XCJ0XCI6NyxcImVcIjpcImRpdlwiLFwiYVwiOntcInN0eWxlXCI6XCJmb250LXNpemU6MTdweDtcIn0sXCJmXCI6W1wiWW91ciBib29raW5nIGlzIGluIHByb2dyZXNzLlwiXX0se1widFwiOjcsXCJlXCI6XCJiclwifSx7XCJ0XCI6NyxcImVcIjpcImJyXCJ9LFwiIFwiLHtcInRcIjo3LFwiZVwiOlwiZGl2XCIsXCJhXCI6e1wiY2xhc3NcIjpcInVpIHRleHQgbG9hZGVyIGxvYWRlcl9wb3NpdGlvblwifX1dfV19XSxcInJcIjpcInN0ZXAuY29tcGxldGVkXCJ9XX1dLFwiblwiOjUwLFwiclwiOlwic3RlcC5hY3RpdmVcIn1dLFwieFwiOntcInJcIjpbXCJib29raW5nLnN0ZXBzLjRcIl0sXCJzXCI6XCJ7c3RlcDpfMH1cIn19XX07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9hcHAvd2ViL21vZHVsZS90ZW1wbGF0ZXMvZmxpZ2h0cy9ib29raW5nL3N0ZXA0Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDEwNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNSIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9sZXNzL3dlYi9tb2R1bGVzL2Jvb2tpbmcubGVzc1xuLy8gbW9kdWxlIGlkID0gMTA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCA1Il0sInNvdXJjZVJvb3QiOiIifQ==